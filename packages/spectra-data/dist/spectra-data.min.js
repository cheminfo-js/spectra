var _NumberisFinite=Number.isFinite,_Mathsign=Math.sign,_Mathlog2=Math.log10,_NumberMIN_VALUE=Number.MIN_VALUE,_NumberMIN_SAFE_INTEGER=Number.MIN_SAFE_INTEGER,_NumberMAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER,_Mathsin=Math.sin,_MathPI=Math.PI,_Mathexp=Math.exp,_Mathceil=Math.ceil,_Mathlog=Math.log,_Mathpow=Math.pow,_NumberMAX_VALUE=Number.MAX_VALUE,_Mathsqrt=Math.sqrt,_NumberEPSILON=Number.EPSILON,_Mathmax=Math.max,_Mathabs=Math.abs,_Mathround=Math.round,_NumberisInteger=Number.isInteger,_Mathfloor=Math.floor,_Mathmin=Math.min,_StringfromCharCode=String.fromCharCode;(function(E,I){'object'==typeof exports&&'object'==typeof module?module.exports=I():'function'==typeof define&&define.amd?define([],I):'object'==typeof exports?exports.spectraData=I():E.spectraData=I()})(this,function(){return function(D){function E(P){if(I[P])return I[P].exports;var T=I[P]={i:P,l:!1,exports:{}};return D[P].call(T.exports,T,T.exports,E),T.l=!0,T.exports}var I={};return E.m=D,E.c=I,E.i=function(P){return P},E.d=function(P,T,R){E.o(P,T)||Object.defineProperty(P,T,{configurable:!1,enumerable:!0,get:R})},E.n=function(P){var T=P&&P.__esModule?function(){return P['default']}:function(){return P};return E.d(T,'a',T),T},E.o=function(P,T){return Object.prototype.hasOwnProperty.call(P,T)},E.p='',E(E.s=141)}([function(D,E,I){'use strict';function P(K){return K}function T(K,Q){for(var G=0;G<K.length;++G)Q[G]=255&K.charCodeAt(G);return Q}function R(K){var Q=65536,G=[],ee=K.length,te=E.getTypeOf(K),ne=0,oe=!0;try{'uint8array'===te?_StringfromCharCode.apply(null,new Uint8Array(0)):'nodebuffer'===te?_StringfromCharCode.apply(null,Z(0)):void 0}catch(le){oe=!1}if(!oe){for(var se='',ae=0;ae<K.length;ae++)se+=_StringfromCharCode(K[ae]);return se}for(;ne<ee&&1<Q;)try{'array'===te||'nodebuffer'===te?G.push(_StringfromCharCode.apply(null,K.slice(ne,_Mathmin(ne+Q,ee)))):G.push(_StringfromCharCode.apply(null,K.subarray(ne,_Mathmin(ne+Q,ee)))),ne+=Q}catch(le){Q=_Mathfloor(Q/2)}return G.join('')}function F(K,Q){for(var G=0;G<K.length;G++)Q[G]=K[G];return Q}var O=I(6),$=I(19),Z=I(20);E.string2binary=function(K){for(var Q='',G=0;G<K.length;G++)Q+=_StringfromCharCode(255&K.charCodeAt(G));return Q},E.arrayBuffer2Blob=function(K,Q){E.checkSupport('blob'),Q=Q||'application/zip';try{return new Blob([K],{type:Q})}catch(te){try{var G=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,ee=new G;return ee.append(K),ee.getBlob(Q)}catch(ne){throw new Error('Bug : can\'t construct the Blob.')}}},E.applyFromCharCode=R;var W={};W.string={string:P,array:function(K){return T(K,Array(K.length))},arraybuffer:function(K){return W.string.uint8array(K).buffer},uint8array:function(K){return T(K,new Uint8Array(K.length))},nodebuffer:function(K){return T(K,Z(K.length))}},W.array={string:R,array:P,arraybuffer:function(K){return new Uint8Array(K).buffer},uint8array:function(K){return new Uint8Array(K)},nodebuffer:function(K){return Z(K)}},W.arraybuffer={string:function(K){return R(new Uint8Array(K))},array:function(K){return F(new Uint8Array(K),Array(K.byteLength))},arraybuffer:P,uint8array:function(K){return new Uint8Array(K)},nodebuffer:function(K){return Z(new Uint8Array(K))}},W.uint8array={string:R,array:function(K){return F(K,Array(K.length))},arraybuffer:function(K){return K.buffer},uint8array:P,nodebuffer:function(K){return Z(K)}},W.nodebuffer={string:R,array:function(K){return F(K,Array(K.length))},arraybuffer:function(K){return W.nodebuffer.uint8array(K).buffer},uint8array:function(K){return F(K,new Uint8Array(K.length))},nodebuffer:P},E.transformTo=function(K,Q){if(Q||(Q=''),!K)return Q;E.checkSupport(K);var G=E.getTypeOf(Q),ee=W[G][K](Q);return ee},E.getTypeOf=function(K){return'string'==typeof K?'string':'[object Array]'===Object.prototype.toString.call(K)?'array':O.nodebuffer&&Z.test(K)?'nodebuffer':O.uint8array&&K instanceof Uint8Array?'uint8array':O.arraybuffer&&K instanceof ArrayBuffer?'arraybuffer':void 0},E.checkSupport=function(K){var Q=O[K.toLowerCase()];if(!Q)throw new Error(K+' is not supported by this browser')},E.MAX_VALUE_16BITS=65535,E.MAX_VALUE_32BITS=-1,E.pretty=function(K){var Q='',G,ee;for(ee=0;ee<(K||'').length;ee++)G=K.charCodeAt(ee),Q+='\\x'+(16>G?'0':'')+G.toString(16).toUpperCase();return Q},E.findCompression=function(K){for(var Q in $)if($.hasOwnProperty(Q)&&$[Q].magic===K)return $[Q];return null},E.isRegExp=function(K){return'[object RegExp]'===Object.prototype.toString.call(K)},E.extend=function(){var K={},Q,G;for(Q=0;Q<arguments.length;Q++)for(G in arguments[Q])arguments[Q].hasOwnProperty(G)&&'undefined'==typeof K[G]&&(K[G]=arguments[Q][G]);return K}},function(D,E,I){'use strict';var P=I(87),T=I.n(P),R=I(11),F=I(8);class O extends I.i(R.a)(Array){constructor($,Z){var W;if(1===arguments.length&&'number'==typeof $)return Array($);if(O.isMatrix($))return $.clone();if(_NumberisInteger($)&&0<$){if(super($),_NumberisInteger(Z)&&0<Z)for(W=0;W<$;W++)this[W]=Array(Z);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray($)){const K=$;if($=K.length,Z=K[0].length,'number'!=typeof Z||0===Z)throw new TypeError('Data must be a 2D array with at least one element');for(super($),W=0;W<$;W++){if(K[W].length!==Z)throw new RangeError('Inconsistent array dimensions');this[W]=[].concat(K[W])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=$,this.columns=Z,this}set($,Z,W){return this[$][Z]=W,this}get($,Z){return this[$][Z]}clone(){for(var $=new this.constructor[Symbol.species](this.rows,this.columns),Z=0;Z<this.rows;Z++)for(var W=0;W<this.columns;W++)$.set(Z,W,this.get(Z,W));return $}removeRow($){if(I.i(F.a)(this,$),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice($,1),this.rows-=1,this}addRow($,Z){return void 0===Z&&(Z=$,$=this.rows),I.i(F.a)(this,$,!0),Z=I.i(F.b)(this,Z,!0),this.splice($,0,Z),this.rows+=1,this}removeColumn($){if(I.i(F.c)(this,$),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var Z=0;Z<this.rows;Z++)this[Z].splice($,1);return this.columns-=1,this}addColumn($,Z){'undefined'==typeof Z&&(Z=$,$=this.columns),I.i(F.c)(this,$,!0),Z=I.i(F.d)(this,Z);for(var W=0;W<this.rows;W++)this[W].splice($,0,Z[W]);return this.columns+=1,this}}E.a=O},function(D,E,I){'use strict';I(112);var P=I(36),T=I(9);class R extends P(Array){constructor(F,O){var $;if(1===arguments.length&&'number'==typeof F)return Array(F);if(R.isMatrix(F))return F.clone();if(_NumberisInteger(F)&&0<F){if(super(F),_NumberisInteger(O)&&0<O)for($=0;$<F;$++)this[$]=Array(O);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(F)){const Z=F;if(F=Z.length,O=Z[0].length,'number'!=typeof O||0===O)throw new TypeError('Data must be a 2D array with at least one element');for(super(F),$=0;$<F;$++){if(Z[$].length!==O)throw new RangeError('Inconsistent array dimensions');this[$]=[].concat(Z[$])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=F,this.columns=O,this}set(F,O,$){return this[F][O]=$,this}get(F,O){return this[F][O]}clone(){for(var F=new this.constructor[Symbol.species](this.rows,this.columns),O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)F.set(O,$,this.get(O,$));return F}removeRow(F){if(T.checkRowIndex(this,F),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(F,1),this.rows-=1,this}addRow(F,O){return void 0===O&&(O=F,F=this.rows),T.checkRowIndex(this,F,!0),O=T.checkRowVector(this,O,!0),this.splice(F,0,O),this.rows+=1,this}removeColumn(F){if(T.checkColumnIndex(this,F),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var O=0;O<this.rows;O++)this[O].splice(F,1);return this.columns-=1,this}addColumn(F,O){'undefined'==typeof O&&(O=F,F=this.columns),T.checkColumnIndex(this,F,!0),O=T.checkColumnVector(this,O);for(var $=0;$<this.rows;$++)this[$].splice(F,0,O[$]);return this.columns+=1,this}}E.Matrix=R,R.abstractMatrix=P},function(D,E){'use strict';var P='undefined'!=typeof Uint8Array&&'undefined'!=typeof Uint16Array&&'undefined'!=typeof Int32Array;E.assign=function(F){for(var O=Array.prototype.slice.call(arguments,1),$;O.length;)if($=O.shift(),!!$){if('object'!=typeof $)throw new TypeError($+'must be non-object');for(var Z in $)$.hasOwnProperty(Z)&&(F[Z]=$[Z])}return F},E.shrinkBuf=function(F,O){return F.length===O?F:F.subarray?F.subarray(0,O):(F.length=O,F)};var T={arraySet:function(F,O,$,Z,W){if(O.subarray&&F.subarray)return void F.set(O.subarray($,$+Z),W);for(var K=0;K<Z;K++)F[W+K]=O[$+K]},flattenChunks:function(F){var O,$,Z,W,K,Q;for(Z=0,O=0,$=F.length;O<$;O++)Z+=F[O].length;for(Q=new Uint8Array(Z),W=0,(O=0,$=F.length);O<$;O++)K=F[O],Q.set(K,W),W+=K.length;return Q}},R={arraySet:function(F,O,$,Z,W){for(var K=0;K<Z;K++)F[W+K]=O[$+K]},flattenChunks:function(F){return[].concat.apply([],F)}};E.setTyped=function(F){F?(E.Buf8=Uint8Array,E.Buf16=Uint16Array,E.Buf32=Int32Array,E.assign(E,T)):(E.Buf8=Array,E.Buf16=Array,E.Buf32=Array,E.assign(E,R))},E.setTyped(P)},function(D,E,I){'use strict';var P=I(11),T=I(1);class R extends I.i(P.a)(){constructor(F,O,$){super(),this.matrix=F,this.rows=O,this.columns=$}static get[Symbol.species](){return T.a}}E.a=R},function(D,E,I){'use strict';var P=I(36),T=I(2);class R extends P(){constructor(F,O,$){super(),this.matrix=F,this.rows=O,this.columns=$}static get[Symbol.species](){return T.Matrix}}D.exports=R},function(D,E,I){'use strict';(function(P){if(E.base64=!0,E.array=!0,E.string=!0,E.arraybuffer='undefined'!=typeof ArrayBuffer&&'undefined'!=typeof Uint8Array,E.nodebuffer='undefined'!=typeof P,E.uint8array='undefined'!=typeof Uint8Array,'undefined'==typeof ArrayBuffer)E.blob=!1;else{var T=new ArrayBuffer(0);try{E.blob=0===new Blob([T],{type:'application/zip'}).size}catch(O){try{var R=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,F=new R;F.append(T),E.blob=0===F.getBlob('application/zip').size}catch($){E.blob=!1}}}}).call(E,I(25).Buffer)},function(D,E,I){'use strict';E.array=I(60),E.matrix=I(175)},function(D,E,I){'use strict';E.a=function(ee,te,ne){var oe=ne?ee.rows:ee.rows-1;if(0>te||te>oe)throw new RangeError('Row index out of range')},E.c=function(ee,te,ne){var oe=ne?ee.columns:ee.columns-1;if(0>te||te>oe)throw new RangeError('Column index out of range')},E.b=function(ee,te){if(te.to1DArray&&(te=te.to1DArray()),te.length!==ee.columns)throw new RangeError('vector size must be the same as the number of columns');return te},E.d=function(ee,te){if(te.to1DArray&&(te=te.to1DArray()),te.length!==ee.rows)throw new RangeError('vector size must be the same as the number of rows');return te},E.i=function(ee,te,ne){var oe=te.some((ae)=>{return 0>ae||ae>=ee.rows}),se=ne.some((ae)=>{return 0>ae||ae>=ee.columns});if(oe||se)throw new RangeError('Indices are out of range');if('object'!=typeof te||'object'!=typeof ne)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(te)||(te=Array.from(te)),Array.isArray(ne)||(te=Array.from(ne)),{row:te,column:ne}},E.h=function(ee,te,ne,oe,se){if(5!==arguments.length)throw new TypeError('Invalid argument type');var ae=Array.from(arguments).slice(1).some(function(le){return'number'!=typeof le});if(ae)throw new TypeError('Invalid argument type');if(te>ne||oe>se||0>te||te>=ee.rows||0>ne||ne>=ee.rows||0>oe||oe>=ee.columns||0>se||se>=ee.columns)throw new RangeError('Submatrix indices are out of range')},E.e=function(ee){for(var te=G.a.zeros(ee.rows,1),ne=0;ne<ee.rows;++ne)for(var oe=0;oe<ee.columns;++oe)te.set(ne,0,te.get(ne,0)+ee.get(ne,oe));return te},E.f=function(ee){for(var te=G.a.zeros(1,ee.columns),ne=0;ne<ee.rows;++ne)for(var oe=0;oe<ee.columns;++oe)te.set(0,oe,te.get(0,oe)+ee.get(ne,oe));return te},E.g=function(ee){for(var te=0,ne=0;ne<ee.rows;ne++)for(var oe=0;oe<ee.columns;oe++)te+=ee.get(ne,oe);return te};var G=I(1)},function(D,E,I){'use strict';var P=I(2);E.checkRowIndex=function(R,F,O){var $=O?R.rows:R.rows-1;if(0>F||F>$)throw new RangeError('Row index out of range')},E.checkColumnIndex=function(R,F,O){var $=O?R.columns:R.columns-1;if(0>F||F>$)throw new RangeError('Column index out of range')},E.checkRowVector=function(R,F){if(F.to1DArray&&(F=F.to1DArray()),F.length!==R.columns)throw new RangeError('vector size must be the same as the number of columns');return F},E.checkColumnVector=function(R,F){if(F.to1DArray&&(F=F.to1DArray()),F.length!==R.rows)throw new RangeError('vector size must be the same as the number of rows');return F},E.checkIndices=function(R,F,O){var $=F.some((W)=>{return 0>W||W>=R.rows}),Z=O.some((W)=>{return 0>W||W>=R.columns});if($||Z)throw new RangeError('Indices are out of range');if('object'!=typeof F||'object'!=typeof O)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(F)||(F=Array.from(F)),Array.isArray(O)||(F=Array.from(O)),{row:F,column:O}},E.checkRange=function(R,F,O,$,Z){if(5!==arguments.length)throw new TypeError('Invalid argument type');var W=Array.from(arguments).slice(1).some(function(K){return'number'!=typeof K});if(W)throw new TypeError('Invalid argument type');if(F>O||$>Z||0>F||F>=R.rows||0>O||O>=R.rows||0>$||$>=R.columns||0>Z||Z>=R.columns)throw new RangeError('Submatrix indices are out of range')},E.getRange=function(R,F){for(var O=Array(F-R+1),$=0;$<O.length;$++)O[$]=R+$;return O},E.sumByRow=function(R){for(var F=P.Matrix.zeros(R.rows,1),O=0;O<R.rows;++O)for(var $=0;$<R.columns;++$)F.set(O,0,F.get(O,0)+R.get(O,$));return F},E.sumByColumn=function(R){for(var F=P.Matrix.zeros(1,R.columns),O=0;O<R.rows;++O)for(var $=0;$<R.columns;++$)F.set(0,$,F.get(0,$)+R.get(O,$));return F},E.sumAll=function(R){for(var F=0,O=0;O<R.rows;O++)for(var $=0;$<R.columns;$++)F+=R.get(O,$);return F}},function(D,E,I){'use strict';const P=I(7).array,T=I(165),R=I(48),F=I(142),O=I(146),Z=2;class W{constructor(K){this.sd=K,this.activeElement=0}static fromJcamp(K,Q){Q=Object.assign({},{keepSpectra:!0,keepRecordsRegExp:/^.+$/},Q,{xy:!0});var G=R.convert(K,Q);return new this(G)}static fromXY(K,Q,G){const ee={profiling:[],logs:[],info:{}},te={};return te.isXYdata=!0,te.nbPoints=K.length,te.firstX=K[0],te.firstY=Q[0],te.lastX=K[te.nbPoints-1],te.lastY=Q[te.nbPoints-1],te.xFactor=1,te.yFactor=1,te.xUnit=G.xUnit,te.yUnit=G.yUnit,te.deltaX=(te.lastX-te.firstX)/(te.nbPoints-1),te.title=G.title||'spectra-data from xy',te.dataType=G.dataType,te.data=[{x:K,y:Q}],ee.twoD=!1,ee.spectra=[te],new this(ee)}setActiveElement(K){this.activeElement=K}getActiveElement(){return this.activeElement}getXUnits(){return this.getSpectrum().xUnit}setXUnits(K){this.getSpectrum().xUnit=K}getYUnits(){return this.getSpectrum().yUnit}getSpectraVariable(K){return this.sd.ntuples[K]}getPage(K){return this.sd.spectra[K].page}getNbPoints(K){return this.getSpectrumData(K).y.length}getFirstX(K){return void 0===K&&(K=this.activeElement),this.sd.spectra[K].firstX}setFirstX(K,Q){Q===void 0&&(Q=this.activeElement),this.sd.spectra[Q].firstX=K}getLastX(K){return void 0===K&&(K=this.activeElement),this.sd.spectra[K].lastX}setLastX(K,Q){Q===void 0&&(Q=this.activeElement),this.sd.spectra[Q].lastX=K}getFirstY(K){return void 0===K&&(K=this.activeElement),this.sd.spectra[K].firstY}setFirstY(K,Q){Q===void 0&&(Q=this.activeElement),this.sd.spectra[Q].firstY=K}getLastY(K){return void 0===K&&(K=this.activeElement),this.sd.spectra[K].lastY}setLastY(K,Q){Q===void 0&&(Q=this.activeElement),this.sd.spectra[Q].lastY=K}setDataClass(K){K===Z&&(this.getSpectrum().isPeaktable=!0,this.getSpectrum().isXYdata=!1),K===1&&(this.getSpectrum().isXYdata=!0,this.getSpectrum().isPeaktable=!1)}isDataClassPeak(){return!!this.getSpectrum().isPeaktable&&this.getSpectrum().isPeaktable}isDataClassXY(){return!!this.getSpectrum().isXYdata&&this.getSpectrum().isXYdata}setDataType(K){this.getSpectrum().dataType=K}getDataType(){return this.getSpectrum().dataType}getSpectrumData(K){return void 0===K&&(K=this.activeElement),this.sd.spectra[K].data[0]}getSpectrum(K){return void 0===K&&(K=this.activeElement),this.sd.spectra[K]}getNbSubSpectra(){return this.sd.spectra.length}getXData(K){return this.getSpectrumData(K).x}getYData(K){return this.getSpectrumData(K).y}getX(K){return this.getXData()[K]}getY(K){return this.getYData()[K]}getXYData(K){return[this.getXData(K),this.getYData(K)]}getTitle(K){return this.getSpectrum(K).title}setTitle(K,Q){this.getSpectrum(Q).title=K}getMinY(K){return P.min(this.getYData(K))}getMaxY(K){return P.max(this.getYData(K))}getMinMaxY(K){return P.minMax(this.getYData(K))}getNoiseLevel(K={}){let Q=K.from&&K.to?this.getVector(K.from,K.to):this.getYData();var G=P.median(Q);return G*this.getNMRPeakThreshold(this.getNucleus(1))}arrayPointToUnits(K){return this.getFirstX()-K*(this.getFirstX()-this.getLastX())/(this.getNbPoints()-1)}unitsToArrayPoint(K){if(this.isDataClassXY())return _Mathround((this.getFirstX()-K)*(-1/this.getDeltaX()));if(this.isDataClassPeak()){var Q=0,G=this.getNbPoints()-1,ee=0,te;if(this.getFirstX()>this.getLastX()){if(G=0,ee=this.getNbPoints()-1,K>this.getFirstX())return this.getNbPoints();if(K<this.getLastX())return-1}else{if(K<this.getFirstX())return-1;if(K>this.getLastX())return this.getNbPoints()}for(;1<_Mathabs(G-ee);){if(te=_Mathround(_Mathfloor((G+ee)/2)),this.getX(te)===K)return te;this.getX(te)>K?G=te:ee=te}return Q=ee,_Mathabs(this.getX(ee)-K)>_Mathabs(this.getX(G)-K)&&(Q=G),Q}return 0}getDeltaX(){return(this.getLastX()-this.getFirstX())/(this.getNbPoints()-1)}setMinMax(K,Q){T.scale(this.getYData(),{min:K,max:Q,inplace:!0})}setMin(K){T.scale(this.getYData(),{min:K,inplace:!0})}setMax(K){T.scale(this.getYData(),{max:K,inplace:!0})}yShift(K){for(var Q=this.getSpectrumData().y,G=this.getNbPoints(),ee=0;ee<G;ee++)Q[ee]+=K;this.getSpectrum().firstY+=K,this.getSpectrum().lastY+=K}shift(K){for(let te=0;te<this.getNbSubSpectra();te++){this.setActiveElement(te);for(var Q=this.getSpectrumData().x,G=this.getNbPoints(),ee=0;ee<G;ee++)Q[ee]+=K;this.getSpectrum().firstX+=K,this.getSpectrum().lastX+=K}}fill(K,Q,G){for(var se=0,ee,te,ne,oe;se<this.getNbSubSpectra();se++)if(this.setActiveElement(se),ne=this.getXData(),oe=this.getYData(),ee=this.unitsToArrayPoint(K),te=this.unitsToArrayPoint(Q),ee>te&&(ee+=te,te=ee-te,ee-=te),0>ee&&(ee=0),te>=this.getNbPoints&&(te=this.getNbPoints-1),'number'!=typeof G)oe.splice(ee,te-ee),ne.splice(ee,te-ee);else for(se=ee;se<=te;se++)oe[se]=G}suppressZone(K,Q){this.fill(K,Q),this.setDataClass(Z)}suppressZones(K=[]){for(var Q=0;Q<K.length;Q++)this.suppressZone(K[Q].from,K[Q].to)}getMaxPeak(){for(var K=this.getSpectraDataY(),Q=K[0],G=0,ee=0;ee<K.length;ee++)Q<K[ee]&&(Q=K[ee],G=ee);return[this.getX(G),Q]}getParamDouble(K,Q){var G=this.sd.info[K];return G||(G=Q),G}getParamString(K,Q){var G=this.sd.info[K];return G||(G=Q),G+''}getParamInt(K,Q){var G=this.sd.info[K];return G||(G=Q),G}getParam(K,Q){var G=this.sd.info[K];return G||(G=Q),G}containsParam(K){return!!this.sd.info[K]}getSpectraDataY(){return this.getYData()}getSpectraDataX(){return this.getXData()}resetMinMax(){}putParam(K,Q){this.sd.info[K]=Q}getArea(K,Q){var G=this.unitsToArrayPoint(K),ee=this.unitsToArrayPoint(Q),te=0;G>ee&&(G+=ee,ee=G-ee,G-=ee),G=0>G?0:G,ee=ee>=this.getNbPoints()?this.getNbPoints()-1:ee;for(var ne=G;ne<ee;ne++)te+=this.getY(ne);return te*_Mathabs(this.getDeltaX())}updateIntegrals(K,Q){var G=0;if(K.forEach((te)=>{te.integral=this.getArea(te.from,te.to),G+=te.integral}),0!==Q.nH){var ee=Q.nH/G;K.forEach((te)=>{te.integral*=ee})}}getVector(K,Q,G){return G?T.getEquallySpacedData(this.getSpectraDataX(),this.getSpectraDataY(),{from:K,to:Q,numberOfPoints:G}):this.getPointsInWindow(K,Q)}reduceData(K,Q,G={}){if(!this.isDataClassXY())throw Error('reduceData can only apply on equidistant data');for(let te=0;te<this.getNbSubSpectra();te++)if(this.setActiveElement(te),'hz'!==this.getXUnits().toLowerCase())if(G.nbPoints){let ne=this.getSpectraDataX(),oe=this.getSpectraDataY();ne[0]>ne[1]&&K<Q?(K+=Q,Q=K-Q,K-=Q):K>Q&&(K+=Q,Q=K-Q,K-=Q),oe=T.getEquallySpacedData(ne,oe,{from:K,to:Q,numberOfPoints:G.nbPoints});let se=(Q-K)/(oe.length-1);ne=Array(oe.length).fill(K);for(let ae=0;ae<oe.length;ae++)ne[ae]+=se*ae;this.sd.spectra[te].data[0].x=ne,this.sd.spectra[te].data[0].y=oe,this.setFirstX(ne[0]),this.setLastX(ne[ne.length-1]),this.sd.spectra[te].nbPoints=oe.length}else{var ee=this.getPointsInWindow(K,Q);this.sd.spectra[te].data[0].x=ee[0],this.sd.spectra[te].data[0].y=ee[1],this.setFirstX(ee[0][0]),this.setLastX(ee[0][ee[0].length-1]),this.sd.spectra[te].nbPoints=ee[1].length}return this.setActiveElement(0),this}getPointsInWindow(K,Q,G={}){if(!this.isDataClassXY())throw Error('getPointsInWindow can only apply on equidistant data');var ee=this.unitsToArrayPoint(K),te=this.unitsToArrayPoint(Q);if(ee>te&&(ee+=te,te=ee-te,ee-=te),0<=ee&&te<=this.getNbPoints()-2){var ne=this.getSpectraDataY().slice(ee,te+1);if(!G.withoutX){var oe=this.getSpectraDataX().slice(ee,te+1);ne=[oe,ne]}return ne}throw Error('values outside this in range')}is2D(){return'undefined'!=typeof this.sd.twoD&&this.sd.twoD}setTotalIntegral(K){this.totalIntegralValue=K}get totalIntegral(){if(this.totalIntegralValue)return this.totalIntegralValue;if(this.molecule){if(this.getNucleus(0).indexOf('H'))return 1*this.mf.replace(/.*H([0-9]+).*/,'$1');if(this.getNucleus(0).indexOf('C'))return 1*this.mf.replace(/.*C([0-9]+).*/,'$1')}else return 100;return 1}setMolfile(K){this.molfile=K}setMF(K){this.mf=K}createPeaks(K={}){return this.peaks=O(this,K),this.peaks}getPeaks(K={}){let Q;return Q=this.peaks?this.peaks:O(this,K),Q}toJcamp(K){var Q=new F;return Q.convert(this,Object.assign({},{yFactor:1,encode:'DIFDUP',type:'SIMPLE'},K))}}D.exports=W},function(D,E,I){'use strict';E.a=function(ne){function oe(Le,Ue){return Le-Ue}function se(Le,Ue){for(var Be in Ue)Le=Le.replace(new RegExp('%'+Be+'%','g'),Ue[Be]);return Le}ne===void 0&&(ne=Object);class ae extends ne{static get[Symbol.species](){return this}static from1DArray(Le,Ue,Be){if(Le*Ue!==Be.length)throw new RangeError('Data length does not match given dimensions');for(var Ve=new this(Le,Ue),$e=0;$e<Le;$e++)for(var Ze=0;Ze<Ue;Ze++)Ve.set($e,Ze,Be[$e*Ue+Ze]);return Ve}static rowVector(Le){for(var Ue=new this(1,Le.length),Be=0;Be<Le.length;Be++)Ue.set(0,Be,Le[Be]);return Ue}static columnVector(Le){for(var Ue=new this(Le.length,1),Be=0;Be<Le.length;Be++)Ue.set(Be,0,Le[Be]);return Ue}static empty(Le,Ue){return new this(Le,Ue)}static zeros(Le,Ue){return this.empty(Le,Ue).fill(0)}static ones(Le,Ue){return this.empty(Le,Ue).fill(1)}static rand(Le,Ue,Be){Be===void 0&&(Be=Math.random);for(var qe=this.empty(Le,Ue),Ve=0;Ve<Le;Ve++)for(var $e=0;$e<Ue;$e++)qe.set(Ve,$e,Be());return qe}static randInt(Le,Ue,Be,qe){Be===void 0&&(Be=1e3),qe===void 0&&(qe=Math.random);for(var Ve=this.empty(Le,Ue),$e=0;$e<Le;$e++)for(var Ze=0,We;Ze<Ue;Ze++)We=_Mathfloor(qe()*Be),Ve.set($e,Ze,We);return Ve}static eye(Le,Ue,Be){Ue===void 0&&(Ue=Le),Be===void 0&&(Be=1);for(var qe=_Mathmin(Le,Ue),Ve=this.zeros(Le,Ue),$e=0;$e<qe;$e++)Ve.set($e,$e,Be);return Ve}static diag(Le,Ue,Be){var qe=Le.length;Ue===void 0&&(Ue=qe),Be===void 0&&(Be=Ue);for(var Ve=_Mathmin(qe,Ue,Be),$e=this.zeros(Ue,Be),Ze=0;Ze<Ve;Ze++)$e.set(Ze,Ze,Le[Ze]);return $e}static min(Le,Ue){Le=this.checkMatrix(Le),Ue=this.checkMatrix(Ue);for(var Be=Le.rows,qe=Le.columns,Ve=new this(Be,qe),$e=0;$e<Be;$e++)for(var Ze=0;Ze<qe;Ze++)Ve.set($e,Ze,_Mathmin(Le.get($e,Ze),Ue.get($e,Ze)));return Ve}static max(Le,Ue){Le=this.checkMatrix(Le),Ue=this.checkMatrix(Ue);for(var Be=Le.rows,qe=Le.columns,Ve=new this(Be,qe),$e=0;$e<Be;$e++)for(var Ze=0;Ze<qe;Ze++)Ve.set($e,Ze,_Mathmax(Le.get($e,Ze),Ue.get($e,Ze)));return Ve}static checkMatrix(Le){return ae.isMatrix(Le)?Le:new this(Le)}static isMatrix(Le){return null!=Le&&'Matrix'===Le.klass}get size(){return this.rows*this.columns}apply(Le){if('function'!=typeof Le)throw new TypeError('callback must be a function');for(var Ue=this.rows,Be=this.columns,qe=0;qe<Ue;qe++)for(var Ve=0;Ve<Be;Ve++)Le.call(this,qe,Ve);return this}to1DArray(){for(var Le=Array(this.size),Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)Le[Ue*this.columns+Be]=this.get(Ue,Be);return Le}to2DArray(){for(var Le=Array(this.rows),Ue=0;Ue<this.rows;Ue++){Le[Ue]=Array(this.columns);for(var Be=0;Be<this.columns;Be++)Le[Ue][Be]=this.get(Ue,Be)}return Le}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var Le=0;Le<this.rows;Le++)for(var Ue=0;Ue<=Le;Ue++)if(this.get(Le,Ue)!==this.get(Ue,Le))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(Le,Ue){Le=Le||1,Ue=Ue||1;for(var Be=new this.constructor[Symbol.species](this.rows*Le,this.columns*Ue),qe=0;qe<Le;qe++)for(var Ve=0;Ve<Ue;Ve++)Be.setSubMatrix(this,this.rows*qe,this.columns*Ve);return Be}fill(Le){for(var Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)this.set(Ue,Be,Le);return this}neg(){return this.mulS(-1)}getRow(Le){$.a(this,Le);for(var Ue=Array(this.columns),Be=0;Be<this.columns;Be++)Ue[Be]=this.get(Le,Be);return Ue}getRowVector(Le){return this.constructor.rowVector(this.getRow(Le))}setRow(Le,Ue){$.a(this,Le),Ue=$.b(this,Ue);for(var Be=0;Be<this.columns;Be++)this.set(Le,Be,Ue[Be]);return this}swapRows(Le,Ue){$.a(this,Le),$.a(this,Ue);for(var Be=0,qe;Be<this.columns;Be++)qe=this.get(Le,Be),this.set(Le,Be,this.get(Ue,Be)),this.set(Ue,Be,qe);return this}getColumn(Le){$.c(this,Le);for(var Ue=Array(this.rows),Be=0;Be<this.rows;Be++)Ue[Be]=this.get(Be,Le);return Ue}getColumnVector(Le){return this.constructor.columnVector(this.getColumn(Le))}setColumn(Le,Ue){$.c(this,Le),Ue=$.d(this,Ue);for(var Be=0;Be<this.rows;Be++)this.set(Be,Le,Ue[Be]);return this}swapColumns(Le,Ue){$.c(this,Le),$.c(this,Ue);for(var Be=0,qe;Be<this.rows;Be++)qe=this.get(Be,Le),this.set(Be,Le,this.get(Be,Ue)),this.set(Be,Ue,qe);return this}addRowVector(Le){Le=$.b(this,Le);for(var Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)this.set(Ue,Be,this.get(Ue,Be)+Le[Be]);return this}subRowVector(Le){Le=$.b(this,Le);for(var Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)this.set(Ue,Be,this.get(Ue,Be)-Le[Be]);return this}mulRowVector(Le){Le=$.b(this,Le);for(var Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)this.set(Ue,Be,this.get(Ue,Be)*Le[Be]);return this}divRowVector(Le){Le=$.b(this,Le);for(var Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)this.set(Ue,Be,this.get(Ue,Be)/Le[Be]);return this}addColumnVector(Le){Le=$.d(this,Le);for(var Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)this.set(Ue,Be,this.get(Ue,Be)+Le[Ue]);return this}subColumnVector(Le){Le=$.d(this,Le);for(var Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)this.set(Ue,Be,this.get(Ue,Be)-Le[Ue]);return this}mulColumnVector(Le){Le=$.d(this,Le);for(var Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)this.set(Ue,Be,this.get(Ue,Be)*Le[Ue]);return this}divColumnVector(Le){Le=$.d(this,Le);for(var Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)this.set(Ue,Be,this.get(Ue,Be)/Le[Ue]);return this}mulRow(Le,Ue){$.a(this,Le);for(var Be=0;Be<this.columns;Be++)this.set(Le,Be,this.get(Le,Be)*Ue);return this}mulColumn(Le,Ue){$.c(this,Le);for(var Be=0;Be<this.rows;Be++)this.set(Be,Le,this.get(Be,Le)*Ue);return this}max(){for(var Le=this.get(0,0),Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)this.get(Ue,Be)>Le&&(Le=this.get(Ue,Be));return Le}maxIndex(){for(var Le=this.get(0,0),Ue=[0,0],Be=0;Be<this.rows;Be++)for(var qe=0;qe<this.columns;qe++)this.get(Be,qe)>Le&&(Le=this.get(Be,qe),Ue[0]=Be,Ue[1]=qe);return Ue}min(){for(var Le=this.get(0,0),Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)this.get(Ue,Be)<Le&&(Le=this.get(Ue,Be));return Le}minIndex(){for(var Le=this.get(0,0),Ue=[0,0],Be=0;Be<this.rows;Be++)for(var qe=0;qe<this.columns;qe++)this.get(Be,qe)<Le&&(Le=this.get(Be,qe),Ue[0]=Be,Ue[1]=qe);return Ue}maxRow(Le){$.a(this,Le);for(var Ue=this.get(Le,0),Be=1;Be<this.columns;Be++)this.get(Le,Be)>Ue&&(Ue=this.get(Le,Be));return Ue}maxRowIndex(Le){$.a(this,Le);for(var Ue=this.get(Le,0),Be=[Le,0],qe=1;qe<this.columns;qe++)this.get(Le,qe)>Ue&&(Ue=this.get(Le,qe),Be[1]=qe);return Be}minRow(Le){$.a(this,Le);for(var Ue=this.get(Le,0),Be=1;Be<this.columns;Be++)this.get(Le,Be)<Ue&&(Ue=this.get(Le,Be));return Ue}minRowIndex(Le){$.a(this,Le);for(var Ue=this.get(Le,0),Be=[Le,0],qe=1;qe<this.columns;qe++)this.get(Le,qe)<Ue&&(Ue=this.get(Le,qe),Be[1]=qe);return Be}maxColumn(Le){$.c(this,Le);for(var Ue=this.get(0,Le),Be=1;Be<this.rows;Be++)this.get(Be,Le)>Ue&&(Ue=this.get(Be,Le));return Ue}maxColumnIndex(Le){$.c(this,Le);for(var Ue=this.get(0,Le),Be=[0,Le],qe=1;qe<this.rows;qe++)this.get(qe,Le)>Ue&&(Ue=this.get(qe,Le),Be[0]=qe);return Be}minColumn(Le){$.c(this,Le);for(var Ue=this.get(0,Le),Be=1;Be<this.rows;Be++)this.get(Be,Le)<Ue&&(Ue=this.get(Be,Le));return Ue}minColumnIndex(Le){$.c(this,Le);for(var Ue=this.get(0,Le),Be=[0,Le],qe=1;qe<this.rows;qe++)this.get(qe,Le)<Ue&&(Ue=this.get(qe,Le),Be[0]=qe);return Be}diag(){for(var Le=_Mathmin(this.rows,this.columns),Ue=Array(Le),Be=0;Be<Le;Be++)Ue[Be]=this.get(Be,Be);return Ue}sum(Le){return'row'===Le?$.e(this):'column'===Le?$.f(this):$.g(this)}mean(){return this.sum()/this.size}prod(){for(var Le=1,Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)Le*=this.get(Ue,Be);return Le}cumulativeSum(){for(var Le=0,Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)Le+=this.get(Ue,Be),this.set(Ue,Be,Le);return this}dot(Le){ae.isMatrix(Le)&&(Le=Le.to1DArray());var Ue=this.to1DArray();if(Ue.length!==Le.length)throw new RangeError('vectors do not have the same size');for(var Be=0,qe=0;qe<Ue.length;qe++)Be+=Ue[qe]*Le[qe];return Be}mmul(Le){Le=this.constructor.checkMatrix(Le),this.columns!==Le.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var Ue=this.rows,Be=this.columns,qe=Le.columns,Ve=new this.constructor[Symbol.species](Ue,qe),$e=Array(Be),Ze=0;Ze<qe;Ze++){for(var We=0;We<Be;We++)$e[We]=Le.get(We,Ze);for(var Ke=0,Qe;Ke<Ue;Ke++){for(Qe=0,We=0;We<Be;We++)Qe+=this.get(Ke,We)*$e[We];Ve.set(Ke,Ze,Qe)}}return Ve}strassen2x2(Le){var Ue=new this.constructor[Symbol.species](2,2);const Be=this.get(0,0),qe=Le.get(0,0),Ve=this.get(0,1),$e=Le.get(0,1),Ze=this.get(1,0),We=Le.get(1,0),Ke=this.get(1,1),Qe=Le.get(1,1),Ge=(Be+Ke)*(qe+Qe),Je=(Ze+Ke)*qe,et=Be*($e-Qe),tt=Ke*(We-qe),it=(Be+Ve)*Qe;return Ue.set(0,0,Ge+tt-it+(Ve-Ke)*(We+Qe)),Ue.set(0,1,et+it),Ue.set(1,0,Je+tt),Ue.set(1,1,Ge-Je+et+(Ze-Be)*(qe+$e)),Ue}strassen3x3(Le){var Ue=new this.constructor[Symbol.species](3,3);const Be=this.get(0,0),qe=this.get(0,1),Ve=this.get(0,2),$e=this.get(1,0),Ze=this.get(1,1),We=this.get(1,2),Ke=this.get(2,0),Qe=this.get(2,1),Ge=this.get(2,2),Je=Le.get(0,0),et=Le.get(0,1),tt=Le.get(0,2),it=Le.get(1,0),nt=Le.get(1,1),ot=Le.get(1,2),st=Le.get(2,0),at=Le.get(2,1),lt=Le.get(2,2),ut=(Be-$e)*(-et+nt),pt=(-Be+$e+Ze)*(Je-et+nt),ht=($e+Ze)*(-Je+et),gt=Be*Je,mt=(-Be+Ke+Qe)*(Je-tt+ot),yt=(-Be+Ke)*(tt-ot),xt=(Ke+Qe)*(-Je+tt),kt=(-Ve+Qe+Ge)*(nt+st-at),jt=(Ve-Ge)*(nt-at),wt=Ve*st,Ct=(Qe+Ge)*(-st+at),vt=(-Ve+Ze+We)*(ot+st-lt),St=(Ve-We)*(ot-lt),Dt=(Ze+We)*(-st+lt);return Ue.set(0,0,gt+wt+qe*it),Ue.set(0,1,(Be+qe+Ve-$e-Ze-Qe-Ge)*nt+pt+ht+gt+kt+wt+Ct),Ue.set(0,2,gt+mt+xt+(Be+qe+Ve-Ze-We-Ke-Qe)*ot+wt+vt+Dt),Ue.set(1,0,ut+Ze*(-Je+et+it-nt-ot-st+lt)+pt+gt+wt+vt+St),Ue.set(1,1,ut+pt+ht+gt+We*at),Ue.set(1,2,wt+vt+St+Dt+$e*tt),Ue.set(2,0,gt+mt+yt+Qe*(-Je+tt+it-nt-ot-st+at)+kt+jt+wt),Ue.set(2,1,kt+jt+wt+Ct+Ke*et),Ue.set(2,2,gt+mt+yt+xt+Ge*lt),Ue}mmulStrassen(Le){function Ue(Ge,Je,et){var tt=Ge.rows,it=Ge.columns;if(tt===Je&&it===et)return Ge;var nt=ae.zeros(Je,et);return nt=nt.setSubMatrix(Ge,0,0),nt}function Be(Ge,Je,et,tt){if(512>=et||512>=tt)return Ge.mmul(Je);1==et%2&&1==tt%2?(Ge=Ue(Ge,et+1,tt+1),Je=Ue(Je,et+1,tt+1)):1==et%2?(Ge=Ue(Ge,et+1,tt),Je=Ue(Je,et+1,tt)):1==tt%2&&(Ge=Ue(Ge,et,tt+1),Je=Ue(Je,et,tt+1));var it=parseInt(Ge.rows/2),nt=parseInt(Ge.columns/2),ot=Ge.subMatrix(0,it-1,0,nt-1),st=Je.subMatrix(0,it-1,0,nt-1),at=Ge.subMatrix(0,it-1,nt,Ge.columns-1),lt=Je.subMatrix(0,it-1,nt,Je.columns-1),dt=Ge.subMatrix(it,Ge.rows-1,0,nt-1),ut=Je.subMatrix(it,Je.rows-1,0,nt-1),ct=Ge.subMatrix(it,Ge.rows-1,nt,Ge.columns-1),pt=Je.subMatrix(it,Je.rows-1,nt,Je.columns-1),ht=Be(ae.add(ot,ct),ae.add(st,pt),it,nt),gt=Be(ae.add(dt,ct),st,it,nt),mt=Be(ot,ae.sub(lt,pt),it,nt),yt=Be(ct,ae.sub(ut,st),it,nt),xt=Be(ae.add(ot,at),pt,it,nt),bt=Be(ae.sub(dt,ot),ae.add(st,lt),it,nt),_t=Be(ae.sub(at,ct),ae.add(ut,pt),it,nt),kt=ae.add(ht,yt);kt.sub(xt),kt.add(_t);var jt=ae.add(mt,xt),wt=ae.add(gt,yt),Ct=ae.sub(ht,gt);Ct.add(mt),Ct.add(bt);var vt=ae.zeros(2*kt.rows,2*kt.columns);return vt=vt.setSubMatrix(kt,0,0),vt=vt.setSubMatrix(jt,kt.rows,0),vt=vt.setSubMatrix(wt,0,kt.columns),vt=vt.setSubMatrix(Ct,kt.rows,kt.columns),vt.subMatrix(0,et-1,0,tt-1)}var qe=this.clone(),Ve=qe.rows,$e=qe.columns,Ze=Le.rows,We=Le.columns;$e!==Ze&&console.warn(`Multiplying ${Ve} x ${$e} and ${Ze} x ${We} matrix: dimensions do not match.`);var Ke=_Mathmax(Ve,Ze),Qe=_Mathmax($e,We);return qe=Ue(qe,Ke,Qe),Le=Ue(Le,Ke,Qe),Be(qe,Le,Ke,Qe)}scaleRows(Le,Ue){if(Le=void 0===Le?0:Le,Ue=void 0===Ue?1:Ue,Le>=Ue)throw new RangeError('min should be strictly smaller than max');for(var Be=this.constructor.empty(this.rows,this.columns),qe=0,Ve;qe<this.rows;qe++)Ve=I.i(F.scale)(this.getRow(qe),{min:Le,max:Ue}),Be.setRow(qe,Ve);return Be}scaleColumns(Le,Ue){if(Le=void 0===Le?0:Le,Ue=void 0===Ue?1:Ue,Le>=Ue)throw new RangeError('min should be strictly smaller than max');for(var Be=this.constructor.empty(this.rows,this.columns),qe=0,Ve;qe<this.columns;qe++)Ve=I.i(F.scale)(this.getColumn(qe),{min:Le,max:Ue}),Be.setColumn(qe,Ve);return Be}kroneckerProduct(Le){Le=this.constructor.checkMatrix(Le);for(var Ue=this.rows,Be=this.columns,qe=Le.rows,Ve=Le.columns,$e=new this.constructor[Symbol.species](Ue*qe,Be*Ve),Ze=0;Ze<Ue;Ze++)for(var We=0;We<Be;We++)for(var Ke=0;Ke<qe;Ke++)for(var Qe=0;Qe<Ve;Qe++)$e[qe*Ze+Ke][Ve*We+Qe]=this.get(Ze,We)*Le.get(Ke,Qe);return $e}transpose(){for(var Le=new this.constructor[Symbol.species](this.columns,this.rows),Ue=0;Ue<this.rows;Ue++)for(var Be=0;Be<this.columns;Be++)Le.set(Be,Ue,this.get(Ue,Be));return Le}sortRows(Le){Le===void 0&&(Le=oe);for(var Ue=0;Ue<this.rows;Ue++)this.setRow(Ue,this.getRow(Ue).sort(Le));return this}sortColumns(Le){Le===void 0&&(Le=oe);for(var Ue=0;Ue<this.columns;Ue++)this.setColumn(Ue,this.getColumn(Ue).sort(Le));return this}subMatrix(Le,Ue,Be,qe){$.h(this,Le,Ue,Be,qe);for(var Ve=new this.constructor[Symbol.species](Ue-Le+1,qe-Be+1),$e=Le;$e<=Ue;$e++)for(var Ze=Be;Ze<=qe;Ze++)Ve[$e-Le][Ze-Be]=this.get($e,Ze);return Ve}subMatrixRow(Le,Ue,Be){if(void 0===Ue&&(Ue=0),void 0===Be&&(Be=this.columns-1),Ue>Be||0>Ue||Ue>=this.columns||0>Be||Be>=this.columns)throw new RangeError('Argument out of range');for(var qe=new this.constructor[Symbol.species](Le.length,Be-Ue+1),Ve=0;Ve<Le.length;Ve++)for(var $e=Ue;$e<=Be;$e++){if(0>Le[Ve]||Le[Ve]>=this.rows)throw new RangeError('Row index out of range: '+Le[Ve]);qe.set(Ve,$e-Ue,this.get(Le[Ve],$e))}return qe}subMatrixColumn(Le,Ue,Be){if(void 0===Ue&&(Ue=0),void 0===Be&&(Be=this.rows-1),Ue>Be||0>Ue||Ue>=this.rows||0>Be||Be>=this.rows)throw new RangeError('Argument out of range');for(var qe=new this.constructor[Symbol.species](Be-Ue+1,Le.length),Ve=0;Ve<Le.length;Ve++)for(var $e=Ue;$e<=Be;$e++){if(0>Le[Ve]||Le[Ve]>=this.columns)throw new RangeError('Column index out of range: '+Le[Ve]);qe.set($e-Ue,Ve,this.get($e,Le[Ve]))}return qe}setSubMatrix(Le,Ue,Be){Le=this.constructor.checkMatrix(Le);var qe=Ue+Le.rows-1,Ve=Be+Le.columns-1;$.h(this,Ue,qe,Be,Ve);for(var $e=0;$e<Le.rows;$e++)for(var Ze=0;Ze<Le.columns;Ze++)this[Ue+$e][Be+Ze]=Le.get($e,Ze);return this}selection(Le,Ue){for(var Be=$.i(this,Le,Ue),qe=new this.constructor[Symbol.species](Le.length,Ue.length),Ve=0,$e;Ve<Be.row.length;Ve++){$e=Be.row[Ve];for(var Ze=0,We;Ze<Be.column.length;Ze++)We=Be.column[Ze],qe[Ve][Ze]=this.get($e,We)}return qe}trace(){for(var Le=_Mathmin(this.rows,this.columns),Ue=0,Be=0;Be<Le;Be++)Ue+=this.get(Be,Be);return Ue}transposeView(){return new Z.a(this)}rowView(Le){return $.a(this,Le),new W.a(this,Le)}columnView(Le){return $.c(this,Le),new G.a(this,Le)}flipRowView(){return new ee.a(this)}flipColumnView(){return new te.a(this)}subMatrixView(Le,Ue,Be,qe){return new K.a(this,Le,Ue,Be,qe)}selectionView(Le,Ue){return new Q.a(this,Le,Ue)}det(){if(this.isSquare()){var Le,Ue,Be,qe;if(2===this.columns)return Le=this.get(0,0),Ue=this.get(0,1),Be=this.get(1,0),qe=this.get(1,1),Le*qe-Ue*Be;if(3===this.columns){var Ve,$e,Ze;return Ve=this.selectionView([1,2],[1,2]),$e=this.selectionView([1,2],[0,2]),Ze=this.selectionView([1,2],[0,1]),Le=this.get(0,0),Ue=this.get(0,1),Be=this.get(0,2),Le*Ve.det()-Ue*$e.det()+Be*Ze.det()}return new T.a(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(Le){void 0===Le&&(Le=_NumberEPSILON);for(var Ue=new R.a(this,{autoTranspose:!0}),Be=Ue.leftSingularVectors,qe=Ue.rightSingularVectors,Ve=Ue.diagonal,$e=0;$e<Ve.length;$e++)Ve[$e]=_Mathabs(Ve[$e])>Le?1/Ve[$e]:0;return Ve=this.constructor[Symbol.species].diag(Ve),qe.mmul(Ve.mmul(Be.transposeView()))}}ae.prototype.klass='Matrix',ae.random=ae.rand,ae.diagonal=ae.diag,ae.prototype.diagonal=ae.prototype.diag,ae.identity=ae.eye,ae.prototype.negate=ae.prototype.neg,ae.prototype.tensorProduct=ae.prototype.kroneckerProduct,ae.prototype.determinant=ae.prototype.det;var le=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,de=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,ue=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,ce=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,pe=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,he=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,ge=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,me=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,fe=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,ye=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,xe=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,_e=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],ke,je=eval;for(var we of _e){var Ce=je(se(le,{name:we[1],op:we[0]})),ve=je(se(de,{name:we[1]+'S',op:we[0]})),Se=je(se(ue,{name:we[1]+'M',op:we[0]})),De=je(se(ce,{name:we[1]}));for(ke=1;ke<we.length;ke++)ae.prototype[we[ke]]=Ce,ae.prototype[we[ke]+'S']=ve,ae.prototype[we[ke]+'M']=Se,ae[we[ke]]=De}var Ee=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(Le){Ee.push(['Math.'+Le,Le])});for(var Ae of Ee){var Ie=je(se(pe,{name:Ae[1],method:Ae[0]})),He=je(se(he,{name:Ae[1]}));for(ke=1;ke<Ae.length;ke++)ae.prototype[Ae[ke]]=Ie,ae[Ae[ke]]=He}var Pe=[['Math.pow',1,'pow']];for(var Te of Pe){var Re='arg0';for(ke=1;ke<Te[1];ke++)Re+=`, arg${ke}`;if(1!==Te[1]){var Fe=je(se(ge,{name:Te[2],method:Te[0],args:Re})),Me=je(se(me,{name:Te[2],args:Re}));for(ke=2;ke<Te.length;ke++)ae.prototype[Te[ke]]=Fe,ae[Te[ke]]=Me}else{var ze={name:Te[2],args:Re,method:Te[0]},Oe=je(se(xe,ze)),Xe=je(se(fe,ze)),Ne=je(se(ye,ze)),Ye=je(se(me,ze));for(ke=2;ke<Te.length;ke++)ae.prototype[Te[ke]]=Oe,ae.prototype[Te[ke]+'M']=Ne,ae.prototype[Te[ke]+'S']=Xe,ae[Te[ke]]=Ye}}return ae};var T=I(12),R=I(30),F=I(81),O=I.n(F),$=I(8),Z=I(94),W=I(91),K=I(93),Q=I(92),G=I(88),ee=I(90),te=I(89)},function(D,E,I){'use strict';function P(R){if(!(this instanceof P))return new P(R);R=T.a.checkMatrix(R);var F=R.clone(),O=F.rows,$=F.columns,Z=Array(O),W=1,K,Q,G,ee,te,ne,oe,se,ae,le;for(K=0;K<O;K++)Z[K]=K;for(ae=Array(O),Q=0;Q<$;Q++){for(K=0;K<O;K++)ae[K]=F[K][Q];for(K=0;K<O;K++){for(se=F[K],le=_Mathmin(K,Q),te=0,G=0;G<le;G++)te+=se[G]*ae[G];se[Q]=ae[K]-=te}for(ee=Q,K=Q+1;K<O;K++)_Mathabs(ae[K])>_Mathabs(ae[ee])&&(ee=K);if(ee!==Q){for(G=0;G<$;G++)ne=F[ee][G],F[ee][G]=F[Q][G],F[Q][G]=ne;oe=Z[ee],Z[ee]=Z[Q],Z[Q]=oe,W=-W}if(Q<O&&0!==F[Q][Q])for(K=Q+1;K<O;K++)F[K][Q]/=F[Q][Q]}this.LU=F,this.pivotVector=Z,this.pivotSign=W}var T=I(1);P.prototype={isSingular:function(){for(var R=this.LU,F=R.columns,O=0;O<F;O++)if(0===R[O][O])return!0;return!1},get determinant(){var R=this.LU;if(!R.isSquare())throw new Error('Matrix must be square');for(var F=this.pivotSign,O=R.columns,$=0;$<O;$++)F*=R[$][$];return F},get lowerTriangularMatrix(){for(var R=this.LU,F=R.rows,O=R.columns,$=new T.a(F,O),Z=0;Z<F;Z++)for(var W=0;W<O;W++)$[Z][W]=Z>W?R[Z][W]:Z===W?1:0;return $},get upperTriangularMatrix(){for(var R=this.LU,F=R.rows,O=R.columns,$=new T.a(F,O),Z=0;Z<F;Z++)for(var W=0;W<O;W++)$[Z][W]=Z<=W?R[Z][W]:0;return $},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(R){R=T.a.checkMatrix(R);var F=this.LU,O=F.rows;if(O!==R.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var $=R.columns,Z=R.subMatrixRow(this.pivotVector,0,$-1),W=F.columns,K,Q,G;for(G=0;G<W;G++)for(K=G+1;K<W;K++)for(Q=0;Q<$;Q++)Z[K][Q]-=Z[G][Q]*F[K][G];for(G=W-1;0<=G;G--){for(Q=0;Q<$;Q++)Z[G][Q]/=F[G][G];for(K=0;K<G;K++)for(Q=0;Q<$;Q++)Z[K][Q]-=Z[G][Q]*F[K][G]}return Z}},E.a=P},function(D,E){'use strict';E.a=function(F,O){var $;return _Mathabs(F)>_Mathabs(O)?($=O/F,_Mathabs(F)*_Mathsqrt(1+$*$)):0===O?0:($=F/O,_Mathabs(O)*_Mathsqrt(1+$*$))},E.b=function(F,O,$){for(var Z=Array(F),W=0;W<F;W++){Z[W]=Array(O);for(var K=0;K<O;K++)Z[W][K]=$}return Z}},function(D,E,I){'use strict';function P(){this.children=[],this.distance=-1,this.index=[]}const T=I(96);P.prototype.cut=function(R){if(0>R)throw new RangeError('Threshold too small');var F=new P;F.children=this.children,F.distance=this.distance,F.index=this.index;for(var O=[F],$=[],Z;0<O.length;)Z=O.shift(),R>=Z.distance?$.push(Z):O=O.concat(Z.children);return $},P.prototype.group=function(R){if(!_NumberisInteger(R)||1>R)throw new RangeError('Number of groups must be a positive integer');const F=new T(function(Z,W){return W.distance-Z.distance});for(F.push(this);F.size()<R;){var O=F.pop();if(0===O.children.length)break;O.children.forEach((Z)=>F.push(Z))}var $=new P;return $.children=F.toArray(),$.distance=this.distance,$},P.prototype.traverse=function(R){function F(O,$){if($(O),O.children)for(var Z=O.children.length-1;0<=Z;Z--)F(O.children[Z],$)}F(this,R)},D.exports=P},function(D,E){'use strict';E.hypotenuse=function(T,R){var F;return _Mathabs(T)>_Mathabs(R)?(F=R/T,_Mathabs(T)*_Mathsqrt(1+F*F)):0===R?0:(F=T/R,_Mathabs(R)*_Mathsqrt(1+F*F))},E.getEmpty2DArray=function(P,T){for(var R=Array(P),F=0;F<P;F++)R[F]=Array(T);return R},E.getFilled2DArray=function(P,T,R){for(var F=Array(P),O=0;O<P;O++){F[O]=Array(T);for(var $=0;$<T;$++)F[O][$]=R}return F}},function(D,E,I){'use strict';D.exports=I(2).Matrix,D.exports.Decompositions=D.exports.DC=I(111)},function(D){D.exports=function(P,T){P=P||0;for(var R=Array(P),F=0;F<P;F++)R[F]=T;return R}},function(D,E){'use strict';var P='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';E.encode=function(T){for(var F='',ee=0,O,$,Z,W,K,Q,G;ee<T.length;)O=T.charCodeAt(ee++),$=T.charCodeAt(ee++),Z=T.charCodeAt(ee++),W=O>>2,K=(3&O)<<4|$>>4,Q=(15&$)<<2|Z>>6,G=63&Z,isNaN($)?Q=G=64:isNaN(Z)&&(G=64),F=F+P.charAt(W)+P.charAt(K)+P.charAt(Q)+P.charAt(G);return F},E.decode=function(T){var F='',O,$,Z,W,K,Q,G,ee=0;for(T=T.replace(/[^A-Za-z0-9\+\/\=]/g,'');ee<T.length;)W=P.indexOf(T.charAt(ee++)),K=P.indexOf(T.charAt(ee++)),Q=P.indexOf(T.charAt(ee++)),G=P.indexOf(T.charAt(ee++)),O=W<<2|K>>4,$=(15&K)<<4|Q>>2,Z=(3&Q)<<6|G,F+=_StringfromCharCode(O),64!=Q&&(F+=_StringfromCharCode($)),64!=G&&(F+=_StringfromCharCode(Z));return F}},function(D,E,I){'use strict';E.STORE={magic:'\0\0',compress:function(P){return P},uncompress:function(P){return P},compressInputType:null,uncompressInputType:null},E.DEFLATE=I(155)},function(D,E,I){'use strict';(function(P){D.exports=function(T,R){return new P(T,R)},D.exports.test=function(T){return P.isBuffer(T)}}).call(E,I(25).Buffer)},function(D,E,I){'use strict';var P=I(6),T=I(0),R=I(153),F=I(53),O=I(52),$=I(18),Z=I(19),W=I(50),K=I(20),Q=I(56),G=I(159),ee=I(160),te=function(xe){if(xe._data instanceof W&&(xe._data=xe._data.getContent(),xe.options.binary=!0,xe.options.base64=!1,'uint8array'===T.getTypeOf(xe._data))){var be=xe._data;xe._data=new Uint8Array(be.length),0!==be.length&&xe._data.set(be,0)}return xe._data},ne=function(xe){var be=te(xe),_e=T.getTypeOf(be);return'string'===_e?!xe.options.binary&&P.nodebuffer?K(be,'utf-8'):xe.asBinary():be},oe=function(xe){var be=te(this);return null===be||'undefined'==typeof be?'':(this.options.base64&&(be=$.decode(be)),be=xe&&this.options.binary?ye.utf8decode(be):T.transformTo('string',be),xe||this.options.binary||(be=T.transformTo('string',ye.utf8encode(be))),be)},se=function(xe,be,_e){this.name=xe,this.dir=_e.dir,this.date=_e.date,this.comment=_e.comment,this.unixPermissions=_e.unixPermissions,this.dosPermissions=_e.dosPermissions,this._data=be,this.options=_e,this._initialMetadata={dir:_e.dir,date:_e.date}};se.prototype={asText:function(){return oe.call(this,!0)},asBinary:function(){return oe.call(this,!1)},asNodeBuffer:function(){var xe=ne(this);return T.transformTo('nodebuffer',xe)},asUint8Array:function(){var xe=ne(this);return T.transformTo('uint8array',xe)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var ae=function(xe,be){var _e='',ke;for(ke=0;ke<be;ke++)_e+=_StringfromCharCode(255&xe),xe>>>=8;return _e},le=function(xe){return xe=xe||{},!0===xe.base64&&(null===xe.binary||void 0===xe.binary)&&(xe.binary=!0),xe=T.extend(xe,O),xe.date=xe.date||new Date,null!==xe.compression&&(xe.compression=xe.compression.toUpperCase()),xe},de=function(xe,be,_e){var ke=T.getTypeOf(be),je;if(_e=le(_e),'string'==typeof _e.unixPermissions&&(_e.unixPermissions=parseInt(_e.unixPermissions,8)),_e.unixPermissions&&16384&_e.unixPermissions&&(_e.dir=!0),_e.dosPermissions&&16&_e.dosPermissions&&(_e.dir=!0),_e.dir&&(xe=ce(xe)),_e.createFolders&&(je=ue(xe))&&pe.call(this,je,!0),_e.dir||null===be||'undefined'==typeof be)_e.base64=!1,_e.binary=!1,be=null,ke=null;else if('string'===ke)_e.binary&&!_e.base64&&!0!==_e.optimizedBinaryString&&(be=T.string2binary(be));else{if(_e.base64=!1,_e.binary=!0,!ke&&!(be instanceof W))throw new Error('The data of \''+xe+'\' is in an unsupported format !');'arraybuffer'===ke&&(be=T.transformTo('uint8array',be))}var we=new se(xe,be,_e);return this.files[xe]=we,we},ue=function(xe){'/'==xe.slice(-1)&&(xe=xe.substring(0,xe.length-1));var be=xe.lastIndexOf('/');return 0<be?xe.substring(0,be):''},ce=function(xe){return'/'!=xe.slice(-1)&&(xe+='/'),xe},pe=function(xe,be){return be='undefined'!=typeof be&&be,xe=ce(xe),this.files[xe]||de.call(this,xe,null,{dir:!0,createFolders:be}),this.files[xe]},he=function(xe,be,_e){var ke=new W,je;return xe._data instanceof W?(ke.uncompressedSize=xe._data.uncompressedSize,ke.crc32=xe._data.crc32,0===ke.uncompressedSize||xe.dir?(be=Z.STORE,ke.compressedContent='',ke.crc32=0):xe._data.compressionMethod===be.magic?ke.compressedContent=xe._data.getCompressedContent():(je=xe._data.getContent(),ke.compressedContent=be.compress(T.transformTo(be.compressInputType,je),_e))):(je=ne(xe),(!je||0===je.length||xe.dir)&&(be=Z.STORE,je=''),ke.uncompressedSize=je.length,ke.crc32=R(je),ke.compressedContent=be.compress(T.transformTo(be.compressInputType,je),_e)),ke.compressedSize=ke.compressedContent.length,ke.compressionMethod=be.magic,ke},ge=function(xe,be){var _e=xe;return xe||(_e=be?16893:33204),(65535&_e)<<16},me=function(xe){return 63&(xe||0)},fe=function(xe,be,_e,ke,je,we){var Ce=_e.compressedContent,ve=we!==Q.utf8encode,Se=T.transformTo('string',we(be.name)),De=T.transformTo('string',Q.utf8encode(be.name)),Ee=be.comment||'',Ae=T.transformTo('string',we(Ee)),Ie=T.transformTo('string',Q.utf8encode(Ee)),He=De.length!==be.name.length,Pe=Ie.length!==Ee.length,Te=be.options,Me='',ze='',Oe='',Re,Fe,Xe,Ne;Xe=be._initialMetadata.dir===be.dir?Te.dir:be.dir,Ne=be._initialMetadata.date===be.date?Te.date:be.date;var Ye=0,Le=0;Xe&&(Ye|=16),'UNIX'===je?(Le=798,Ye|=ge(be.unixPermissions,Xe)):(Le=20,Ye|=me(be.dosPermissions,Xe)),Re=Ne.getHours(),Re<<=6,Re|=Ne.getMinutes(),Re<<=5,Re|=Ne.getSeconds()/2,Fe=Ne.getFullYear()-1980,Fe<<=4,Fe|=Ne.getMonth()+1,Fe<<=5,Fe|=Ne.getDate(),He&&(ze=ae(1,1)+ae(R(Se),4)+De,Me+='up'+ae(ze.length,2)+ze),Pe&&(Oe=ae(1,1)+ae(this.crc32(Ae),4)+Ie,Me+='uc'+ae(Oe.length,2)+Oe);var Ue='';Ue+='\n\0',Ue+=!ve&&(He||Pe)?'\0\b':'\0\0',Ue+=_e.compressionMethod,Ue+=ae(Re,2),Ue+=ae(Fe,2),Ue+=ae(_e.crc32,4),Ue+=ae(_e.compressedSize,4),Ue+=ae(_e.uncompressedSize,4),Ue+=ae(Se.length,2),Ue+=ae(Me.length,2);var Be=F.LOCAL_FILE_HEADER+Ue+Se+Me,qe=F.CENTRAL_FILE_HEADER+ae(Le,2)+Ue+ae(Ae.length,2)+'\0\0\0\0'+ae(Ye,4)+ae(ke,4)+Se+Me+Ae;return{fileRecord:Be,dirRecord:qe,compressedObject:_e}},ye={load:function(){throw new Error('Load method is not defined. Is the file jszip-load.js included ?')},filter:function(xe){var be=[],_e,ke,je,we;for(_e in this.files)this.files.hasOwnProperty(_e)&&(je=this.files[_e],we=new se(je.name,je._data,T.extend(je.options)),ke=_e.slice(this.root.length,_e.length),_e.slice(0,this.root.length)===this.root&&xe(ke,we)&&be.push(we));return be},file:function(xe,be,_e){if(1===arguments.length){if(T.isRegExp(xe)){var ke=xe;return this.filter(function(je,we){return!we.dir&&ke.test(je)})}return this.filter(function(je,we){return!we.dir&&je===xe})[0]||null}return xe=this.root+xe,de.call(this,xe,be,_e),this},folder:function(xe){if(!xe)return this;if(T.isRegExp(xe))return this.filter(function(je,we){return we.dir&&xe.test(je)});var be=this.root+xe,_e=pe.call(this,be),ke=this.clone();return ke.root=_e.name,ke},remove:function(xe){xe=this.root+xe;var be=this.files[xe];if(be||('/'!=xe.slice(-1)&&(xe+='/'),be=this.files[xe]),be&&!be.dir)delete this.files[xe];else for(var _e=this.filter(function(je,we){return we.name.slice(0,xe.length)===xe}),ke=0;ke<_e.length;ke++)delete this.files[_e[ke].name];return this},generate:function(xe){xe=T.extend(xe||{},{base64:!0,compression:'STORE',compressionOptions:null,type:'base64',platform:'DOS',comment:null,mimeType:'application/zip',encodeFileName:Q.utf8encode}),T.checkSupport(xe.type),('darwin'===xe.platform||'freebsd'===xe.platform||'linux'===xe.platform||'sunos'===xe.platform)&&(xe.platform='UNIX'),'win32'===xe.platform&&(xe.platform='DOS');var be=[],_e=0,ke=0,Ce=T.transformTo('string',xe.encodeFileName(xe.comment||this.comment||'')),je,we;for(var ve in this.files)if(this.files.hasOwnProperty(ve)){var Se=this.files[ve],De=Se.options.compression||xe.compression.toUpperCase(),Ee=Z[De];if(!Ee)throw new Error(De+' is not a valid compression method !');var Ae=Se.options.compressionOptions||xe.compressionOptions||{},Ie=he.call(this,Se,Ee,Ae),He=fe.call(this,ve,Se,Ie,_e,xe.platform,xe.encodeFileName);_e+=He.fileRecord.length+Ie.compressedSize,ke+=He.dirRecord.length,be.push(He)}var Pe='';Pe=F.CENTRAL_DIRECTORY_END+'\0\0\0\0'+ae(be.length,2)+ae(be.length,2)+ae(ke,4)+ae(_e,4)+ae(Ce.length,2)+Ce;var Te=xe.type.toLowerCase();for(je='uint8array'===Te||'arraybuffer'===Te||'blob'===Te||'nodebuffer'===Te?new ee(_e+ke+Pe.length):new G(_e+ke+Pe.length),we=0;we<be.length;we++)je.append(be[we].fileRecord),je.append(be[we].compressedObject.compressedContent);for(we=0;we<be.length;we++)je.append(be[we].dirRecord);je.append(Pe);var Re=je.finalize();switch(xe.type.toLowerCase()){case'uint8array':case'arraybuffer':case'nodebuffer':return T.transformTo(xe.type.toLowerCase(),Re);case'blob':return T.arrayBuffer2Blob(T.transformTo('arraybuffer',Re),xe.mimeType);case'base64':return xe.base64?$.encode(Re):Re;default:return Re;}},crc32:function(xe,be){return R(xe,be)},utf8encode:function(xe){return T.transformTo('string',Q.utf8encode(xe))},utf8decode:function(xe){return Q.utf8decode(xe)}};D.exports=ye},function(D){'use strict';D.exports={0:'',1:'stream end',2:'need dictionary','-1':'file error','-2':'stream error','-3':'data error','-4':'insufficient memory','-5':'buffer error','-6':'incompatible version'}},function(D,E,I){'use strict';const P=I(149),T=I(150),R=I(24),F=I(46),O=I(7).array;class $ extends Array{constructor(Z){if(Array.isArray(Z)){super(Z.length);for(let W=0;W<Z.length;W++)this[W]=Z[W]}else'number'==typeof Z?super(Z):super()}static fromSignals(Z,W){W=Object.assign({},{lineWidth:1,frequency:400,nucleus:'1H'},W),Z=F.group(Z,W);const K=Z.length;var Q,G,ee,te,ne,oe;const se=Array(K);for(Q=0;Q<K;Q++){if(ee=Z[Q],te=0,oe=ee.j,oe)for(G=0;G<oe.length;G++)te+=oe[G].coupling;te+=2*W.lineWidth,te/=W.frequency,se[Q]={from:ee.delta-te,to:ee.delta+te,integral:ee.nbAtoms,signal:[ee]}}for(Q=0;Q<se.length;Q++)for(se[Q]._highlight=se[Q].signal[0].diaIDs,ne=(se[Q].from+se[Q].to)/2,te=_Mathabs(se[Q].from-se[Q].to),G=se.length-1;G>Q;G--)_Mathabs(ne-(se[G].from+se[G].to)/2)<=_Mathabs(te+_Mathabs(se[G].from-se[G].to))/2&&(se[Q].from=_Mathmin(se[Q].from,se[G].from),se[Q].to=_Mathmax(se[Q].to,se[G].to),se[Q].integral+=se[G].integral,se[Q]._highlight.push(se[G].signal[0].diaIDs[0]),se[G].signal.forEach((ae)=>{se[Q].signal.push(ae)}),se.splice(G,1),G=se.length-1,ne=(se[Q].from+se[Q].to)/2,te=_Mathabs(se[Q].from-se[Q].to));return se.sort((ae,le)=>{return ae.from-le.from}),new $(se)}static fromSpectrum(Z,W={}){return Z.getRanges(W)}updateIntegrals(Z={}){var W=Z.factor||1,K;if(Z.sum){var Q=Z.sum||1,G=0;for(K=0;K<this.length;K++)G+=this[K].integral;W=Q/G}for(K=0;K<this.length;K++)this[K].integral*=W;return this}getVector(Z){if(this[0].signal[0].peak)return T(this.getPeakList(),Z);throw Error('This method is only for signals with peaks')}getPeakList(){if(this[0].signal[0].peak){for(var Z=[],W=0,K;W<this.length;W++){K=this[W];for(var Q=0;Q<K.signal.length;Q++)Z=Z.concat(K.signal[Q].peak)}return Z}throw Error('This method is only for signals with peaks')}getACS(Z){return P(this,Z)}getAnnotations(Z){return R.annotations1D(this,Z)}toIndex(Z={}){var W=[];Z.joinCouplings&&this.joinCouplings(Z);var K=!0,Q=!1,G;try{for(var ee=this[Symbol.iterator](),te;!(K=(te=ee.next()).done);K=!0){let oe=te.value;if(Array.isArray(oe.signal)&&0<oe.signal.length){let se=oe.signal.length;var ne=Array(se);for(let ae=0;ae<se;ae++)ne[ae]=oe.signal[ae].delta;W.push({multiplicity:1<se?'m':oe.signal[0].multiplicity||F.joinCoupling(oe.signal[0],Z.tolerance),delta:O.arithmeticMean(ne)||0.5*(oe.to+oe.from),integral:oe.integral})}else W.push({delta:0.5*(oe.to+oe.from),multiplicity:'m'})}}catch(oe){Q=!0,G=oe}finally{try{!K&&ee.return&&ee.return()}finally{if(Q)throw G}}return W}joinCouplings(Z={}){this.forEach((W)=>{W.signal.forEach((K)=>{K.multiplicity=F.joinCoupling(K,Z.tolerance)})})}clone(){let Z=JSON.parse(JSON.stringify(this));return new $(Z)}}D.exports=$},function(D){'use strict';var R={type:'rect',line:0,lineLabel:1,labelColor:'red',strokeColor:'red',strokeWidth:'1px',fillColor:'green',width:0.05,height:10,toFixed:1,maxLines:_NumberMAX_VALUE,fromToc:!1},F={type:'rect',labelColor:'red',strokeColor:'red',strokeWidth:'1px',fillColor:'green',width:'6px',height:'6px'};D.exports={annotations2D:function(O,$){for(var Z=Object.assign({},F,$),W=[],K=O.length-1;0<=K;K--){var Q=O[K],G={};G.type=Z.type,G._highlight=Q._highlight,G._highlight&&0!==G._highlight.length||(G._highlight=[Q.signalID]),Q._highlight=G._highlight,G.position=[{x:Q.fromTo[0].from-0.01,y:Q.fromTo[1].from-0.01,dx:Z.width,dy:Z.height},{x:Q.fromTo[0].to+0.01,y:Q.fromTo[1].to+0.01}],G.fillColor=Z.fillColor,G.label={text:Q.remark,position:{x:Q.signal[0].delta[0],y:Q.signal[0].delta[1]-0.025}},G.strokeColor=1===Q.integral?Z.strokeColor:'rgb(0,128,0)',G.strokeWidth=Z.strokeWidth,G.width=Z.width,G.height=Z.height,G.info=Q,W.push(G)}return W},annotations1D:function(O,$){for(var Z=Object.assign({},R,$),W=Z.height,K=[],Q=0;Q<O.length;Q++){var G=O[Q],ee={};if(K.push(ee),ee.line=Z.line,ee._highlight=G._highlight,Z.fromToc){let te=Z.line<Z.maxLines?Z.line:Z.maxLines-1;ee._highlight=[Z.line],ee.position=[{x:G.delta-Z.width,y:te*W+'px'},{x:G.delta+Z.width,y:te*W+3+'px'}]}else ee._highlight&&0!==ee._highlight.length||(ee._highlight=[G.signalID],G.signal.forEach(function(te){for(let ne=0;ne<te.diaID.length;ne++)ee._highlight.push(te.diaID[ne])}),ee.position=G.to&&G.from&&G.to!==G.from?[{x:G.to,y:Z.line*W+'px'},{x:G.from,y:Z.line*W+3+'px'}]:[{x:G.signal[0].delta-Z.width,y:Z.line*W+'px'},{x:G.signal[0].delta+Z.width,y:Z.line*W+3+'px'}]);G._highlight=ee._highlight,ee.type=Z.type,!Z.noLabel&&G.integral&&(ee.label={text:G.integral.toFixed(Z.toFixed),size:'11px',anchor:'middle',color:Z.labelColor,position:{x:(ee.position[0].x+ee.position[1].x)/2,y:(Z.line+Z.lineLabel)*W+'px',dy:'5px'}}),ee.strokeColor=Z.strokeColor,ee.strokeWidth=Z.strokeWidth,ee.fillColor=Z.fillColor,ee.info=G}return K}}},function(D,E,I){'use strict';(function(P){function R(){return O.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function F(qe,Ve){if(R()<Ve)throw new RangeError('Invalid typed array length');return O.TYPED_ARRAY_SUPPORT?(qe=new Uint8Array(Ve),qe.__proto__=O.prototype):(null===qe&&(qe=new O(Ve)),qe.length=Ve),qe}function O(qe,Ve,$e){if(!O.TYPED_ARRAY_SUPPORT&&!(this instanceof O))return new O(qe,Ve,$e);if('number'==typeof qe){if('string'==typeof Ve)throw new Error('If encoding is specified then the first argument must be a string');return K(this,qe)}return $(this,qe,Ve,$e)}function $(qe,Ve,$e,Ze){if('number'==typeof Ve)throw new TypeError('"value" argument must not be a number');return'undefined'!=typeof ArrayBuffer&&Ve instanceof ArrayBuffer?ee(qe,Ve,$e,Ze):'string'==typeof Ve?Q(qe,Ve,$e):te(qe,Ve)}function Z(qe){if('number'!=typeof qe)throw new TypeError('"size" argument must be a number');else if(0>qe)throw new RangeError('"size" argument must not be negative')}function W(qe,Ve,$e,Ze){return Z(Ve),0>=Ve?F(qe,Ve):void 0===$e?F(qe,Ve):'string'==typeof Ze?F(qe,Ve).fill($e,Ze):F(qe,Ve).fill($e)}function K(qe,Ve){if(Z(Ve),qe=F(qe,0>Ve?0:0|ne(Ve)),!O.TYPED_ARRAY_SUPPORT)for(var $e=0;$e<Ve;++$e)qe[$e]=0;return qe}function Q(qe,Ve,$e){if(('string'!=typeof $e||''===$e)&&($e='utf8'),!O.isEncoding($e))throw new TypeError('"encoding" must be a valid string encoding');var Ze=0|se(Ve,$e);qe=F(qe,Ze);var We=qe.write(Ve,$e);return We!==Ze&&(qe=qe.slice(0,We)),qe}function G(qe,Ve){var $e=0>Ve.length?0:0|ne(Ve.length);qe=F(qe,$e);for(var Ze=0;Ze<$e;Ze+=1)qe[Ze]=255&Ve[Ze];return qe}function ee(qe,Ve,$e,Ze){if(Ve.byteLength,0>$e||Ve.byteLength<$e)throw new RangeError('\'offset\' is out of bounds');if(Ve.byteLength<$e+(Ze||0))throw new RangeError('\'length\' is out of bounds');return Ve=void 0===$e&&void 0===Ze?new Uint8Array(Ve):void 0===Ze?new Uint8Array(Ve,$e):new Uint8Array(Ve,$e,Ze),O.TYPED_ARRAY_SUPPORT?(qe=Ve,qe.__proto__=O.prototype):qe=G(qe,Ve),qe}function te(qe,Ve){if(O.isBuffer(Ve)){var $e=0|ne(Ve.length);return(qe=F(qe,$e),0===qe.length)?qe:(Ve.copy(qe,0,0,$e),qe)}if(Ve){if('undefined'!=typeof ArrayBuffer&&Ve.buffer instanceof ArrayBuffer||'length'in Ve)return'number'!=typeof Ve.length||Xe(Ve.length)?F(qe,0):G(qe,Ve);if('Buffer'===Ve.type&&Le(Ve.data))return G(qe,Ve.data)}throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')}function ne(qe){if(qe>=R())throw new RangeError('Attempt to allocate Buffer larger than maximum size: 0x'+R().toString(16)+' bytes');return 0|qe}function se(qe,Ve){if(O.isBuffer(qe))return qe.length;if('undefined'!=typeof ArrayBuffer&&'function'==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(qe)||qe instanceof ArrayBuffer))return qe.byteLength;'string'!=typeof qe&&(qe=''+qe);var $e=qe.length;if(0===$e)return 0;for(var Ze=!1;;)switch(Ve){case'ascii':case'latin1':case'binary':return $e;case'utf8':case'utf-8':case void 0:return Re(qe).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*$e;case'hex':return $e>>>1;case'base64':return ze(qe).length;default:if(Ze)return Re(qe).length;Ve=(''+Ve).toLowerCase(),Ze=!0;}}function ae(qe,Ve,$e){var Ze=!1;if((void 0===Ve||0>Ve)&&(Ve=0),Ve>this.length)return'';if((void 0===$e||$e>this.length)&&($e=this.length),0>=$e)return'';if($e>>>=0,Ve>>>=0,$e<=Ve)return'';for(qe||(qe='utf8');;)switch(qe){case'hex':return je(this,Ve,$e);case'utf8':case'utf-8':return xe(this,Ve,$e);case'ascii':return _e(this,Ve,$e);case'latin1':case'binary':return ke(this,Ve,$e);case'base64':return ye(this,Ve,$e);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return we(this,Ve,$e);default:if(Ze)throw new TypeError('Unknown encoding: '+qe);qe=(qe+'').toLowerCase(),Ze=!0;}}function le(qe,Ve,$e){var Ze=qe[Ve];qe[Ve]=qe[$e],qe[$e]=Ze}function de(qe,Ve,$e,Ze,We){if(0===qe.length)return-1;if('string'==typeof $e?(Ze=$e,$e=0):2147483647<$e?$e=2147483647:-2147483648>$e&&($e=-2147483648),$e=+$e,isNaN($e)&&($e=We?0:qe.length-1),0>$e&&($e=qe.length+$e),$e>=qe.length){if(We)return-1;$e=qe.length-1}else if(0>$e)if(We)$e=0;else return-1;if('string'==typeof Ve&&(Ve=O.from(Ve,Ze)),O.isBuffer(Ve))return 0===Ve.length?-1:ue(qe,Ve,$e,Ze,We);if('number'==typeof Ve)return Ve&=255,O.TYPED_ARRAY_SUPPORT&&'function'==typeof Uint8Array.prototype.indexOf?We?Uint8Array.prototype.indexOf.call(qe,Ve,$e):Uint8Array.prototype.lastIndexOf.call(qe,Ve,$e):ue(qe,[Ve],$e,Ze,We);throw new TypeError('val must be string, number or Buffer')}function ue(qe,Ve,$e,Ze,We){function Ke(ot,st){return 1==Qe?ot[st]:ot.readUInt16BE(st*Qe)}var Qe=1,Ge=qe.length,Je=Ve.length;if(void 0!==Ze&&(Ze=(Ze+'').toLowerCase(),'ucs2'===Ze||'ucs-2'===Ze||'utf16le'===Ze||'utf-16le'===Ze)){if(2>qe.length||2>Ve.length)return-1;Qe=2,Ge/=2,Je/=2,$e/=2}var et;if(We){var tt=-1;for(et=$e;et<Ge;et++)if(Ke(qe,et)!==Ke(Ve,-1==tt?0:et-tt))-1!=tt&&(et-=et-tt),tt=-1;else if(-1==tt&&(tt=et),et-tt+1===Je)return tt*Qe}else for($e+Je>Ge&&($e=Ge-Je),et=$e;0<=et;et--){for(var it=!0,nt=0;nt<Je;nt++)if(Ke(qe,et+nt)!==Ke(Ve,nt)){it=!1;break}if(it)return et}return-1}function ce(qe,Ve,$e,Ze){$e=+$e||0;var We=qe.length-$e;Ze?(Ze=+Ze,Ze>We&&(Ze=We)):Ze=We;var Ke=Ve.length;if(0!=Ke%2)throw new TypeError('Invalid hex string');Ze>Ke/2&&(Ze=Ke/2);for(var Qe=0,Ge;Qe<Ze;++Qe){if(Ge=parseInt(Ve.substr(2*Qe,2),16),isNaN(Ge))return Qe;qe[$e+Qe]=Ge}return Qe}function pe(qe,Ve,$e,Ze){return Oe(Re(Ve,qe.length-$e),qe,$e,Ze)}function he(qe,Ve,$e,Ze){return Oe(Fe(Ve),qe,$e,Ze)}function ge(qe,Ve,$e,Ze){return he(qe,Ve,$e,Ze)}function me(qe,Ve,$e,Ze){return Oe(ze(Ve),qe,$e,Ze)}function fe(qe,Ve,$e,Ze){return Oe(Me(Ve,qe.length-$e),qe,$e,Ze)}function ye(qe,Ve,$e){return 0===Ve&&$e===qe.length?Ne.fromByteArray(qe):Ne.fromByteArray(qe.slice(Ve,$e))}function xe(qe,Ve,$e){$e=_Mathmin(qe.length,$e);for(var Ze=[],We=Ve;We<$e;){var Ke=qe[We],Qe=null,Ge=239<Ke?4:223<Ke?3:191<Ke?2:1;if(We+Ge<=$e){var Je,et,tt,it;1==Ge?128>Ke&&(Qe=Ke):2==Ge?(Je=qe[We+1],128==(192&Je)&&(it=(31&Ke)<<6|63&Je,127<it&&(Qe=it))):3==Ge?(Je=qe[We+1],et=qe[We+2],128==(192&Je)&&128==(192&et)&&(it=(15&Ke)<<12|(63&Je)<<6|63&et,2047<it&&(55296>it||57343<it)&&(Qe=it))):4==Ge?(Je=qe[We+1],et=qe[We+2],tt=qe[We+3],128==(192&Je)&&128==(192&et)&&128==(192&tt)&&(it=(15&Ke)<<18|(63&Je)<<12|(63&et)<<6|63&tt,65535<it&&1114112>it&&(Qe=it))):void 0}null===Qe?(Qe=65533,Ge=1):65535<Qe&&(Qe-=65536,Ze.push(55296|1023&Qe>>>10),Qe=56320|1023&Qe),Ze.push(Qe),We+=Ge}return be(Ze)}function be(qe){var Ve=qe.length;if(Ve<=Ue)return _StringfromCharCode.apply(String,qe);for(var $e='',Ze=0;Ze<Ve;)$e+=_StringfromCharCode.apply(String,qe.slice(Ze,Ze+=Ue));return $e}function _e(qe,Ve,$e){var Ze='';$e=_Mathmin(qe.length,$e);for(var We=Ve;We<$e;++We)Ze+=_StringfromCharCode(127&qe[We]);return Ze}function ke(qe,Ve,$e){var Ze='';$e=_Mathmin(qe.length,$e);for(var We=Ve;We<$e;++We)Ze+=_StringfromCharCode(qe[We]);return Ze}function je(qe,Ve,$e){var Ze=qe.length;(!Ve||0>Ve)&&(Ve=0),(!$e||0>$e||$e>Ze)&&($e=Ze);for(var We='',Ke=Ve;Ke<$e;++Ke)We+=Te(qe[Ke]);return We}function we(qe,Ve,$e){for(var Ze=qe.slice(Ve,$e),We='',Ke=0;Ke<Ze.length;Ke+=2)We+=_StringfromCharCode(Ze[Ke]+256*Ze[Ke+1]);return We}function Ce(qe,Ve,$e){if(0!=qe%1||0>qe)throw new RangeError('offset is not uint');if(qe+Ve>$e)throw new RangeError('Trying to access beyond buffer length')}function ve(qe,Ve,$e,Ze,We,Ke){if(!O.isBuffer(qe))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ve>We||Ve<Ke)throw new RangeError('"value" argument is out of bounds');if($e+Ze>qe.length)throw new RangeError('Index out of range')}function Se(qe,Ve,$e,Ze){0>Ve&&(Ve=65535+Ve+1);for(var We=0,Ke=_Mathmin(qe.length-$e,2);We<Ke;++We)qe[$e+We]=(Ve&255<<8*(Ze?We:1-We))>>>8*(Ze?We:1-We)}function De(qe,Ve,$e,Ze){0>Ve&&(Ve=4294967295+Ve+1);for(var We=0,Ke=_Mathmin(qe.length-$e,4);We<Ke;++We)qe[$e+We]=255&Ve>>>8*(Ze?We:3-We)}function Ee(qe,Ve,$e,Ze){if($e+Ze>qe.length)throw new RangeError('Index out of range');if(0>$e)throw new RangeError('Index out of range')}function Ae(qe,Ve,$e,Ze,We){return We||Ee(qe,Ve,$e,4,3.4028234663852886e38,-3.4028234663852886e38),Ye.write(qe,Ve,$e,Ze,23,4),$e+4}function Ie(qe,Ve,$e,Ze,We){return We||Ee(qe,Ve,$e,8,1.7976931348623157e308,-1.7976931348623157e308),Ye.write(qe,Ve,$e,Ze,52,8),$e+8}function He(qe){if(qe=Pe(qe).replace(Be,''),2>qe.length)return'';for(;0!=qe.length%4;)qe+='=';return qe}function Pe(qe){return qe.trim?qe.trim():qe.replace(/^\s+|\s+$/g,'')}function Te(qe){return 16>qe?'0'+qe.toString(16):qe.toString(16)}function Re(qe,Ve){Ve=Ve||Infinity;for(var Ze=qe.length,We=null,Ke=[],Qe=0,$e;Qe<Ze;++Qe){if($e=qe.charCodeAt(Qe),55295<$e&&57344>$e){if(!We){if(56319<$e){-1<(Ve-=3)&&Ke.push(239,191,189);continue}else if(Qe+1===Ze){-1<(Ve-=3)&&Ke.push(239,191,189);continue}We=$e;continue}if(56320>$e){-1<(Ve-=3)&&Ke.push(239,191,189),We=$e;continue}$e=(We-55296<<10|$e-56320)+65536}else We&&-1<(Ve-=3)&&Ke.push(239,191,189);if(We=null,128>$e){if(0>(Ve-=1))break;Ke.push($e)}else if(2048>$e){if(0>(Ve-=2))break;Ke.push(192|$e>>6,128|63&$e)}else if(65536>$e){if(0>(Ve-=3))break;Ke.push(224|$e>>12,128|63&$e>>6,128|63&$e)}else if(1114112>$e){if(0>(Ve-=4))break;Ke.push(240|$e>>18,128|63&$e>>12,128|63&$e>>6,128|63&$e)}else throw new Error('Invalid code point')}return Ke}function Fe(qe){for(var Ve=[],$e=0;$e<qe.length;++$e)Ve.push(255&qe.charCodeAt($e));return Ve}function Me(qe,Ve){for(var Ke=[],Qe=0,$e,Ze,We;Qe<qe.length&&!(0>(Ve-=2));++Qe)$e=qe.charCodeAt(Qe),Ze=$e>>8,We=$e%256,Ke.push(We),Ke.push(Ze);return Ke}function ze(qe){return Ne.toByteArray(He(qe))}function Oe(qe,Ve,$e,Ze){for(var We=0;We<Ze&&!(We+$e>=Ve.length||We>=qe.length);++We)Ve[We+$e]=qe[We];return We}function Xe(qe){return qe!==qe}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var Ne=I(69),Ye=I(70),Le=I(71);E.Buffer=O,E.SlowBuffer=function(qe){return+qe!=qe&&(qe=0),O.alloc(+qe)},E.INSPECT_MAX_BYTES=50,O.TYPED_ARRAY_SUPPORT=P.TYPED_ARRAY_SUPPORT===void 0?function(){try{var qe=new Uint8Array(1);return qe.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===qe.foo()&&'function'==typeof qe.subarray&&0===qe.subarray(1,1).byteLength}catch(Ve){return!1}}():P.TYPED_ARRAY_SUPPORT,E.kMaxLength=R(),O.poolSize=8192,O._augment=function(qe){return qe.__proto__=O.prototype,qe},O.from=function(qe,Ve,$e){return $(null,qe,Ve,$e)},O.TYPED_ARRAY_SUPPORT&&(O.prototype.__proto__=Uint8Array.prototype,O.__proto__=Uint8Array,'undefined'!=typeof Symbol&&Symbol.species&&O[Symbol.species]===O&&Object.defineProperty(O,Symbol.species,{value:null,configurable:!0})),O.alloc=function(qe,Ve,$e){return W(null,qe,Ve,$e)},O.allocUnsafe=function(qe){return K(null,qe)},O.allocUnsafeSlow=function(qe){return K(null,qe)},O.isBuffer=function(Ve){return!!(null!=Ve&&Ve._isBuffer)},O.compare=function(Ve,$e){if(!O.isBuffer(Ve)||!O.isBuffer($e))throw new TypeError('Arguments must be Buffers');if(Ve===$e)return 0;for(var Ze=Ve.length,We=$e.length,Ke=0,Qe=_Mathmin(Ze,We);Ke<Qe;++Ke)if(Ve[Ke]!==$e[Ke]){Ze=Ve[Ke],We=$e[Ke];break}return Ze<We?-1:We<Ze?1:0},O.isEncoding=function(Ve){switch((Ve+'').toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1;}},O.concat=function(Ve,$e){if(!Le(Ve))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Ve.length)return O.alloc(0);var Ze;if($e===void 0)for($e=0,Ze=0;Ze<Ve.length;++Ze)$e+=Ve[Ze].length;var We=O.allocUnsafe($e),Ke=0;for(Ze=0;Ze<Ve.length;++Ze){var Qe=Ve[Ze];if(!O.isBuffer(Qe))throw new TypeError('"list" argument must be an Array of Buffers');Qe.copy(We,Ke),Ke+=Qe.length}return We},O.byteLength=se,O.prototype._isBuffer=!0,O.prototype.swap16=function(){var Ve=this.length;if(0!=Ve%2)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var $e=0;$e<Ve;$e+=2)le(this,$e,$e+1);return this},O.prototype.swap32=function(){var Ve=this.length;if(0!=Ve%4)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var $e=0;$e<Ve;$e+=4)le(this,$e,$e+3),le(this,$e+1,$e+2);return this},O.prototype.swap64=function(){var Ve=this.length;if(0!=Ve%8)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var $e=0;$e<Ve;$e+=8)le(this,$e,$e+7),le(this,$e+1,$e+6),le(this,$e+2,$e+5),le(this,$e+3,$e+4);return this},O.prototype.toString=function(){var Ve=0|this.length;return 0==Ve?'':0===arguments.length?xe(this,0,Ve):ae.apply(this,arguments)},O.prototype.equals=function(Ve){if(!O.isBuffer(Ve))throw new TypeError('Argument must be a Buffer');return this===Ve||0===O.compare(this,Ve)},O.prototype.inspect=function(){var Ve='',$e=E.INSPECT_MAX_BYTES;return 0<this.length&&(Ve=this.toString('hex',0,$e).match(/.{2}/g).join(' '),this.length>$e&&(Ve+=' ... ')),'<Buffer '+Ve+'>'},O.prototype.compare=function(Ve,$e,Ze,We,Ke){if(!O.isBuffer(Ve))throw new TypeError('Argument must be a Buffer');if(void 0===$e&&($e=0),void 0===Ze&&(Ze=Ve?Ve.length:0),void 0===We&&(We=0),void 0===Ke&&(Ke=this.length),0>$e||Ze>Ve.length||0>We||Ke>this.length)throw new RangeError('out of range index');if(We>=Ke&&$e>=Ze)return 0;if(We>=Ke)return-1;if($e>=Ze)return 1;if($e>>>=0,Ze>>>=0,We>>>=0,Ke>>>=0,this===Ve)return 0;for(var Qe=Ke-We,Ge=Ze-$e,Je=_Mathmin(Qe,Ge),et=this.slice(We,Ke),tt=Ve.slice($e,Ze),it=0;it<Je;++it)if(et[it]!==tt[it]){Qe=et[it],Ge=tt[it];break}return Qe<Ge?-1:Ge<Qe?1:0},O.prototype.includes=function(Ve,$e,Ze){return-1!==this.indexOf(Ve,$e,Ze)},O.prototype.indexOf=function(Ve,$e,Ze){return de(this,Ve,$e,Ze,!0)},O.prototype.lastIndexOf=function(Ve,$e,Ze){return de(this,Ve,$e,Ze,!1)},O.prototype.write=function(Ve,$e,Ze,We){if(void 0===$e)We='utf8',Ze=this.length,$e=0;else if(void 0===Ze&&'string'==typeof $e)We=$e,Ze=this.length,$e=0;else if(isFinite($e))$e|=0,isFinite(Ze)?(Ze|=0,void 0===We&&(We='utf8')):(We=Ze,Ze=void 0);else throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');var Ke=this.length-$e;if((void 0===Ze||Ze>Ke)&&(Ze=Ke),0<Ve.length&&(0>Ze||0>$e)||$e>this.length)throw new RangeError('Attempt to write outside buffer bounds');We||(We='utf8');for(var Qe=!1;;)switch(We){case'hex':return ce(this,Ve,$e,Ze);case'utf8':case'utf-8':return pe(this,Ve,$e,Ze);case'ascii':return he(this,Ve,$e,Ze);case'latin1':case'binary':return ge(this,Ve,$e,Ze);case'base64':return me(this,Ve,$e,Ze);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return fe(this,Ve,$e,Ze);default:if(Qe)throw new TypeError('Unknown encoding: '+We);We=(''+We).toLowerCase(),Qe=!0;}},O.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var Ue=4096;O.prototype.slice=function(Ve,$e){var Ze=this.length;Ve=~~Ve,$e=$e===void 0?Ze:~~$e,0>Ve?(Ve+=Ze,0>Ve&&(Ve=0)):Ve>Ze&&(Ve=Ze),0>$e?($e+=Ze,0>$e&&($e=0)):$e>Ze&&($e=Ze),$e<Ve&&($e=Ve);var We;if(O.TYPED_ARRAY_SUPPORT)We=this.subarray(Ve,$e),We.__proto__=O.prototype;else{var Ke=$e-Ve;We=new O(Ke,void 0);for(var Qe=0;Qe<Ke;++Qe)We[Qe]=this[Qe+Ve]}return We},O.prototype.readUIntLE=function(Ve,$e,Ze){Ve|=0,$e|=0,Ze||Ce(Ve,$e,this.length);for(var We=this[Ve],Ke=1,Qe=0;++Qe<$e&&(Ke*=256);)We+=this[Ve+Qe]*Ke;return We},O.prototype.readUIntBE=function(Ve,$e,Ze){Ve|=0,$e|=0,Ze||Ce(Ve,$e,this.length);for(var We=this[Ve+--$e],Ke=1;0<$e&&(Ke*=256);)We+=this[Ve+--$e]*Ke;return We},O.prototype.readUInt8=function(Ve,$e){return $e||Ce(Ve,1,this.length),this[Ve]},O.prototype.readUInt16LE=function(Ve,$e){return $e||Ce(Ve,2,this.length),this[Ve]|this[Ve+1]<<8},O.prototype.readUInt16BE=function(Ve,$e){return $e||Ce(Ve,2,this.length),this[Ve]<<8|this[Ve+1]},O.prototype.readUInt32LE=function(Ve,$e){return $e||Ce(Ve,4,this.length),(this[Ve]|this[Ve+1]<<8|this[Ve+2]<<16)+16777216*this[Ve+3]},O.prototype.readUInt32BE=function(Ve,$e){return $e||Ce(Ve,4,this.length),16777216*this[Ve]+(this[Ve+1]<<16|this[Ve+2]<<8|this[Ve+3])},O.prototype.readIntLE=function(Ve,$e,Ze){Ve|=0,$e|=0,Ze||Ce(Ve,$e,this.length);for(var We=this[Ve],Ke=1,Qe=0;++Qe<$e&&(Ke*=256);)We+=this[Ve+Qe]*Ke;return Ke*=128,We>=Ke&&(We-=_Mathpow(2,8*$e)),We},O.prototype.readIntBE=function(Ve,$e,Ze){Ve|=0,$e|=0,Ze||Ce(Ve,$e,this.length);for(var We=$e,Ke=1,Qe=this[Ve+--We];0<We&&(Ke*=256);)Qe+=this[Ve+--We]*Ke;return Ke*=128,Qe>=Ke&&(Qe-=_Mathpow(2,8*$e)),Qe},O.prototype.readInt8=function(Ve,$e){return $e||Ce(Ve,1,this.length),128&this[Ve]?-1*(255-this[Ve]+1):this[Ve]},O.prototype.readInt16LE=function(Ve,$e){$e||Ce(Ve,2,this.length);var Ze=this[Ve]|this[Ve+1]<<8;return 32768&Ze?4294901760|Ze:Ze},O.prototype.readInt16BE=function(Ve,$e){$e||Ce(Ve,2,this.length);var Ze=this[Ve+1]|this[Ve]<<8;return 32768&Ze?4294901760|Ze:Ze},O.prototype.readInt32LE=function(Ve,$e){return $e||Ce(Ve,4,this.length),this[Ve]|this[Ve+1]<<8|this[Ve+2]<<16|this[Ve+3]<<24},O.prototype.readInt32BE=function(Ve,$e){return $e||Ce(Ve,4,this.length),this[Ve]<<24|this[Ve+1]<<16|this[Ve+2]<<8|this[Ve+3]},O.prototype.readFloatLE=function(Ve,$e){return $e||Ce(Ve,4,this.length),Ye.read(this,Ve,!0,23,4)},O.prototype.readFloatBE=function(Ve,$e){return $e||Ce(Ve,4,this.length),Ye.read(this,Ve,!1,23,4)},O.prototype.readDoubleLE=function(Ve,$e){return $e||Ce(Ve,8,this.length),Ye.read(this,Ve,!0,52,8)},O.prototype.readDoubleBE=function(Ve,$e){return $e||Ce(Ve,8,this.length),Ye.read(this,Ve,!1,52,8)},O.prototype.writeUIntLE=function(Ve,$e,Ze,We){if(Ve=+Ve,$e|=0,Ze|=0,!We){var Ke=_Mathpow(2,8*Ze)-1;ve(this,Ve,$e,Ze,Ke,0)}var Qe=1,Ge=0;for(this[$e]=255&Ve;++Ge<Ze&&(Qe*=256);)this[$e+Ge]=255&Ve/Qe;return $e+Ze},O.prototype.writeUIntBE=function(Ve,$e,Ze,We){if(Ve=+Ve,$e|=0,Ze|=0,!We){var Ke=_Mathpow(2,8*Ze)-1;ve(this,Ve,$e,Ze,Ke,0)}var Qe=Ze-1,Ge=1;for(this[$e+Qe]=255&Ve;0<=--Qe&&(Ge*=256);)this[$e+Qe]=255&Ve/Ge;return $e+Ze},O.prototype.writeUInt8=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,1,255,0),O.TYPED_ARRAY_SUPPORT||(Ve=_Mathfloor(Ve)),this[$e]=255&Ve,$e+1},O.prototype.writeUInt16LE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,2,65535,0),O.TYPED_ARRAY_SUPPORT?(this[$e]=255&Ve,this[$e+1]=Ve>>>8):Se(this,Ve,$e,!0),$e+2},O.prototype.writeUInt16BE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,2,65535,0),O.TYPED_ARRAY_SUPPORT?(this[$e]=Ve>>>8,this[$e+1]=255&Ve):Se(this,Ve,$e,!1),$e+2},O.prototype.writeUInt32LE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,4,4294967295,0),O.TYPED_ARRAY_SUPPORT?(this[$e+3]=Ve>>>24,this[$e+2]=Ve>>>16,this[$e+1]=Ve>>>8,this[$e]=255&Ve):De(this,Ve,$e,!0),$e+4},O.prototype.writeUInt32BE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,4,4294967295,0),O.TYPED_ARRAY_SUPPORT?(this[$e]=Ve>>>24,this[$e+1]=Ve>>>16,this[$e+2]=Ve>>>8,this[$e+3]=255&Ve):De(this,Ve,$e,!1),$e+4},O.prototype.writeIntLE=function(Ve,$e,Ze,We){if(Ve=+Ve,$e|=0,!We){var Ke=_Mathpow(2,8*Ze-1);ve(this,Ve,$e,Ze,Ke-1,-Ke)}var Qe=0,Ge=1,Je=0;for(this[$e]=255&Ve;++Qe<Ze&&(Ge*=256);)0>Ve&&0==Je&&0!==this[$e+Qe-1]&&(Je=1),this[$e+Qe]=255&(Ve/Ge>>0)-Je;return $e+Ze},O.prototype.writeIntBE=function(Ve,$e,Ze,We){if(Ve=+Ve,$e|=0,!We){var Ke=_Mathpow(2,8*Ze-1);ve(this,Ve,$e,Ze,Ke-1,-Ke)}var Qe=Ze-1,Ge=1,Je=0;for(this[$e+Qe]=255&Ve;0<=--Qe&&(Ge*=256);)0>Ve&&0==Je&&0!==this[$e+Qe+1]&&(Je=1),this[$e+Qe]=255&(Ve/Ge>>0)-Je;return $e+Ze},O.prototype.writeInt8=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,1,127,-128),O.TYPED_ARRAY_SUPPORT||(Ve=_Mathfloor(Ve)),0>Ve&&(Ve=255+Ve+1),this[$e]=255&Ve,$e+1},O.prototype.writeInt16LE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,2,32767,-32768),O.TYPED_ARRAY_SUPPORT?(this[$e]=255&Ve,this[$e+1]=Ve>>>8):Se(this,Ve,$e,!0),$e+2},O.prototype.writeInt16BE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,2,32767,-32768),O.TYPED_ARRAY_SUPPORT?(this[$e]=Ve>>>8,this[$e+1]=255&Ve):Se(this,Ve,$e,!1),$e+2},O.prototype.writeInt32LE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,4,2147483647,-2147483648),O.TYPED_ARRAY_SUPPORT?(this[$e]=255&Ve,this[$e+1]=Ve>>>8,this[$e+2]=Ve>>>16,this[$e+3]=Ve>>>24):De(this,Ve,$e,!0),$e+4},O.prototype.writeInt32BE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,4,2147483647,-2147483648),0>Ve&&(Ve=4294967295+Ve+1),O.TYPED_ARRAY_SUPPORT?(this[$e]=Ve>>>24,this[$e+1]=Ve>>>16,this[$e+2]=Ve>>>8,this[$e+3]=255&Ve):De(this,Ve,$e,!1),$e+4},O.prototype.writeFloatLE=function(Ve,$e,Ze){return Ae(this,Ve,$e,!0,Ze)},O.prototype.writeFloatBE=function(Ve,$e,Ze){return Ae(this,Ve,$e,!1,Ze)},O.prototype.writeDoubleLE=function(Ve,$e,Ze){return Ie(this,Ve,$e,!0,Ze)},O.prototype.writeDoubleBE=function(Ve,$e,Ze){return Ie(this,Ve,$e,!1,Ze)},O.prototype.copy=function(Ve,$e,Ze,We){if(Ze||(Ze=0),We||0===We||(We=this.length),$e>=Ve.length&&($e=Ve.length),$e||($e=0),0<We&&We<Ze&&(We=Ze),We===Ze)return 0;if(0===Ve.length||0===this.length)return 0;if(0>$e)throw new RangeError('targetStart out of bounds');if(0>Ze||Ze>=this.length)throw new RangeError('sourceStart out of bounds');if(0>We)throw new RangeError('sourceEnd out of bounds');We>this.length&&(We=this.length),Ve.length-$e<We-Ze&&(We=Ve.length-$e+Ze);var Ke=We-Ze,Qe;if(this===Ve&&Ze<$e&&$e<We)for(Qe=Ke-1;0<=Qe;--Qe)Ve[Qe+$e]=this[Qe+Ze];else if(1e3>Ke||!O.TYPED_ARRAY_SUPPORT)for(Qe=0;Qe<Ke;++Qe)Ve[Qe+$e]=this[Qe+Ze];else Uint8Array.prototype.set.call(Ve,this.subarray(Ze,Ze+Ke),$e);return Ke},O.prototype.fill=function(Ve,$e,Ze,We){if('string'==typeof Ve){if('string'==typeof $e?(We=$e,$e=0,Ze=this.length):'string'==typeof Ze&&(We=Ze,Ze=this.length),1===Ve.length){var Ke=Ve.charCodeAt(0);256>Ke&&(Ve=Ke)}if(void 0!==We&&'string'!=typeof We)throw new TypeError('encoding must be a string');if('string'==typeof We&&!O.isEncoding(We))throw new TypeError('Unknown encoding: '+We)}else'number'==typeof Ve&&(Ve&=255);if(0>$e||this.length<$e||this.length<Ze)throw new RangeError('Out of range index');if(Ze<=$e)return this;$e>>>=0,Ze=Ze===void 0?this.length:Ze>>>0,Ve||(Ve=0);var Qe;if('number'==typeof Ve)for(Qe=$e;Qe<Ze;++Qe)this[Qe]=Ve;else{var Ge=O.isBuffer(Ve)?Ve:Re(new O(Ve,We).toString()),Je=Ge.length;for(Qe=0;Qe<Ze-$e;++Qe)this[Qe+$e]=Ge[Qe%Je]}return this};var Be=/[^+\/0-9A-Za-z-_]/g}).call(E,I(26))},function(D){var I=function(){return this}();try{I=I||Function('return this')()||(1,eval)('this')}catch(P){'object'==typeof window&&(I=window)}D.exports=I},function(D){'use strict';var P=Object.prototype.hasOwnProperty,T=Object.prototype.toString,R=function($){return'function'==typeof Array.isArray?Array.isArray($):'[object Array]'===T.call($)},F=function($){if(!$||'[object Object]'!==T.call($))return!1;var Z=P.call($,'constructor'),W=$.constructor&&$.constructor.prototype&&P.call($.constructor.prototype,'isPrototypeOf');if($.constructor&&!Z&&!W)return!1;for(var K in $);return'undefined'==typeof K||P.call($,K)};D.exports=function O(){var ee=arguments[0],te=1,ne=arguments.length,oe=!1,$,Z,W,K,Q,G;for('boolean'==typeof ee?(oe=ee,ee=arguments[1]||{},te=2):('object'!=typeof ee&&'function'!=typeof ee||null==ee)&&(ee={});te<ne;++te)if($=arguments[te],null!=$)for(Z in $)W=ee[Z],K=$[Z],ee!==K&&(oe&&K&&(F(K)||(Q=R(K)))?(Q?(Q=!1,G=W&&R(W)?W:[]):G=W&&F(W)?W:{},ee[Z]=O(oe,G,K)):'undefined'!=typeof K&&(ee[Z]=K));return ee}},function(D,E){'use strict';function P(T,R){return T-R}E.sum=function(R){for(var T=0,F=0;F<R.length;F++)T+=R[F];return T},E.max=function(R){for(var T=-Infinity,F=R.length,O=0;O<F;O++)R[O]>T&&(T=R[O]);return T},E.min=function(R){for(var T=Infinity,F=R.length,O=0;O<F;O++)R[O]<T&&(T=R[O]);return T},E.minMax=function(R){for(var F=Infinity,O=-Infinity,$=R.length,Z=0;Z<$;Z++)R[Z]<F&&(F=R[Z]),R[Z]>O&&(O=R[Z]);return{min:F,max:O}},E.arithmeticMean=function(R){for(var F=0,O=R.length,$=0;$<O;$++)F+=R[$];return F/O},E.mean=E.arithmeticMean,E.geometricMean=function(R){for(var F=1,O=R.length,$=0;$<O;$++)F*=R[$];return _Mathpow(F,1/O)},E.logMean=function(R){for(var F=0,O=R.length,$=0;$<O;$++)F+=_Mathlog(R[$]);return F/O},E.grandMean=function(R,F){for(var O=0,$=0,Z=R.length,W=0;W<Z;W++)O+=F[W]*R[W],$+=F[W];return O/$},E.truncatedMean=function(R,F,O){O===void 0&&(O=!1),O||(R=R.slice().sort(P));for(var $=R.length,Z=_Mathfloor($*F),W=0,K=Z;K<$-Z;K++)W+=R[K];return W/($-2*Z)},E.harmonicMean=function(R){for(var F=0,O=R.length,$=0;$<O;$++){if(0===R[$])throw new RangeError('value at index '+$+'is zero');F+=1/R[$]}return O/F},E.contraHarmonicMean=function(R){for(var F=0,O=0,$=R.length,Z=0;Z<$;Z++)F+=R[Z]*R[Z],O+=R[Z];if(0>O)throw new RangeError('sum of values is negative');return F/O},E.median=function(R,F){F===void 0&&(F=!1),F||(R=R.slice().sort(P));var O=R.length,$=_Mathfloor(O/2);return 0==O%2?0.5*(R[$-1]+R[$]):R[$]},E.variance=function(R,F){F===void 0&&(F=!0);for(var O=E.mean(R),$=0,Z=R.length,W=0,K;W<Z;W++)K=R[W]-O,$+=K*K;return F?$/(Z-1):$/Z},E.standardDeviation=function(R,F){return _Mathsqrt(E.variance(R,F))},E.standardError=function(R){return E.standardDeviation(R)/_Mathsqrt(R.length)},E.quartiles=function(R,F){'undefined'==typeof F&&(F=!1),F||(R=R.slice(),R.sort(P));var O=R.length/4,$=R[_Mathceil(O)-1],Z=E.median(R,!0),W=R[_Mathceil(3*O)-1];return{q1:$,q2:Z,q3:W}},E.pooledStandardDeviation=function(R,F){return _Mathsqrt(E.pooledVariance(R,F))},E.pooledVariance=function(R,F){'undefined'==typeof F&&(F=!0);for(var O=0,$=0,Z=R.length,W=0;W<Z;W++){var K=R[W],Q=E.variance(K);O+=(K.length-1)*Q,$+=F?K.length-1:K.length}return O/$},E.mode=function(R){var F=R.length,O=Array(F),$;for($=0;$<F;$++)O[$]=0;var Z=Array(F),W=0;for($=0;$<F;$++){var K=Z.indexOf(R[$]);0<=K?O[K]++:(Z[W]=R[$],O[W]=1,W++)}var Q=0,G=0;for($=0;$<W;$++)O[$]>Q&&(Q=O[$],G=$);return Z[G]},E.covariance=function(R,F,O){'undefined'==typeof O&&(O=!0);var $=E.mean(R),Z=E.mean(F);if(R.length!==F.length)throw'Vectors do not have the same dimensions';for(var W=0,K=R.length,Q=0;Q<K;Q++){var G=R[Q]-$,ee=F[Q]-Z;W+=G*ee}return O?W/(K-1):W/K},E.skewness=function(R,F){'undefined'==typeof F&&(F=!0);for(var O=E.mean(R),$=0,Z=0,W=R.length,K=0,Q;K<W;K++)Q=R[K]-O,$+=Q*Q,Z+=Q*Q*Q;var G=$/W,ee=Z/W,te=ee/_Mathpow(G,3/2);if(F){var ne=_Mathsqrt(W*(W-1));return ne/(W-2)*te}return te},E.kurtosis=function(R,F){'undefined'==typeof F&&(F=!0);for(var O=E.mean(R),$=R.length,Z=0,W=0,K=0,Q;K<$;K++)Q=R[K]-O,Z+=Q*Q,W+=Q*Q*Q*Q;var G=Z/$,ee=W/$;if(F){var te=Z/($-1),oe=W/(te*te);return $*($+1)/(($-1)*($-2)*($-3))*oe-3*(($-1)*($-1)/(($-2)*($-3)))}return ee/(G*G)-3},E.entropy=function(R,F){'undefined'==typeof F&&(F=0);for(var O=0,$=R.length,Z=0;Z<$;Z++)O+=R[Z]*_Mathlog(R[Z]+F);return-O},E.weightedMean=function(R,F){for(var O=0,$=R.length,Z=0;Z<$;Z++)O+=R[Z]*F[Z];return O},E.weightedStandardDeviation=function(R,F){return _Mathsqrt(E.weightedVariance(R,F))},E.weightedVariance=function(R,F){for(var O=E.weightedMean(R,F),$=0,Z=R.length,W=0,K=0,Q=0;Q<Z;Q++){var G=R[Q]-O,ee=F[Q];$+=ee*(G*G),K+=ee,W+=ee*ee}return $*(K/(K*K-W))},E.center=function(R,F){'undefined'==typeof F&&(F=!1);var O=R;F||(O=R.slice());for(var $=E.mean(O),Z=O.length,W=0;W<Z;W++)O[W]-=$},E.standardize=function(R,F,O){'undefined'==typeof F&&(F=E.standardDeviation(R)),'undefined'==typeof O&&(O=!1);for(var $=R.length,Z=O?R:Array($),W=0;W<$;W++)Z[W]=R[W]/F;return Z},E.cumulativeSum=function(R){var F=R.length,O=Array(F);O[0]=R[0];for(var $=1;$<F;$++)O[$]=O[$-1]+R[$];return O}},function(D,E,I){'use strict';function P(F){if(!(this instanceof P))return new P(F);F=T.a.checkMatrix(F);var O=F.clone(),$=F.rows,Z=F.columns,W=Array(Z),K,Q,G,ee;for(G=0;G<Z;G++){var te=0;for(K=G;K<$;K++)te=I.i(R.a)(te,O[K][G]);if(0!==te){for(0>O[G][G]&&(te=-te),K=G;K<$;K++)O[K][G]/=te;for(O[G][G]+=1,Q=G+1;Q<Z;Q++){for(ee=0,K=G;K<$;K++)ee+=O[K][G]*O[K][Q];for(ee=-ee/O[G][G],K=G;K<$;K++)O[K][Q]+=ee*O[K][G]}}W[G]=-te}this.QR=O,this.Rdiag=W}var T=I(1),R=I(13);P.prototype={solve:function(F){F=T.a.checkMatrix(F);var O=this.QR,$=O.rows;if(F.rows!==$)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var Z=F.columns,W=F.clone(),K=O.columns,Q,G,ee,te;for(ee=0;ee<K;ee++)for(G=0;G<Z;G++){for(te=0,Q=ee;Q<$;Q++)te+=O[Q][ee]*W[Q][G];for(te=-te/O[ee][ee],Q=ee;Q<$;Q++)W[Q][G]+=te*O[Q][ee]}for(ee=K-1;0<=ee;ee--){for(G=0;G<Z;G++)W[ee][G]/=this.Rdiag[ee];for(Q=0;Q<ee;Q++)for(G=0;G<Z;G++)W[Q][G]-=W[ee][G]*O[Q][ee]}return W.subMatrix(0,K-1,0,Z-1)},isFullRank:function(){for(var F=this.QR.columns,O=0;O<F;O++)if(0===this.Rdiag[O])return!1;return!0},get upperTriangularMatrix(){var F=this.QR,O=F.columns,$=new T.a(O,O),Z,W;for(Z=0;Z<O;Z++)for(W=0;W<O;W++)$[Z][W]=Z<W?F[Z][W]:Z===W?this.Rdiag[Z]:0;return $},get orthogonalMatrix(){var F=this.QR,O=F.rows,$=F.columns,Z=new T.a(O,$),W,K,Q,G;for(Q=$-1;0<=Q;Q--){for(W=0;W<O;W++)Z[W][Q]=0;for(Z[Q][Q]=1,K=Q;K<$;K++)if(0!==F[Q][Q]){for(G=0,W=Q;W<O;W++)G+=F[W][Q]*Z[W][K];for(G=-G/F[Q][Q],W=Q;W<O;W++)Z[W][K]+=G*F[W][Q]}}return Z}},E.a=P},function(D,E,I){'use strict';function P(F,O){if(!(this instanceof P))return new P(F,O);F=T.a.checkMatrix(F),O=O||{};var $=F.rows,Z=F.columns,W=_Mathmin($,Z),K=!0,Q=!0;!1===O.computeLeftSingularVectors&&(K=!1),!1===O.computeRightSingularVectors&&(Q=!1);var G=!0===O.autoTranspose,ee=!1,te;if(!($<Z))te=F.clone();else if(!G)te=F.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{te=F.transpose(),$=te.rows,Z=te.columns,ee=!0;var ne=K;K=Q,Q=ne}var oe=Array(_Mathmin($+1,Z)),se=I.i(R.b)($,W,0),ae=I.i(R.b)(Z,Z,0),le=Array(Z),de=Array($),ue=_Mathmin($-1,Z),ce=_Mathmax(0,_Mathmin(Z-2,$)),pe,he,ge,me,fe,ye,xe,be,_e,ke,je,we,Ce,ve,Se,De,Ee,Ae,Ie,He,Pe;for(ge=0,ke=_Mathmax(ue,ce);ge<ke;ge++){if(ge<ue){for(oe[ge]=0,pe=ge;pe<$;pe++)oe[ge]=I.i(R.a)(oe[ge],te[pe][ge]);if(0!==oe[ge]){for(0>te[ge][ge]&&(oe[ge]=-oe[ge]),pe=ge;pe<$;pe++)te[pe][ge]/=oe[ge];te[ge][ge]+=1}oe[ge]=-oe[ge]}for(he=ge+1;he<Z;he++){if(ge<ue&&0!==oe[ge]){for(fe=0,pe=ge;pe<$;pe++)fe+=te[pe][ge]*te[pe][he];for(fe=-fe/te[ge][ge],pe=ge;pe<$;pe++)te[pe][he]+=fe*te[pe][ge]}le[he]=te[ge][he]}if(K&&ge<ue)for(pe=ge;pe<$;pe++)se[pe][ge]=te[pe][ge];if(ge<ce){for(le[ge]=0,pe=ge+1;pe<Z;pe++)le[ge]=I.i(R.a)(le[ge],le[pe]);if(0!==le[ge]){for(0>le[ge+1]&&(le[ge]=0-le[ge]),pe=ge+1;pe<Z;pe++)le[pe]/=le[ge];le[ge+1]+=1}if(le[ge]=-le[ge],ge+1<$&&0!==le[ge]){for(pe=ge+1;pe<$;pe++)de[pe]=0;for(he=ge+1;he<Z;he++)for(pe=ge+1;pe<$;pe++)de[pe]+=le[he]*te[pe][he];for(he=ge+1;he<Z;he++)for(fe=-le[he]/le[ge+1],pe=ge+1;pe<$;pe++)te[pe][he]+=fe*de[pe]}if(Q)for(pe=ge+1;pe<Z;pe++)ae[pe][ge]=le[pe]}}if(me=_Mathmin(Z,$+1),ue<Z&&(oe[ue]=te[ue][ue]),$<me&&(oe[me-1]=0),ce+1<me&&(le[ce]=te[ce][me-1]),le[me-1]=0,K){for(he=ue;he<W;he++){for(pe=0;pe<$;pe++)se[pe][he]=0;se[he][he]=1}for(ge=ue-1;0<=ge;ge--)if(0!==oe[ge]){for(he=ge+1;he<W;he++){for(fe=0,pe=ge;pe<$;pe++)fe+=se[pe][ge]*se[pe][he];for(fe=-fe/se[ge][ge],pe=ge;pe<$;pe++)se[pe][he]+=fe*se[pe][ge]}for(pe=ge;pe<$;pe++)se[pe][ge]=-se[pe][ge];for(se[ge][ge]=1+se[ge][ge],pe=0;pe<ge-1;pe++)se[pe][ge]=0}else{for(pe=0;pe<$;pe++)se[pe][ge]=0;se[ge][ge]=1}}if(Q)for(ge=Z-1;0<=ge;ge--){if(ge<ce&&0!==le[ge])for(he=ge+1;he<Z;he++){for(fe=0,pe=ge+1;pe<Z;pe++)fe+=ae[pe][ge]*ae[pe][he];for(fe=-fe/ae[ge+1][ge],pe=ge+1;pe<Z;pe++)ae[pe][he]+=fe*ae[pe][ge]}for(pe=0;pe<Z;pe++)ae[pe][ge]=0;ae[ge][ge]=1}for(var Te=me-1,Re=0,Fe=2.220446049250313e-16;0<me;){for(ge=me-2;-1<=ge&&-1!==ge;ge--)if(_Mathabs(le[ge])<=Fe*(_Mathabs(oe[ge])+_Mathabs(oe[ge+1]))){le[ge]=0;break}if(ge===me-2)je=4;else{for(ye=me-1;ye>=ge&&ye!==ge;ye--)if(fe=(ye===me?0:_Mathabs(le[ye]))+(ye===ge+1?0:_Mathabs(le[ye-1])),_Mathabs(oe[ye])<=Fe*fe){oe[ye]=0;break}ye===ge?je=3:ye===me-1?je=1:(je=2,ge=ye)}switch(ge++,je){case 1:{for(xe=le[me-2],le[me-2]=0,he=me-2;he>=ge;he--)if(fe=I.i(R.a)(oe[he],xe),be=oe[he]/fe,_e=xe/fe,oe[he]=fe,he!==ge&&(xe=-_e*le[he-1],le[he-1]=be*le[he-1]),Q)for(pe=0;pe<Z;pe++)fe=be*ae[pe][he]+_e*ae[pe][me-1],ae[pe][me-1]=-_e*ae[pe][he]+be*ae[pe][me-1],ae[pe][he]=fe;break}case 2:{for(xe=le[ge-1],le[ge-1]=0,he=ge;he<me;he++)if(fe=I.i(R.a)(oe[he],xe),be=oe[he]/fe,_e=xe/fe,oe[he]=fe,xe=-_e*le[he],le[he]=be*le[he],K)for(pe=0;pe<$;pe++)fe=be*se[pe][he]+_e*se[pe][ge-1],se[pe][ge-1]=-_e*se[pe][he]+be*se[pe][ge-1],se[pe][he]=fe;break}case 3:{for(we=_Mathmax(_Mathmax(_Mathmax(_Mathmax(_Mathabs(oe[me-1]),_Mathabs(oe[me-2])),_Mathabs(le[me-2])),_Mathabs(oe[ge])),_Mathabs(le[ge])),Ce=oe[me-1]/we,ve=oe[me-2]/we,Se=le[me-2]/we,De=oe[ge]/we,Ee=le[ge]/we,Ae=((ve+Ce)*(ve-Ce)+Se*Se)/2,Ie=Ce*Se*(Ce*Se),He=0,(0!==Ae||0!==Ie)&&(He=_Mathsqrt(Ae*Ae+Ie),0>Ae&&(He=-He),He=Ie/(Ae+He)),xe=(De+Ce)*(De-Ce)+He,Pe=De*Ee,he=ge;he<me-1;he++){if(fe=I.i(R.a)(xe,Pe),be=xe/fe,_e=Pe/fe,he!==ge&&(le[he-1]=fe),xe=be*oe[he]+_e*le[he],le[he]=be*le[he]-_e*oe[he],Pe=_e*oe[he+1],oe[he+1]=be*oe[he+1],Q)for(pe=0;pe<Z;pe++)fe=be*ae[pe][he]+_e*ae[pe][he+1],ae[pe][he+1]=-_e*ae[pe][he]+be*ae[pe][he+1],ae[pe][he]=fe;if(fe=I.i(R.a)(xe,Pe),be=xe/fe,_e=Pe/fe,oe[he]=fe,xe=be*le[he]+_e*oe[he+1],oe[he+1]=-_e*le[he]+be*oe[he+1],Pe=_e*le[he+1],le[he+1]=be*le[he+1],K&&he<$-1)for(pe=0;pe<$;pe++)fe=be*se[pe][he]+_e*se[pe][he+1],se[pe][he+1]=-_e*se[pe][he]+be*se[pe][he+1],se[pe][he]=fe}le[me-2]=xe,++Re;break}case 4:{if(0>=oe[ge]&&(oe[ge]=0>oe[ge]?-oe[ge]:0,Q))for(pe=0;pe<=Te;pe++)ae[pe][ge]=-ae[pe][ge];for(;ge<Te&&!(oe[ge]>=oe[ge+1]);){if(fe=oe[ge],oe[ge]=oe[ge+1],oe[ge+1]=fe,Q&&ge<Z-1)for(pe=0;pe<Z;pe++)fe=ae[pe][ge+1],ae[pe][ge+1]=ae[pe][ge],ae[pe][ge]=fe;if(K&&ge<$-1)for(pe=0;pe<$;pe++)fe=se[pe][ge+1],se[pe][ge+1]=se[pe][ge],se[pe][ge]=fe;ge++}Re=0,me--;break}}}if(ee){var Me=ae;ae=se,se=Me}this.m=$,this.n=Z,this.s=oe,this.U=se,this.V=ae}var T=I(1),R=I(13);P.prototype={get condition(){return this.s[0]/this.s[_Mathmin(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var O=_Mathmax(this.m,this.n)*this.s[0]*2.220446049250313e-16,$=0,Z=this.s,W=0,K=Z.length;W<K;W++)Z[W]>O&&$++;return $},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*_Mathmax(this.m,this.n)*this.s[0]},get leftSingularVectors(){return T.a.isMatrix(this.U)||(this.U=new T.a(this.U)),this.U},get rightSingularVectors(){return T.a.isMatrix(this.V)||(this.V=new T.a(this.V)),this.V},get diagonalMatrix(){return T.a.diag(this.s)},solve:function(F){var $=this.threshold,Z=this.s.length,W=T.a.zeros(Z,Z),K;for(K=0;K<Z;K++)W[K][K]=_Mathabs(this.s[K])<=$?0:1/this.s[K];var Q=this.U,G=this.rightSingularVectors,ee=G.mmul(W),te=G.rows,ne=Q.length,oe=T.a.zeros(te,ne),se,ae,le;for(K=0;K<te;K++)for(se=0;se<ne;se++){for(le=0,ae=0;ae<Z;ae++)le+=ee[K][ae]*Q[se][ae];oe[K][se]=le}return oe.mmul(F)},solveForDiagonal:function(F){return this.solve(T.a.diag(F))},inverse:function(){var F=this.V,O=this.threshold,$=F.length,Z=F[0].length,W=new T.a($,this.s.length),K,Q;for(K=0;K<$;K++)for(Q=0;Q<Z;Q++)W[K][Q]=_Mathabs(this.s[Q])>O?F[K][Q]/this.s[Q]:0;var G=this.U,ee=G.length,te=G[0].length,ne=new T.a($,ee),oe,se;for(K=0;K<$;K++)for(Q=0;Q<ee;Q++){for(se=0,oe=0;oe<te;oe++)se+=W[K][oe]*G[Q][oe];ne[K][Q]=se}return ne}},E.a=P},function(D,E){'use strict';function P(T,R){return T-R}E.sum=function(R){for(var T=0,F=0;F<R.length;F++)T+=R[F];return T},E.max=function(R){for(var T=R[0],F=R.length,O=1;O<F;O++)R[O]>T&&(T=R[O]);return T},E.min=function(R){for(var T=R[0],F=R.length,O=1;O<F;O++)R[O]<T&&(T=R[O]);return T},E.minMax=function(R){for(var F=R[0],O=R[0],$=R.length,Z=1;Z<$;Z++)R[Z]<F&&(F=R[Z]),R[Z]>O&&(O=R[Z]);return{min:F,max:O}},E.arithmeticMean=function(R){for(var F=0,O=R.length,$=0;$<O;$++)F+=R[$];return F/O},E.mean=E.arithmeticMean,E.geometricMean=function(R){for(var F=1,O=R.length,$=0;$<O;$++)F*=R[$];return _Mathpow(F,1/O)},E.logMean=function(R){for(var F=0,O=R.length,$=0;$<O;$++)F+=_Mathlog(R[$]);return F/O},E.grandMean=function(R,F){for(var O=0,$=0,Z=R.length,W=0;W<Z;W++)O+=F[W]*R[W],$+=F[W];return O/$},E.truncatedMean=function(R,F,O){O===void 0&&(O=!1),O||(R=[].concat(R).sort(P));for(var $=R.length,Z=_Mathfloor($*F),W=0,K=Z;K<$-Z;K++)W+=R[K];return W/($-2*Z)},E.harmonicMean=function(R){for(var F=0,O=R.length,$=0;$<O;$++){if(0===R[$])throw new RangeError('value at index '+$+'is zero');F+=1/R[$]}return O/F},E.contraHarmonicMean=function(R){for(var F=0,O=0,$=R.length,Z=0;Z<$;Z++)F+=R[Z]*R[Z],O+=R[Z];if(0>O)throw new RangeError('sum of values is negative');return F/O},E.median=function(R,F){F===void 0&&(F=!1),F||(R=[].concat(R).sort(P));var O=R.length,$=_Mathfloor(O/2);return 0==O%2?0.5*(R[$-1]+R[$]):R[$]},E.variance=function(R,F){F===void 0&&(F=!0);for(var O=E.mean(R),$=0,Z=R.length,W=0,K;W<Z;W++)K=R[W]-O,$+=K*K;return F?$/(Z-1):$/Z},E.standardDeviation=function(R,F){return _Mathsqrt(E.variance(R,F))},E.standardError=function(R){return E.standardDeviation(R)/_Mathsqrt(R.length)},E.robustMeanAndStdev=function(R){var F=0,O=0,$=R.length,Z=0;for(Z=0;Z<$;Z++)F+=R[Z];F/=$;var W=Array($);for(Z=0;Z<$;Z++)W[Z]=_Mathabs(R[Z]-F);return W.sort(P),O=1==$%2?W[($-1)/2]/0.6745:0.5*(W[$/2]+W[$/2-1])/0.6745,{mean:F,stdev:O}},E.quartiles=function(R,F){'undefined'==typeof F&&(F=!1),F||(R=[].concat(R).sort(P));var O=R.length/4,$=R[_Mathceil(O)-1],Z=E.median(R,!0),W=R[_Mathceil(3*O)-1];return{q1:$,q2:Z,q3:W}},E.pooledStandardDeviation=function(R,F){return _Mathsqrt(E.pooledVariance(R,F))},E.pooledVariance=function(R,F){'undefined'==typeof F&&(F=!0);for(var O=0,$=0,Z=R.length,W=0;W<Z;W++){var K=R[W],Q=E.variance(K);O+=(K.length-1)*Q,$+=F?K.length-1:K.length}return O/$},E.mode=function(R){var F=R.length,O=Array(F),$;for($=0;$<F;$++)O[$]=0;var Z=Array(F),W=0;for($=0;$<F;$++){var K=Z.indexOf(R[$]);0<=K?O[K]++:(Z[W]=R[$],O[W]=1,W++)}var Q=0,G=0;for($=0;$<W;$++)O[$]>Q&&(Q=O[$],G=$);return Z[G]},E.covariance=function(R,F,O){'undefined'==typeof O&&(O=!0);var $=E.mean(R),Z=E.mean(F);if(R.length!==F.length)throw'Vectors do not have the same dimensions';for(var W=0,K=R.length,Q=0;Q<K;Q++){var G=R[Q]-$,ee=F[Q]-Z;W+=G*ee}return O?W/(K-1):W/K},E.skewness=function(R,F){'undefined'==typeof F&&(F=!0);for(var O=E.mean(R),$=0,Z=0,W=R.length,K=0,Q;K<W;K++)Q=R[K]-O,$+=Q*Q,Z+=Q*Q*Q;var G=$/W,ee=Z/W,te=ee/_Mathpow(G,3/2);if(F){var ne=_Mathsqrt(W*(W-1));return ne/(W-2)*te}return te},E.kurtosis=function(R,F){'undefined'==typeof F&&(F=!0);for(var O=E.mean(R),$=R.length,Z=0,W=0,K=0,Q;K<$;K++)Q=R[K]-O,Z+=Q*Q,W+=Q*Q*Q*Q;var G=Z/$,ee=W/$;if(F){var te=Z/($-1),oe=W/(te*te);return $*($+1)/(($-1)*($-2)*($-3))*oe-3*(($-1)*($-1)/(($-2)*($-3)))}return ee/(G*G)-3},E.entropy=function(R,F){'undefined'==typeof F&&(F=0);for(var O=0,$=R.length,Z=0;Z<$;Z++)O+=R[Z]*_Mathlog(R[Z]+F);return-O},E.weightedMean=function(R,F){for(var O=0,$=R.length,Z=0;Z<$;Z++)O+=R[Z]*F[Z];return O},E.weightedStandardDeviation=function(R,F){return _Mathsqrt(E.weightedVariance(R,F))},E.weightedVariance=function(R,F){for(var O=E.weightedMean(R,F),$=0,Z=R.length,W=0,K=0,Q=0;Q<Z;Q++){var G=R[Q]-O,ee=F[Q];$+=ee*(G*G),K+=ee,W+=ee*ee}return $*(K/(K*K-W))},E.center=function(R,F){'undefined'==typeof F&&(F=!1);var O=R;F||(O=[].concat(R));for(var $=E.mean(O),Z=O.length,W=0;W<Z;W++)O[W]-=$},E.standardize=function(R,F,O){'undefined'==typeof F&&(F=E.standardDeviation(R)),'undefined'==typeof O&&(O=!1);for(var $=R.length,Z=O?R:Array($),W=0;W<$;W++)Z[W]=R[W]/F;return Z},E.cumulativeSum=function(R){var F=R.length,O=Array(F);O[0]=R[0];for(var $=1;$<F;$++)O[$]=O[$-1]+R[$];return O}},function(D,E,I){'use strict';E.array=I(31),E.matrix=I(95)},function(D){D.exports=function(I,P,T,R,F){var O,$;if(void 0===R)R=0;else if(R|=0,0>R||R>=I.length)throw new RangeError('invalid lower bound');if(void 0===F)F=I.length-1;else if(F|=0,F<R||F>=I.length)throw new RangeError('invalid upper bound');for(;R<=F;)if(O=R+(F-R>>1),$=+T(I[O],P,O,I),0>$)R=O+1;else if(0<$)F=O-1;else return O;return~R}},function(D){'use strict';function P(R,F){for(var O=0,$=0;$<R.length;$++)O+=(R[$]-F[$])*(R[$]-F[$]);return O}function T(R,F){return _Mathsqrt(P(R,F))}D.exports=T,T.squared=P},function(D,E,I){'use strict';function P(F){T.call(this),this.index=F,this.distance=0,this.children=[]}const T=I(14),R=I(75);R.inherits(P,T),D.exports=P},function(module,exports,__webpack_require__){'use strict';function abstractMatrix(superCtor){function checkDimensions(D,E){if(D.rows!==E.rows||D.columns!==E.columns)throw new RangeError('Matrices dimensions must be equal')}function compareNumbers(D,E){return D-E}function fillTemplateFunction(D,E){for(var I in E)D=D.replace(new RegExp('%'+I+'%','g'),E[I]);return D}superCtor===void 0&&(superCtor=Object);class Matrix extends superCtor{static get[Symbol.species](){return this}static from1DArray(D,E,I){if(D*E!==I.length)throw new RangeError('Data length does not match given dimensions');for(var T=new this(D,E),R=0;R<D;R++)for(var F=0;F<E;F++)T.set(R,F,I[R*E+F]);return T}static rowVector(D){for(var E=new this(1,D.length),I=0;I<D.length;I++)E.set(0,I,D[I]);return E}static columnVector(D){for(var E=new this(D.length,1),I=0;I<D.length;I++)E.set(I,0,D[I]);return E}static empty(D,E){return new this(D,E)}static zeros(D,E){return this.empty(D,E).fill(0)}static ones(D,E){return this.empty(D,E).fill(1)}static rand(D,E,I){I===void 0&&(I=Math.random);for(var P=this.empty(D,E),T=0;T<D;T++)for(var R=0;R<E;R++)P.set(T,R,I());return P}static randInt(D,E,I,P){I===void 0&&(I=1e3),P===void 0&&(P=Math.random);for(var T=this.empty(D,E),R=0;R<D;R++)for(var F=0,O;F<E;F++)O=_Mathfloor(P()*I),T.set(R,F,O);return T}static eye(D,E,I){E===void 0&&(E=D),I===void 0&&(I=1);for(var P=_Mathmin(D,E),T=this.zeros(D,E),R=0;R<P;R++)T.set(R,R,I);return T}static diag(D,E,I){var P=D.length;E===void 0&&(E=P),I===void 0&&(I=E);for(var T=_Mathmin(P,E,I),R=this.zeros(E,I),F=0;F<T;F++)R.set(F,F,D[F]);return R}static min(D,E){D=this.checkMatrix(D),E=this.checkMatrix(E);for(var I=D.rows,P=D.columns,T=new this(I,P),R=0;R<I;R++)for(var F=0;F<P;F++)T.set(R,F,_Mathmin(D.get(R,F),E.get(R,F)));return T}static max(D,E){D=this.checkMatrix(D),E=this.checkMatrix(E);for(var I=D.rows,P=D.columns,T=new this(I,P),R=0;R<I;R++)for(var F=0;F<P;F++)T.set(R,F,_Mathmax(D.get(R,F),E.get(R,F)));return T}static checkMatrix(D){return Matrix.isMatrix(D)?D:new this(D)}static isMatrix(D){return null!=D&&'Matrix'===D.klass}get size(){return this.rows*this.columns}apply(D){if('function'!=typeof D)throw new TypeError('callback must be a function');for(var E=this.rows,I=this.columns,P=0;P<E;P++)for(var T=0;T<I;T++)D.call(this,P,T);return this}to1DArray(){for(var D=Array(this.size),E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)D[E*this.columns+I]=this.get(E,I);return D}to2DArray(){for(var D=Array(this.rows),E=0;E<this.rows;E++){D[E]=Array(this.columns);for(var I=0;I<this.columns;I++)D[E][I]=this.get(E,I)}return D}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var D=0;D<this.rows;D++)for(var E=0;E<=D;E++)if(this.get(D,E)!==this.get(E,D))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(D,E){D=D||1,E=E||1;for(var I=new this.constructor[Symbol.species](this.rows*D,this.columns*E),P=0;P<D;P++)for(var T=0;T<E;T++)I.setSubMatrix(this,this.rows*P,this.columns*T);return I}fill(D){for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,D);return this}neg(){return this.mulS(-1)}getRow(D){util.checkRowIndex(this,D);for(var E=Array(this.columns),I=0;I<this.columns;I++)E[I]=this.get(D,I);return E}getRowVector(D){return this.constructor.rowVector(this.getRow(D))}setRow(D,E){util.checkRowIndex(this,D),E=util.checkRowVector(this,E);for(var I=0;I<this.columns;I++)this.set(D,I,E[I]);return this}swapRows(D,E){util.checkRowIndex(this,D),util.checkRowIndex(this,E);for(var I=0,P;I<this.columns;I++)P=this.get(D,I),this.set(D,I,this.get(E,I)),this.set(E,I,P);return this}getColumn(D){util.checkColumnIndex(this,D);for(var E=Array(this.rows),I=0;I<this.rows;I++)E[I]=this.get(I,D);return E}getColumnVector(D){return this.constructor.columnVector(this.getColumn(D))}setColumn(D,E){util.checkColumnIndex(this,D),E=util.checkColumnVector(this,E);for(var I=0;I<this.rows;I++)this.set(I,D,E[I]);return this}swapColumns(D,E){util.checkColumnIndex(this,D),util.checkColumnIndex(this,E);for(var I=0,P;I<this.rows;I++)P=this.get(I,D),this.set(I,D,this.get(I,E)),this.set(I,E,P);return this}addRowVector(D){D=util.checkRowVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)+D[I]);return this}subRowVector(D){D=util.checkRowVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)-D[I]);return this}mulRowVector(D){D=util.checkRowVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)*D[I]);return this}divRowVector(D){D=util.checkRowVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)/D[I]);return this}addColumnVector(D){D=util.checkColumnVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)+D[E]);return this}subColumnVector(D){D=util.checkColumnVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)-D[E]);return this}mulColumnVector(D){D=util.checkColumnVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)*D[E]);return this}divColumnVector(D){D=util.checkColumnVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)/D[E]);return this}mulRow(D,E){util.checkRowIndex(this,D);for(var I=0;I<this.columns;I++)this.set(D,I,this.get(D,I)*E);return this}mulColumn(D,E){util.checkColumnIndex(this,D);for(var I=0;I<this.rows;I++)this.set(I,D,this.get(I,D)*E);return this}max(){for(var D=this.get(0,0),E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.get(E,I)>D&&(D=this.get(E,I));return D}maxIndex(){for(var D=this.get(0,0),E=[0,0],I=0;I<this.rows;I++)for(var P=0;P<this.columns;P++)this.get(I,P)>D&&(D=this.get(I,P),E[0]=I,E[1]=P);return E}min(){for(var D=this.get(0,0),E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.get(E,I)<D&&(D=this.get(E,I));return D}minIndex(){for(var D=this.get(0,0),E=[0,0],I=0;I<this.rows;I++)for(var P=0;P<this.columns;P++)this.get(I,P)<D&&(D=this.get(I,P),E[0]=I,E[1]=P);return E}maxRow(D){util.checkRowIndex(this,D);for(var E=this.get(D,0),I=1;I<this.columns;I++)this.get(D,I)>E&&(E=this.get(D,I));return E}maxRowIndex(D){util.checkRowIndex(this,D);for(var E=this.get(D,0),I=[D,0],P=1;P<this.columns;P++)this.get(D,P)>E&&(E=this.get(D,P),I[1]=P);return I}minRow(D){util.checkRowIndex(this,D);for(var E=this.get(D,0),I=1;I<this.columns;I++)this.get(D,I)<E&&(E=this.get(D,I));return E}minRowIndex(D){util.checkRowIndex(this,D);for(var E=this.get(D,0),I=[D,0],P=1;P<this.columns;P++)this.get(D,P)<E&&(E=this.get(D,P),I[1]=P);return I}maxColumn(D){util.checkColumnIndex(this,D);for(var E=this.get(0,D),I=1;I<this.rows;I++)this.get(I,D)>E&&(E=this.get(I,D));return E}maxColumnIndex(D){util.checkColumnIndex(this,D);for(var E=this.get(0,D),I=[0,D],P=1;P<this.rows;P++)this.get(P,D)>E&&(E=this.get(P,D),I[0]=P);return I}minColumn(D){util.checkColumnIndex(this,D);for(var E=this.get(0,D),I=1;I<this.rows;I++)this.get(I,D)<E&&(E=this.get(I,D));return E}minColumnIndex(D){util.checkColumnIndex(this,D);for(var E=this.get(0,D),I=[0,D],P=1;P<this.rows;P++)this.get(P,D)<E&&(E=this.get(P,D),I[0]=P);return I}diag(){for(var D=_Mathmin(this.rows,this.columns),E=Array(D),I=0;I<D;I++)E[I]=this.get(I,I);return E}sum(D){return'row'===D?util.sumByRow(this):'column'===D?util.sumByColumn(this):util.sumAll(this)}mean(){return this.sum()/this.size}prod(){for(var D=1,E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)D*=this.get(E,I);return D}cumulativeSum(){for(var D=0,E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)D+=this.get(E,I),this.set(E,I,D);return this}dot(D){Matrix.isMatrix(D)&&(D=D.to1DArray());var E=this.to1DArray();if(E.length!==D.length)throw new RangeError('vectors do not have the same size');for(var I=0,P=0;P<E.length;P++)I+=E[P]*D[P];return I}mmul(D){D=this.constructor.checkMatrix(D),this.columns!==D.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var E=this.rows,I=this.columns,P=D.columns,T=new this.constructor[Symbol.species](E,P),R=Array(I),F=0;F<P;F++){for(var O=0;O<I;O++)R[O]=D.get(O,F);for(var $=0,Z;$<E;$++){for(Z=0,O=0;O<I;O++)Z+=this.get($,O)*R[O];T.set($,F,Z)}}return T}strassen2x2(D){var E=new this.constructor[Symbol.species](2,2);const I=this.get(0,0),P=D.get(0,0),T=this.get(0,1),R=D.get(0,1),F=this.get(1,0),O=D.get(1,0),$=this.get(1,1),Z=D.get(1,1),W=(I+$)*(P+Z),K=(F+$)*P,Q=I*(R-Z),G=$*(O-P),ee=(I+T)*Z;return E.set(0,0,W+G-ee+(T-$)*(O+Z)),E.set(0,1,Q+ee),E.set(1,0,K+G),E.set(1,1,W-K+Q+(F-I)*(P+R)),E}strassen3x3(D){var E=new this.constructor[Symbol.species](3,3);const I=this.get(0,0),P=this.get(0,1),T=this.get(0,2),R=this.get(1,0),F=this.get(1,1),O=this.get(1,2),$=this.get(2,0),Z=this.get(2,1),W=this.get(2,2),K=D.get(0,0),Q=D.get(0,1),G=D.get(0,2),ee=D.get(1,0),te=D.get(1,1),ne=D.get(1,2),oe=D.get(2,0),se=D.get(2,1),ae=D.get(2,2),de=(I-R)*(-Q+te),ce=(-I+R+F)*(K-Q+te),pe=(R+F)*(-K+Q),he=I*K,ge=(-I+$+Z)*(K-G+ne),me=(-I+$)*(G-ne),fe=($+Z)*(-K+G),be=(-T+Z+W)*(te+oe-se),_e=(T-W)*(te-se),ke=T*oe,je=(Z+W)*(-oe+se),we=(-T+F+O)*(ne+oe-ae),Ce=(T-O)*(ne-ae),ve=(F+O)*(-oe+ae);return E.set(0,0,he+ke+P*ee),E.set(0,1,(I+P+T-R-F-Z-W)*te+ce+pe+he+be+ke+je),E.set(0,2,he+ge+fe+(I+P+T-F-O-$-Z)*ne+ke+we+ve),E.set(1,0,de+F*(-K+Q+ee-te-ne-oe+ae)+ce+he+ke+we+Ce),E.set(1,1,de+ce+pe+he+O*se),E.set(1,2,ke+we+Ce+ve+R*G),E.set(2,0,he+ge+me+Z*(-K+G+ee-te-ne-oe+se)+be+_e+ke),E.set(2,1,be+_e+ke+je+$*Q),E.set(2,2,he+ge+me+fe+W*ae),E}mmulStrassen(D){function E(W,K,Q){var G=W.rows,ee=W.columns;if(G===K&&ee===Q)return W;var te=Matrix.zeros(K,Q);return te=te.setSubMatrix(W,0,0),te}function I(W,K,Q,G){if(512>=Q||512>=G)return W.mmul(K);1==Q%2&&1==G%2?(W=E(W,Q+1,G+1),K=E(K,Q+1,G+1)):1==Q%2?(W=E(W,Q+1,G),K=E(K,Q+1,G)):1==G%2&&(W=E(W,Q,G+1),K=E(K,Q,G+1));var ee=parseInt(W.rows/2),te=parseInt(W.columns/2),ne=W.subMatrix(0,ee-1,0,te-1),oe=K.subMatrix(0,ee-1,0,te-1),se=W.subMatrix(0,ee-1,te,W.columns-1),ae=K.subMatrix(0,ee-1,te,K.columns-1),le=W.subMatrix(ee,W.rows-1,0,te-1),de=K.subMatrix(ee,K.rows-1,0,te-1),ue=W.subMatrix(ee,W.rows-1,te,W.columns-1),ce=K.subMatrix(ee,K.rows-1,te,K.columns-1),pe=I(Matrix.add(ne,ue),Matrix.add(oe,ce),ee,te),he=I(Matrix.add(le,ue),oe,ee,te),ge=I(ne,Matrix.sub(ae,ce),ee,te),me=I(ue,Matrix.sub(de,oe),ee,te),fe=I(Matrix.add(ne,se),ce,ee,te),ye=I(Matrix.sub(le,ne),Matrix.add(oe,ae),ee,te),xe=I(Matrix.sub(se,ue),Matrix.add(de,ce),ee,te),be=Matrix.add(pe,me);be.sub(fe),be.add(xe);var _e=Matrix.add(ge,fe),ke=Matrix.add(he,me),je=Matrix.sub(pe,he);je.add(ge),je.add(ye);var we=Matrix.zeros(2*be.rows,2*be.columns);return we=we.setSubMatrix(be,0,0),we=we.setSubMatrix(_e,be.rows,0),we=we.setSubMatrix(ke,0,be.columns),we=we.setSubMatrix(je,be.rows,be.columns),we.subMatrix(0,Q-1,0,G-1)}var P=this.clone(),T=P.rows,R=P.columns,F=D.rows,O=D.columns;R!==F&&console.warn(`Multiplying ${T} x ${R} and ${F} x ${O} matrix: dimensions do not match.`);var $=_Mathmax(T,F),Z=_Mathmax(R,O);return P=E(P,$,Z),D=E(D,$,Z),I(P,D,$,Z)}scaleRows(D,E){if(D=void 0===D?0:D,E=void 0===E?1:E,D>=E)throw new RangeError('min should be strictly smaller than max');for(var I=this.constructor.empty(this.rows,this.columns),P=0,T;P<this.rows;P++)T=arrayUtils.scale(this.getRow(P),{min:D,max:E}),I.setRow(P,T);return I}scaleColumns(D,E){if(D=void 0===D?0:D,E=void 0===E?1:E,D>=E)throw new RangeError('min should be strictly smaller than max');for(var I=this.constructor.empty(this.rows,this.columns),P=0,T;P<this.columns;P++)T=arrayUtils.scale(this.getColumn(P),{min:D,max:E}),I.setColumn(P,T);return I}kroneckerProduct(D){D=this.constructor.checkMatrix(D);for(var E=this.rows,I=this.columns,P=D.rows,T=D.columns,R=new this.constructor[Symbol.species](E*P,I*T),F=0;F<E;F++)for(var O=0;O<I;O++)for(var $=0;$<P;$++)for(var Z=0;Z<T;Z++)R[P*F+$][T*O+Z]=this.get(F,O)*D.get($,Z);return R}transpose(){for(var D=new this.constructor[Symbol.species](this.columns,this.rows),E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)D.set(I,E,this.get(E,I));return D}sortRows(D){D===void 0&&(D=compareNumbers);for(var E=0;E<this.rows;E++)this.setRow(E,this.getRow(E).sort(D));return this}sortColumns(D){D===void 0&&(D=compareNumbers);for(var E=0;E<this.columns;E++)this.setColumn(E,this.getColumn(E).sort(D));return this}subMatrix(D,E,I,P){util.checkRange(this,D,E,I,P);for(var T=new this.constructor[Symbol.species](E-D+1,P-I+1),R=D;R<=E;R++)for(var F=I;F<=P;F++)T[R-D][F-I]=this.get(R,F);return T}subMatrixRow(D,E,I){if(void 0===E&&(E=0),void 0===I&&(I=this.columns-1),E>I||0>E||E>=this.columns||0>I||I>=this.columns)throw new RangeError('Argument out of range');for(var P=new this.constructor[Symbol.species](D.length,I-E+1),T=0;T<D.length;T++)for(var R=E;R<=I;R++){if(0>D[T]||D[T]>=this.rows)throw new RangeError('Row index out of range: '+D[T]);P.set(T,R-E,this.get(D[T],R))}return P}subMatrixColumn(D,E,I){if(void 0===E&&(E=0),void 0===I&&(I=this.rows-1),E>I||0>E||E>=this.rows||0>I||I>=this.rows)throw new RangeError('Argument out of range');for(var P=new this.constructor[Symbol.species](I-E+1,D.length),T=0;T<D.length;T++)for(var R=E;R<=I;R++){if(0>D[T]||D[T]>=this.columns)throw new RangeError('Column index out of range: '+D[T]);P.set(R-E,T,this.get(R,D[T]))}return P}setSubMatrix(D,E,I){D=this.constructor.checkMatrix(D);var P=E+D.rows-1,T=I+D.columns-1;util.checkRange(this,E,P,I,T);for(var R=0;R<D.rows;R++)for(var F=0;F<D.columns;F++)this[E+R][I+F]=D.get(R,F);return this}selection(D,E){for(var I=util.checkIndices(this,D,E),P=new this.constructor[Symbol.species](D.length,E.length),T=0,R;T<I.row.length;T++){R=I.row[T];for(var F=0,O;F<I.column.length;F++)O=I.column[F],P[T][F]=this.get(R,O)}return P}trace(){for(var D=_Mathmin(this.rows,this.columns),E=0,I=0;I<D;I++)E+=this.get(I,I);return E}transposeView(){return new MatrixTransposeView(this)}rowView(D){return util.checkRowIndex(this,D),new MatrixRowView(this,D)}columnView(D){return util.checkColumnIndex(this,D),new MatrixColumnView(this,D)}flipRowView(){return new MatrixFlipRowView(this)}flipColumnView(){return new MatrixFlipColumnView(this)}subMatrixView(D,E,I,P){return new MatrixSubView(this,D,E,I,P)}selectionView(D,E){return new MatrixSelectionView(this,D,E)}det(){if(this.isSquare()){var D,E,I,P;if(2===this.columns)return D=this.get(0,0),E=this.get(0,1),I=this.get(1,0),P=this.get(1,1),D*P-E*I;if(3===this.columns){var T,R,F;return T=this.selectionView([1,2],[1,2]),R=this.selectionView([1,2],[0,2]),F=this.selectionView([1,2],[0,1]),D=this.get(0,0),E=this.get(0,1),I=this.get(0,2),D*T.det()-E*R.det()+I*F.det()}return new LuDecomposition(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(D){void 0===D&&(D=_NumberEPSILON);for(var E=new SvDecomposition(this,{autoTranspose:!0}),I=E.leftSingularVectors,P=E.rightSingularVectors,T=E.diagonal,R=0;R<T.length;R++)T[R]=_Mathabs(T[R])>D?1/T[R]:0;return T=this.constructor[Symbol.species].diag(T),P.mmul(T.mmul(I.transposeView()))}}Matrix.prototype.klass='Matrix',Matrix.random=Matrix.rand,Matrix.diagonal=Matrix.diag,Matrix.prototype.diagonal=Matrix.prototype.diag,Matrix.identity=Matrix.eye,Matrix.prototype.negate=Matrix.prototype.neg,Matrix.prototype.tensorProduct=Matrix.prototype.kroneckerProduct,Matrix.prototype.determinant=Matrix.prototype.det;var inplaceOperator=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,inplaceOperatorScalar=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,inplaceOperatorMatrix=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,staticOperator=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,inplaceMethod=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,staticMethod=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,inplaceMethodWithArgs=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,staticMethodWithArgs=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,inplaceMethodWithOneArgScalar=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,inplaceMethodWithOneArgMatrix=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,inplaceMethodWithOneArg=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,staticMethodWithOneArg=staticMethodWithArgs,operators=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],i;for(var operator of operators){var inplaceOp=eval(fillTemplateFunction(inplaceOperator,{name:operator[1],op:operator[0]})),inplaceOpS=eval(fillTemplateFunction(inplaceOperatorScalar,{name:operator[1]+'S',op:operator[0]})),inplaceOpM=eval(fillTemplateFunction(inplaceOperatorMatrix,{name:operator[1]+'M',op:operator[0]})),staticOp=eval(fillTemplateFunction(staticOperator,{name:operator[1]}));for(i=1;i<operator.length;i++)Matrix.prototype[operator[i]]=inplaceOp,Matrix.prototype[operator[i]+'S']=inplaceOpS,Matrix.prototype[operator[i]+'M']=inplaceOpM,Matrix[operator[i]]=staticOp}var methods=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(D){methods.push(['Math.'+D,D])});for(var method of methods){var inplaceMeth=eval(fillTemplateFunction(inplaceMethod,{name:method[1],method:method[0]})),staticMeth=eval(fillTemplateFunction(staticMethod,{name:method[1]}));for(i=1;i<method.length;i++)Matrix.prototype[method[i]]=inplaceMeth,Matrix[method[i]]=staticMeth}var methodsWithArgs=[['Math.pow',1,'pow']];for(var methodWithArg of methodsWithArgs){var args='arg0';for(i=1;i<methodWithArg[1];i++)args+=`, arg${i}`;if(1!==methodWithArg[1]){var inplaceMethWithArgs=eval(fillTemplateFunction(inplaceMethodWithArgs,{name:methodWithArg[2],method:methodWithArg[0],args:args})),staticMethWithArgs=eval(fillTemplateFunction(staticMethodWithArgs,{name:methodWithArg[2],args:args}));for(i=2;i<methodWithArg.length;i++)Matrix.prototype[methodWithArg[i]]=inplaceMethWithArgs,Matrix[methodWithArg[i]]=staticMethWithArgs}else{var tmplVar={name:methodWithArg[2],args:args,method:methodWithArg[0]},inplaceMethod2=eval(fillTemplateFunction(inplaceMethodWithOneArg,tmplVar)),inplaceMethodS=eval(fillTemplateFunction(inplaceMethodWithOneArgScalar,tmplVar)),inplaceMethodM=eval(fillTemplateFunction(inplaceMethodWithOneArgMatrix,tmplVar)),staticMethod2=eval(fillTemplateFunction(staticMethodWithOneArg,tmplVar));for(i=2;i<methodWithArg.length;i++)Matrix.prototype[methodWithArg[i]]=inplaceMethod2,Matrix.prototype[methodWithArg[i]+'M']=inplaceMethodM,Matrix.prototype[methodWithArg[i]+'S']=inplaceMethodS,Matrix[methodWithArg[i]]=staticMethod2}}return Matrix}module.exports=abstractMatrix;var LuDecomposition=__webpack_require__(37),SvDecomposition=__webpack_require__(38),arrayUtils=__webpack_require__(100),util=__webpack_require__(9),MatrixTransposeView=__webpack_require__(119),MatrixRowView=__webpack_require__(116),MatrixSubView=__webpack_require__(118),MatrixSelectionView=__webpack_require__(117),MatrixColumnView=__webpack_require__(113),MatrixFlipRowView=__webpack_require__(115),MatrixFlipColumnView=__webpack_require__(114)},function(D,E,I){'use strict';function P(R){if(!(this instanceof P))return new P(R);R=T.Matrix.checkMatrix(R);var F=R.clone(),O=F.rows,$=F.columns,Z=Array(O),W=1,K,Q,G,ee,te,ne,oe,se,ae,le;for(K=0;K<O;K++)Z[K]=K;for(ae=Array(O),Q=0;Q<$;Q++){for(K=0;K<O;K++)ae[K]=F[K][Q];for(K=0;K<O;K++){for(se=F[K],le=_Mathmin(K,Q),te=0,G=0;G<le;G++)te+=se[G]*ae[G];se[Q]=ae[K]-=te}for(ee=Q,K=Q+1;K<O;K++)_Mathabs(ae[K])>_Mathabs(ae[ee])&&(ee=K);if(ee!==Q){for(G=0;G<$;G++)ne=F[ee][G],F[ee][G]=F[Q][G],F[Q][G]=ne;oe=Z[ee],Z[ee]=Z[Q],Z[Q]=oe,W=-W}if(Q<O&&0!==F[Q][Q])for(K=Q+1;K<O;K++)F[K][Q]/=F[Q][Q]}this.LU=F,this.pivotVector=Z,this.pivotSign=W}var T=I(2);P.prototype={isSingular:function(){for(var R=this.LU,F=R.columns,O=0;O<F;O++)if(0===R[O][O])return!0;return!1},get determinant(){var R=this.LU;if(!R.isSquare())throw new Error('Matrix must be square');for(var F=this.pivotSign,O=R.columns,$=0;$<O;$++)F*=R[$][$];return F},get lowerTriangularMatrix(){for(var R=this.LU,F=R.rows,O=R.columns,$=new T.Matrix(F,O),Z=0;Z<F;Z++)for(var W=0;W<O;W++)$[Z][W]=Z>W?R[Z][W]:Z===W?1:0;return $},get upperTriangularMatrix(){for(var R=this.LU,F=R.rows,O=R.columns,$=new T.Matrix(F,O),Z=0;Z<F;Z++)for(var W=0;W<O;W++)$[Z][W]=Z<=W?R[Z][W]:0;return $},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(R){R=T.Matrix.checkMatrix(R);var F=this.LU,O=F.rows;if(O!==R.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var $=R.columns,Z=R.subMatrixRow(this.pivotVector,0,$-1),W=F.columns,K,Q,G;for(G=0;G<W;G++)for(K=G+1;K<W;K++)for(Q=0;Q<$;Q++)Z[K][Q]-=Z[G][Q]*F[K][G];for(G=W-1;0<=G;G--){for(Q=0;Q<$;Q++)Z[G][Q]/=F[G][G];for(K=0;K<G;K++)for(Q=0;Q<$;Q++)Z[K][Q]-=Z[G][Q]*F[K][G]}return Z}},D.exports=P},function(D,E,I){'use strict';function P($,Z){if(!(this instanceof P))return new P($,Z);$=T.Matrix.checkMatrix($),Z=Z||{};var W=$.rows,K=$.columns,Q=_Mathmin(W,K),G=!0,ee=!0;!1===Z.computeLeftSingularVectors&&(G=!1),!1===Z.computeRightSingularVectors&&(ee=!1);var te=!0===Z.autoTranspose,ne=!1,oe;if(!(W<K))oe=$.clone();else if(!te)oe=$.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{oe=$.transpose(),W=oe.rows,K=oe.columns,ne=!0;var se=G;G=ee,ee=se}var ae=Array(_Mathmin(W+1,K)),le=O(W,Q,0),de=O(K,K,0),ue=Array(K),ce=Array(W),pe=_Mathmin(W-1,K),he=_Mathmax(0,_Mathmin(K-2,W)),ge,me,fe,ye,xe,be,_e,ke,je,we,Ce,ve,Se,De,Ee,Ae,Ie,He,Pe,Te,Re;for(fe=0,we=_Mathmax(pe,he);fe<we;fe++){if(fe<pe){for(ae[fe]=0,ge=fe;ge<W;ge++)ae[fe]=F(ae[fe],oe[ge][fe]);if(0!==ae[fe]){for(0>oe[fe][fe]&&(ae[fe]=-ae[fe]),ge=fe;ge<W;ge++)oe[ge][fe]/=ae[fe];oe[fe][fe]+=1}ae[fe]=-ae[fe]}for(me=fe+1;me<K;me++){if(fe<pe&&0!==ae[fe]){for(xe=0,ge=fe;ge<W;ge++)xe+=oe[ge][fe]*oe[ge][me];for(xe=-xe/oe[fe][fe],ge=fe;ge<W;ge++)oe[ge][me]+=xe*oe[ge][fe]}ue[me]=oe[fe][me]}if(G&&fe<pe)for(ge=fe;ge<W;ge++)le[ge][fe]=oe[ge][fe];if(fe<he){for(ue[fe]=0,ge=fe+1;ge<K;ge++)ue[fe]=F(ue[fe],ue[ge]);if(0!==ue[fe]){for(0>ue[fe+1]&&(ue[fe]=0-ue[fe]),ge=fe+1;ge<K;ge++)ue[ge]/=ue[fe];ue[fe+1]+=1}if(ue[fe]=-ue[fe],fe+1<W&&0!==ue[fe]){for(ge=fe+1;ge<W;ge++)ce[ge]=0;for(me=fe+1;me<K;me++)for(ge=fe+1;ge<W;ge++)ce[ge]+=ue[me]*oe[ge][me];for(me=fe+1;me<K;me++)for(xe=-ue[me]/ue[fe+1],ge=fe+1;ge<W;ge++)oe[ge][me]+=xe*ce[ge]}if(ee)for(ge=fe+1;ge<K;ge++)de[ge][fe]=ue[ge]}}if(ye=_Mathmin(K,W+1),pe<K&&(ae[pe]=oe[pe][pe]),W<ye&&(ae[ye-1]=0),he+1<ye&&(ue[he]=oe[he][ye-1]),ue[ye-1]=0,G){for(me=pe;me<Q;me++){for(ge=0;ge<W;ge++)le[ge][me]=0;le[me][me]=1}for(fe=pe-1;0<=fe;fe--)if(0!==ae[fe]){for(me=fe+1;me<Q;me++){for(xe=0,ge=fe;ge<W;ge++)xe+=le[ge][fe]*le[ge][me];for(xe=-xe/le[fe][fe],ge=fe;ge<W;ge++)le[ge][me]+=xe*le[ge][fe]}for(ge=fe;ge<W;ge++)le[ge][fe]=-le[ge][fe];for(le[fe][fe]=1+le[fe][fe],ge=0;ge<fe-1;ge++)le[ge][fe]=0}else{for(ge=0;ge<W;ge++)le[ge][fe]=0;le[fe][fe]=1}}if(ee)for(fe=K-1;0<=fe;fe--){if(fe<he&&0!==ue[fe])for(me=fe+1;me<K;me++){for(xe=0,ge=fe+1;ge<K;ge++)xe+=de[ge][fe]*de[ge][me];for(xe=-xe/de[fe+1][fe],ge=fe+1;ge<K;ge++)de[ge][me]+=xe*de[ge][fe]}for(ge=0;ge<K;ge++)de[ge][fe]=0;de[fe][fe]=1}for(var Fe=ye-1,Me=0,ze=2.220446049250313e-16;0<ye;){for(fe=ye-2;-1<=fe&&-1!==fe;fe--)if(_Mathabs(ue[fe])<=ze*(_Mathabs(ae[fe])+_Mathabs(ae[fe+1]))){ue[fe]=0;break}if(fe===ye-2)Ce=4;else{for(be=ye-1;be>=fe&&be!==fe;be--)if(xe=(be===ye?0:_Mathabs(ue[be]))+(be===fe+1?0:_Mathabs(ue[be-1])),_Mathabs(ae[be])<=ze*xe){ae[be]=0;break}be===fe?Ce=3:be===ye-1?Ce=1:(Ce=2,fe=be)}switch(fe++,Ce){case 1:{for(_e=ue[ye-2],ue[ye-2]=0,me=ye-2;me>=fe;me--)if(xe=F(ae[me],_e),ke=ae[me]/xe,je=_e/xe,ae[me]=xe,me!==fe&&(_e=-je*ue[me-1],ue[me-1]=ke*ue[me-1]),ee)for(ge=0;ge<K;ge++)xe=ke*de[ge][me]+je*de[ge][ye-1],de[ge][ye-1]=-je*de[ge][me]+ke*de[ge][ye-1],de[ge][me]=xe;break}case 2:{for(_e=ue[fe-1],ue[fe-1]=0,me=fe;me<ye;me++)if(xe=F(ae[me],_e),ke=ae[me]/xe,je=_e/xe,ae[me]=xe,_e=-je*ue[me],ue[me]=ke*ue[me],G)for(ge=0;ge<W;ge++)xe=ke*le[ge][me]+je*le[ge][fe-1],le[ge][fe-1]=-je*le[ge][me]+ke*le[ge][fe-1],le[ge][me]=xe;break}case 3:{for(ve=_Mathmax(_Mathmax(_Mathmax(_Mathmax(_Mathabs(ae[ye-1]),_Mathabs(ae[ye-2])),_Mathabs(ue[ye-2])),_Mathabs(ae[fe])),_Mathabs(ue[fe])),Se=ae[ye-1]/ve,De=ae[ye-2]/ve,Ee=ue[ye-2]/ve,Ae=ae[fe]/ve,Ie=ue[fe]/ve,He=((De+Se)*(De-Se)+Ee*Ee)/2,Pe=Se*Ee*(Se*Ee),Te=0,(0!==He||0!==Pe)&&(Te=_Mathsqrt(He*He+Pe),0>He&&(Te=-Te),Te=Pe/(He+Te)),_e=(Ae+Se)*(Ae-Se)+Te,Re=Ae*Ie,me=fe;me<ye-1;me++){if(xe=F(_e,Re),ke=_e/xe,je=Re/xe,me!==fe&&(ue[me-1]=xe),_e=ke*ae[me]+je*ue[me],ue[me]=ke*ue[me]-je*ae[me],Re=je*ae[me+1],ae[me+1]=ke*ae[me+1],ee)for(ge=0;ge<K;ge++)xe=ke*de[ge][me]+je*de[ge][me+1],de[ge][me+1]=-je*de[ge][me]+ke*de[ge][me+1],de[ge][me]=xe;if(xe=F(_e,Re),ke=_e/xe,je=Re/xe,ae[me]=xe,_e=ke*ue[me]+je*ae[me+1],ae[me+1]=-je*ue[me]+ke*ae[me+1],Re=je*ue[me+1],ue[me+1]=ke*ue[me+1],G&&me<W-1)for(ge=0;ge<W;ge++)xe=ke*le[ge][me]+je*le[ge][me+1],le[ge][me+1]=-je*le[ge][me]+ke*le[ge][me+1],le[ge][me]=xe}ue[ye-2]=_e,++Me;break}case 4:{if(0>=ae[fe]&&(ae[fe]=0>ae[fe]?-ae[fe]:0,ee))for(ge=0;ge<=Fe;ge++)de[ge][fe]=-de[ge][fe];for(;fe<Fe&&!(ae[fe]>=ae[fe+1]);){if(xe=ae[fe],ae[fe]=ae[fe+1],ae[fe+1]=xe,ee&&fe<K-1)for(ge=0;ge<K;ge++)xe=de[ge][fe+1],de[ge][fe+1]=de[ge][fe],de[ge][fe]=xe;if(G&&fe<W-1)for(ge=0;ge<W;ge++)xe=le[ge][fe+1],le[ge][fe+1]=le[ge][fe],le[ge][fe]=xe;fe++}Me=0,ye--;break}}}if(ne){var Oe=de;de=le,le=Oe}this.m=W,this.n=K,this.s=ae,this.U=le,this.V=de}var T=I(2),R=I(15),F=R.hypotenuse,O=R.getFilled2DArray;P.prototype={get condition(){return this.s[0]/this.s[_Mathmin(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var Z=_Mathmax(this.m,this.n)*this.s[0]*2.220446049250313e-16,W=0,K=this.s,Q=0,G=K.length;Q<G;Q++)K[Q]>Z&&W++;return W},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*_Mathmax(this.m,this.n)*this.s[0]},get leftSingularVectors(){return T.Matrix.isMatrix(this.U)||(this.U=new T.Matrix(this.U)),this.U},get rightSingularVectors(){return T.Matrix.isMatrix(this.V)||(this.V=new T.Matrix(this.V)),this.V},get diagonalMatrix(){return T.Matrix.diag(this.s)},solve:function($){var W=this.threshold,K=this.s.length,Q=T.Matrix.zeros(K,K),G;for(G=0;G<K;G++)Q[G][G]=_Mathabs(this.s[G])<=W?0:1/this.s[G];var ee=this.U,te=this.rightSingularVectors,ne=te.mmul(Q),oe=te.rows,se=ee.length,ae=T.Matrix.zeros(oe,se),le,de,ue;for(G=0;G<oe;G++)for(le=0;le<se;le++){for(ue=0,de=0;de<K;de++)ue+=ne[G][de]*ee[le][de];ae[G][le]=ue}return ae.mmul($)},solveForDiagonal:function($){return this.solve(T.Matrix.diag($))},inverse:function(){var $=this.V,Z=this.threshold,W=$.length,K=$[0].length,Q=new T.Matrix(W,this.s.length),G,ee;for(G=0;G<W;G++)for(ee=0;ee<K;ee++)Q[G][ee]=_Mathabs(this.s[ee])>Z?$[G][ee]/this.s[ee]:0;var te=this.U,ne=te.length,oe=te[0].length,se=new T.Matrix(W,ne),ae,le;for(G=0;G<W;G++)for(ee=0;ee<ne;ee++){for(le=0,ae=0;ae<oe;ae++)le+=Q[G][ae]*te[ee][ae];se[G][ee]=le}return se}},D.exports=P},function(module,exports,__webpack_require__){function fillTemplateFunction(D,E){for(var I in E)D=D.replace(new RegExp('%'+I+'%','g'),E[I]);return D}const HashTable=__webpack_require__(103);class SparseMatrix{constructor(D,E,I={}){if(D instanceof SparseMatrix){const F=D;return void this._init(F.rows,F.columns,F.elements.clone(),F.threshold)}if(Array.isArray(D)){const F=D;D=F.length,I=E||{},E=F[0].length,this._init(D,E,new HashTable(I),I.threshold);for(var P=0;P<D;P++)for(var T=0,R;T<E;T++)R=F[P][T],this.threshold&&_Mathabs(R)<this.threshold&&(R=0),0!==R&&this.elements.set(P*E+T,F[P][T])}else this._init(D,E,new HashTable(I),I.threshold)}_init(D,E,I,P){this.rows=D,this.columns=E,this.elements=I,this.threshold=P||0}static eye(D=1,E=D){const I=_Mathmin(D,E),P=new SparseMatrix(D,E,{initialCapacity:I});for(var T=0;T<I;T++)P.set(T,T,1);return P}clone(){return new SparseMatrix(this)}to2DArray(){const D=Array(this.rows);for(var E=0;E<this.rows;E++){D[E]=Array(this.columns);for(var I=0;I<this.columns;I++)D[E][I]=this.get(E,I)}return D}isSquare(){return this.rows===this.columns}isSymmetric(){if(!this.isSquare())return!1;var D=!0;return this.forEachNonZero((E,I,P)=>{return this.get(I,E)===P?P:(D=!1,!1)}),D}get cardinality(){return this.elements.size}get size(){return this.rows*this.columns}get(D,E){return this.elements.get(D*this.columns+E)}set(D,E,I){return this.threshold&&_Mathabs(I)<this.threshold&&(I=0),0===I?this.elements.remove(D*this.columns+E):this.elements.set(D*this.columns+E,I),this}mmul(D){this.columns!==D.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');const E=this.rows,I=D.columns,P=new SparseMatrix(E,I);return this.forEachNonZero((T,R,F)=>{return D.forEachNonZero((O,$,Z)=>{return R===O&&P.set(T,$,P.get(T,$)+F*Z),Z}),F}),P}kroneckerProduct(D){const E=this.rows,I=this.columns,P=D.rows,T=D.columns,R=new SparseMatrix(E*P,I*T,{initialCapacity:this.cardinality*D.cardinality});return this.forEachNonZero((F,O,$)=>{return D.forEachNonZero((Z,W,K)=>{return R.set(P*F+Z,T*O+W,$*K),K}),$}),R}forEachNonZero(D){return this.elements.forEachPair((E,I)=>{const P=0|E/this.columns,T=E%this.columns;let R=D(P,T,I);return!1!==R&&(this.threshold&&_Mathabs(R)<this.threshold&&(R=0),R!==I&&(0===R?this.elements.remove(E,!0):this.elements.set(E,R)),!0)}),this.elements.maybeShrinkCapacity(),this}getNonZeros(){const D=this.cardinality,E=Array(D),I=Array(D),P=Array(D);var T=0;return this.forEachNonZero((R,F,O)=>{return E[T]=R,I[T]=F,P[T]=O,T++,O}),{rows:E,columns:I,values:P}}setThreshold(D){return 0!==D&&D!==this.threshold&&(this.threshold=D,this.forEachNonZero((E,I,P)=>P)),this}}SparseMatrix.prototype.klass='Matrix',SparseMatrix.identity=SparseMatrix.eye,SparseMatrix.prototype.tensorProduct=SparseMatrix.prototype.kroneckerProduct,module.exports=SparseMatrix;var inplaceOperator=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,inplaceOperatorScalar=`
(function %name%S(value) {
    this.forEachNonZero((i, j, v) => v %op% value);
    return this;
})
`,inplaceOperatorMatrix=`
(function %name%M(matrix) {
    matrix.forEachNonZero((i, j, v) => {
        this.set(i, j, this.get(i, j) %op% v);
        return v;
    });
    return this;
})
`,staticOperator=`
(function %name%(matrix, value) {
    var newMatrix = new SparseMatrix(matrix);
    return newMatrix.%name%(value);
})
`,inplaceMethod=`
(function %name%() {
    this.forEachNonZero((i, j, v) => %method%(v));
    return this;
})
`,staticMethod=`
(function %name%(matrix) {
    var newMatrix = new SparseMatrix(matrix);
    return newMatrix.%name%();
})
`,operators=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']];for(var operator of operators)for(var i=1;i<operator.length;i++)SparseMatrix.prototype[operator[i]]=eval(fillTemplateFunction(inplaceOperator,{name:operator[i],op:operator[0]})),SparseMatrix.prototype[operator[i]+'S']=eval(fillTemplateFunction(inplaceOperatorScalar,{name:operator[i]+'S',op:operator[0]})),SparseMatrix.prototype[operator[i]+'M']=eval(fillTemplateFunction(inplaceOperatorMatrix,{name:operator[i]+'M',op:operator[0]})),SparseMatrix[operator[i]]=eval(fillTemplateFunction(staticOperator,{name:operator[i]}));var methods=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(D){methods.push(['Math.'+D,D])});for(var method of methods)for(var i=1;i<method.length;i++)SparseMatrix.prototype[method[i]]=eval(fillTemplateFunction(inplaceMethod,{name:method[i],method:method[0]})),SparseMatrix[method[i]]=eval(fillTemplateFunction(staticMethod,{name:method[i]}))},function(D,E){'use strict';function P(T,R){return T-R}E.sum=function(R){for(var T=0,F=0;F<R.length;F++)T+=R[F];return T},E.max=function(R){for(var T=R[0],F=R.length,O=1;O<F;O++)R[O]>T&&(T=R[O]);return T},E.min=function(R){for(var T=R[0],F=R.length,O=1;O<F;O++)R[O]<T&&(T=R[O]);return T},E.minMax=function(R){for(var F=R[0],O=R[0],$=R.length,Z=1;Z<$;Z++)R[Z]<F&&(F=R[Z]),R[Z]>O&&(O=R[Z]);return{min:F,max:O}},E.arithmeticMean=function(R){for(var F=0,O=R.length,$=0;$<O;$++)F+=R[$];return F/O},E.mean=E.arithmeticMean,E.geometricMean=function(R){for(var F=1,O=R.length,$=0;$<O;$++)F*=R[$];return _Mathpow(F,1/O)},E.logMean=function(R){for(var F=0,O=R.length,$=0;$<O;$++)F+=_Mathlog(R[$]);return F/O},E.grandMean=function(R,F){for(var O=0,$=0,Z=R.length,W=0;W<Z;W++)O+=F[W]*R[W],$+=F[W];return O/$},E.truncatedMean=function(R,F,O){O===void 0&&(O=!1),O||(R=[].concat(R).sort(P));for(var $=R.length,Z=_Mathfloor($*F),W=0,K=Z;K<$-Z;K++)W+=R[K];return W/($-2*Z)},E.harmonicMean=function(R){for(var F=0,O=R.length,$=0;$<O;$++){if(0===R[$])throw new RangeError('value at index '+$+'is zero');F+=1/R[$]}return O/F},E.contraHarmonicMean=function(R){for(var F=0,O=0,$=R.length,Z=0;Z<$;Z++)F+=R[Z]*R[Z],O+=R[Z];if(0>O)throw new RangeError('sum of values is negative');return F/O},E.median=function(R,F){F===void 0&&(F=!1),F||(R=[].concat(R).sort(P));var O=R.length,$=_Mathfloor(O/2);return 0==O%2?0.5*(R[$-1]+R[$]):R[$]},E.variance=function(R,F){F===void 0&&(F=!0);for(var O=E.mean(R),$=0,Z=R.length,W=0,K;W<Z;W++)K=R[W]-O,$+=K*K;return F?$/(Z-1):$/Z},E.standardDeviation=function(R,F){return _Mathsqrt(E.variance(R,F))},E.standardError=function(R){return E.standardDeviation(R)/_Mathsqrt(R.length)},E.robustMeanAndStdev=function(R){var F=0,O=0,$=R.length,Z=0;for(Z=0;Z<$;Z++)F+=R[Z];F/=$;var W=Array($);for(Z=0;Z<$;Z++)W[Z]=_Mathabs(R[Z]-F);return W.sort(P),O=1==$%2?W[($-1)/2]/0.6745:0.5*(W[$/2]+W[$/2-1])/0.6745,{mean:F,stdev:O}},E.quartiles=function(R,F){'undefined'==typeof F&&(F=!1),F||(R=[].concat(R).sort(P));var O=R.length/4,$=R[_Mathceil(O)-1],Z=E.median(R,!0),W=R[_Mathceil(3*O)-1];return{q1:$,q2:Z,q3:W}},E.pooledStandardDeviation=function(R,F){return _Mathsqrt(E.pooledVariance(R,F))},E.pooledVariance=function(R,F){'undefined'==typeof F&&(F=!0);for(var O=0,$=0,Z=R.length,W=0;W<Z;W++){var K=R[W],Q=E.variance(K);O+=(K.length-1)*Q,$+=F?K.length-1:K.length}return O/$},E.mode=function(R){var F=R.length,O=Array(F),$;for($=0;$<F;$++)O[$]=0;var Z=Array(F),W=0;for($=0;$<F;$++){var K=Z.indexOf(R[$]);0<=K?O[K]++:(Z[W]=R[$],O[W]=1,W++)}var Q=0,G=0;for($=0;$<W;$++)O[$]>Q&&(Q=O[$],G=$);return Z[G]},E.covariance=function(R,F,O){'undefined'==typeof O&&(O=!0);var $=E.mean(R),Z=E.mean(F);if(R.length!==F.length)throw'Vectors do not have the same dimensions';for(var W=0,K=R.length,Q=0;Q<K;Q++){var G=R[Q]-$,ee=F[Q]-Z;W+=G*ee}return O?W/(K-1):W/K},E.skewness=function(R,F){'undefined'==typeof F&&(F=!0);for(var O=E.mean(R),$=0,Z=0,W=R.length,K=0,Q;K<W;K++)Q=R[K]-O,$+=Q*Q,Z+=Q*Q*Q;var G=$/W,ee=Z/W,te=ee/_Mathpow(G,3/2);if(F){var ne=_Mathsqrt(W*(W-1));return ne/(W-2)*te}return te},E.kurtosis=function(R,F){'undefined'==typeof F&&(F=!0);for(var O=E.mean(R),$=R.length,Z=0,W=0,K=0,Q;K<$;K++)Q=R[K]-O,Z+=Q*Q,W+=Q*Q*Q*Q;var G=Z/$,ee=W/$;if(F){var te=Z/($-1),oe=W/(te*te);return $*($+1)/(($-1)*($-2)*($-3))*oe-3*(($-1)*($-1)/(($-2)*($-3)))}return ee/(G*G)-3},E.entropy=function(R,F){'undefined'==typeof F&&(F=0);for(var O=0,$=R.length,Z=0;Z<$;Z++)O+=R[Z]*_Mathlog(R[Z]+F);return-O},E.weightedMean=function(R,F){for(var O=0,$=R.length,Z=0;Z<$;Z++)O+=R[Z]*F[Z];return O},E.weightedStandardDeviation=function(R,F){return _Mathsqrt(E.weightedVariance(R,F))},E.weightedVariance=function(R,F){for(var O=E.weightedMean(R,F),$=0,Z=R.length,W=0,K=0,Q=0;Q<Z;Q++){var G=R[Q]-O,ee=F[Q];$+=ee*(G*G),K+=ee,W+=ee*ee}return $*(K/(K*K-W))},E.center=function(R,F){'undefined'==typeof F&&(F=!1);var O=R;F||(O=[].concat(R));for(var $=E.mean(O),Z=O.length,W=0;W<Z;W++)O[W]-=$},E.standardize=function(R,F,O){'undefined'==typeof F&&(F=E.standardDeviation(R)),'undefined'==typeof O&&(O=!1);for(var $=R.length,Z=O?R:Array($),W=0;W<$;W++)Z[W]=R[W]/F;return Z},E.cumulativeSum=function(R){var F=R.length,O=Array(F);O[0]=R[0];for(var $=1;$<F;$++)O[$]=O[$-1]+R[$];return O}},function(D,E,I){'use strict';E.array=I(40),E.matrix=I(121)},function(D,E,I){'use strict';function P(R){if('number'!=typeof R||T(R))throw new TypeError('Expected a number')}var T=I(122);E.asc=function(R,F){return P(R),P(F),R-F},E.desc=function(R,F){return P(R),P(F),F-R}},function(D,E,I){'use strict';E.SpinSystem=I(131),E.simulate1D=I(133),E.simulate2D=I(134)},function(D,E,I){'use strict';D.exports.fourierTransform=I(137),D.exports.zeroFilling=I(140),D.exports.apodization=I(135),D.exports.phaseCorrection=I(138),D.exports.digitalFilter=I(136)},function(D){'use strict';function P(K,Q,G,ee){var te=R(K,Q,G,-ee[0],!0),ne=0,oe=null,se=null;0>te&&(oe={nucleusX:G.nucleusX,nucleusY:G.nucleusY},oe.resolutionX=G.resolutionX,oe.resolutionY=G.resolutionY,oe.shiftX=G.shiftY,oe.shiftY=G.shiftX,oe.peaks=[{x:G.shiftY,y:G.shiftX,z:1}],K.push(oe),se=[-ee[0],ee[1]],Q.push(se),ne++);var de=!1,ue=!1,ae,le;for(ae=K.length-1;0<=ae;ae--)le=K[ae],0===Q[ae][0]&&(_Mathabs(le.shiftX-G.shiftX)<Z&&(de=!0),_Mathabs(le.shiftY-G.shiftY)<Z&&(ue=!0));return!1==de&&(oe={nucleusX:G.nucleusX,nucleusY:G.nucleusY},oe.resolutionX=G.resolutionX,oe.resolutionY=G.resolutionY,oe.shiftX=G.shiftX,oe.shiftY=G.shiftX,oe.peaks=[{x:G.shiftX,y:G.shiftX,z:1}],K.push(oe),se=[0,ee[1]],Q.push(se),ne++),!1==ue&&(oe={nucleusX:G.nucleusX,nucleusY:G.nucleusY},oe.resolutionX=G.resolutionX,oe.resolutionY=G.resolutionY,oe.shiftX=G.shiftY,oe.shiftY=G.shiftY,oe.peaks=[{x:G.shiftY,y:G.shiftY,z:1}],K.push(oe),se=[0,ee[1]],Q.push(se),ne++),ne}function T(K,Q,G,ee){for(var te=0,ne=4*G.shiftX,oe=[],se=[],le=K.length-1,ae;0<=le;le--)ae=K[le],0!==Q[le][0]&&(_Mathabs(ae.shiftX-G.shiftX)<Z?(te++,ee&&Q[le][1]++,oe.push(le),ne+=ae.shiftX):_Mathabs(ae.shiftY-G.shiftY)<Z&&(te++,ee&&Q[le][1]++,se.push(le),ne+=ae.shiftY));if(ne/=oe.length+se.length+4,0<oe.length)for(le=oe.length-1;0<=le;le--)K[oe[le]].shiftX=ne;if(0<se.length)for(le=se.length-1;0<=le;le--)K[se[le]].shiftY=ne;return G.shiftX=ne,G.shiftY=ne,te}function R(K,Q,G,ee,te){for(var ne=K.length-1;0<=ne;ne--)if(Q[ne][0]===ee&&O(G,K[ne],te)<W){if(!te){let oe=(K[ne].shiftX+G.shiftX)/2,se=(K[ne].shiftY+G.shiftY)/2;K[ne].shiftX=oe,K[ne].shiftY=se,G.shiftX=oe,G.shiftY=se}else{let oe=G.shiftX,se=K[ne].shiftX;K[ne].shiftY=oe,G.shiftY=se}return ne}return-1}function F(K){for(var Q=Array(K.length),G=K.length-1;0<=G;G--)if(Q[G]=[0,0],_Mathabs(K[G].shiftX-K[G].shiftY)<=Z){Q[G][1]=1;var ee=(2*K[G].shiftX+K[G].shiftY)/3;K[G].shiftX=ee,K[G].shiftY=ee}else Q[G][0]=0<K[G].shiftX-K[G].shiftY?1:-1;return Q}function O(K,Q,G){return G?_Mathsqrt(_Mathpow(K.shiftX-Q.shiftY,2)+_Mathpow(K.shiftY-Q.shiftX,2)):_Mathsqrt(_Mathpow(K.shiftX-Q.shiftX,2)+_Mathpow(K.shiftY-Q.shiftY,2))}function $(K,Q){var G=0,ee=0,te,ne;for(te=0;te<K.length;te++){var oe=K[te];for(ne=0;ne<Q.length;ne++)G=(Q[ne].startX+Q[ne].stopX)/2,ee=_Mathabs(Q[ne].startX-Q[ne].stopX)/2,oe.nucleusX===Q[ne].nucleus&&_Mathabs(oe.shiftX-G)<=ee&&oe._highlight.push(Q[ne]._highlight[0]),oe.nucleusY===Q[ne].nucleus&&_Mathabs(oe.shiftY-G)<=ee&&oe._highlight.push(Q[ne]._highlight[0])}}var Z=0.05,W=0.05;D.exports={clean:function(Q,G){var ee=Number.NEGATIVE_INFINITY,te;for(te=Q.length-1;0<=te;te--)_Mathabs(Q[te].z)>ee&&(ee=_Mathabs(Q[te].z));for(ee*=G,te=Q.length-1;0<=te;te--)_Mathabs(Q[te].z)<ee&&Q.splice(te,1);return Q},enhanceSymmetry:function(Q){var G=F(Q),ee=Q,te,ne,oe,se;for(te=ee.length-1;0<=te;te--)se=ee[te],1<se.peaks.length&&G[te][1]++,1===G[te][0]&&(oe=R(ee,G,se,-1,!0),0<=oe&&(G[te][1]+=2,G[oe][1]+=2));for(te=ee.length-1;0<=te;te--)se=ee[te],0===G[te][0]&&(ne=T(ee,G,se,!0),G[te][1]+=ne);var ae=0;for(te=ee.length-1;0<=te;te--)0!==G[te][0]&&2<G[te][1]&&(ae++,ae+=P(ee,G,ee[te],G[te])),2<=G[te][1]&&0===G[te][0]&&ae++;var le=Array(ae);for(ae--,te=ee.length-1;0<=te;te--)(0!==G[te][0]&&2<G[te][1]||0===G[te][0]&&1<G[te][1])&&(le[ae--]=ee[te]);return le},alignDimensions:function(Q,G){for(var ee=0,te;ee<G.length;ee++)te=G[ee],te&&$(Q,te)}}},function(D){'use strict';const P=['s','d','t','q','quint','h','sept','o','n'];D.exports.nmrJ=function(R,F={}){var O='';F=Object.assign({},{separator:', ',nbDecimal:2},F);let $,Z;for(Z=0;Z<R.length;Z++)$=R[Z],11<$.length&&($+=F.separator),O+=$.multiplicity+' '+$.coupling.toFixed(F.nbDecimal);return O},D.exports.joinCoupling=function(R,F=0.05){var O=R.j;if(O&&0<O.length){var $=O[0].assignment?O[0].assignment.length:1,Z='',W=[],K=[],Q=[];O.sort(function(te,ne){return ne.coupling-te.coupling}),O[0].diaID&&(K=[O[0].diaID]),O[0].assignment&&(Q=O[0].assignment);for(var G=0;G<O.length-1;G++)if(_Mathabs(O[G].coupling-O[G+1].coupling)<F)$+=O[G+1].assignment?O[G+1].assignment.length:1,K.push(O[G].diaID),Q=Q.concat(O[G+1].assignment);else{let te={coupling:_Mathabs(O[G].coupling),multiplicity:P[$]};0<K.length&&(te.diaID=K),0<Q.length&&(te.assignment=Q),W.push(te),O[0].diaID&&(K=[O[G].diaID]),O[0].assignment&&(Q=O[G].assignment),Z+=P[$],$=O[G+1].assignment?O[G+1].assignment.length:1}let ee={coupling:_Mathabs(O[G].coupling),multiplicity:P[$]};0<K.length&&(ee.diaID=K),0<Q.length&&(ee.assignment=Q),W.push(ee),Z+=P[$],R.j=W}else Z=R.delta?'s':'m';return Z},D.exports.group=function(R,F={}){var O,$;for(O=0;O<R.length;O++){var Z=R[O].j;if(Z&&0<Z.length)for($=Z.length-2;0<=$;$--)for(var W=Z.length-1;W>$;W--)Z[$].diaID===Z[W].diaID&&Z[$].coupling===Z[W].coupling&&Z[$].distance===Z[W].distance&&(Z[$].assignment=Z[$].assignment.concat(Z[W].assignment),Z.splice(W,1))}for(R.sort((K,Q)=>{return K.diaIDs[0]<Q.diaIDs[0]?-1:K.diaIDs[0]>Q.diaIDs[0]?1:0}),O=R.length-2;0<=O;O--)R[O].diaIDs[0]===R[O+1].diaIDs[0]&&(R[O].nbAtoms+=R[O+1].nbAtoms,R[O].atomIDs=R[O].atomIDs.concat(R[O+1].atomIDs),R.splice(O+1,1));for(O=0;O<R.length;O++){for(Z=R[O].j,$=0;$<Z.length;$++)Z[$].multiplicity=P[Z[$].assignment.length];R[O].multiplicity=D.exports.compilePattern(R[O],F.tolerance)}return R},D.exports.compilePattern=function(R,F=0.05){var O=R.j,$='';if(O&&0<O.length){var Z=O[0].assignment?O[0].assignment.length:0;O.sort(function(K,Q){return Q.coupling-K.coupling});for(var W=0;W<O.length-1;W++)_Mathabs(O[W].coupling-O[W+1].coupling)<F?Z+=O[W+1].assignment?O[W+1].assignment.length:1:($+=P[Z],Z=O[W+1].assignment?O[W+1].assignment.length:1);$+=P[Z]}else $=R.delta?'s':'m';return $}},function(D,E,I){'use strict';function T(se,ae){ae=ae||{};var le=new Date,de;if(se.ser||se['2rr'])de=F(se,ae);else if(se['1r']||se['1i']||se.fid)de=R(se,ae);else throw new RangeError('The current files are invalid');de.twoD&&!ae.noContours&&(K(de),de.profiling&&de.profiling.push({action:'Finished countour plot calculation',time:new Date-le}),!ae.keepSpectra&&delete de.spectra);var ue=de.spectra;if(ae.xy&&0<ue.length)for(var ce=0,pe;ce<ue.length;ce++)if(pe=ue[ce],0<pe.data.length)for(var he=0;he<pe.data.length;he++){for(var ge=pe.data[he],me={x:Array(ge.length/2),y:Array(ge.length/2)},fe=0;fe<ge.length;fe+=2)me.x[fe/2]=ge[fe],me.y[fe/2]=ge[fe+1];pe.data[he]=me}return de}function R(se,ae){for(var le=$(se.procs,ae),de=$(se.acqus,ae),ue=Object.keys(de.info),ce=0,pe;ce<ue.length;ce++)pe=ue[ce],void 0===le.info[pe]&&(le.info[pe]=de.info[pe]);return se['1r']||se['1i']?(se['1r']&&O(se['1r'],le,'1r',!0),se['1i']&&O(se['1i'],le,'1i',!1)):se.fid&&Z(se.fid,le),le}function F(se,ae){var le,de,ce;if(se['2rr']){for(var pe=$(se.procs,ae),he=$(se.acqus,ae),ge=Object.keys(he.info),me=0,fe;me<ge.length;me++)fe=ge[me],void 0===pe.info[fe]&&(pe.info[fe]=he.info[fe]);he=$(se.proc2s,ae),pe.info.nbSubSpectra=he.info.$SI=parseInt(he.info.$SI),le=he.info.$SF=parseFloat(he.info.$SF),de=he.info.$SWP=parseFloat(he.info.$SWP),ce=he.info.$OFFSET=parseFloat(he.info.$OFFSET)}else se.ser&&(pe=$(se.acqus,ae),he=$(se.acqu2s,ae),pe.info.nbSubSpectra=he.info.$SI=parseInt(he.info.$TD),pe.info.$SI=parseInt(pe.info.$TD),de=he.info.$SW,pe.info.$SWP=pe.info.$SWH,pe.info.$SF=parseFloat(he.info.$SFO1),pe.info.$OFFSET=0,le=he.info.$SFO1=parseFloat(he.info.$SFO1),le=1,ce=0,pe.info.$AXNUC=pe.info.$NUC1,he.info.$AXNUC=he.info.$NUC1);pe.info.firstY=ce,pe.info.lastY=ce-de/le,pe.info.$BF2=le,pe.info.$SFO1=le;var ye=pe.info.nbSubSpectra,xe=pe.info.firstY,be=(pe.info.lastY-pe.info.firstY)/(ye-1);se['2rr']?O(se['2rr'],pe,'2rr',!0):se.ser&&Z(se.ser,pe,'ser',!0);for(var me=0;me<ye;me++)xe+=be,pe.spectra[me].pageValue=xe;se.ser?'TYPE_2DNMR_FID':'TYPE_2DNMR_SPECTRUM';return pe.info['2D_Y_NUCLEUS']=he.info.$AXNUC,pe.info['2D_X_NUCLEUS']=pe.info.$AXNUC,pe.info['2D_Y_FRECUENCY']=le,pe.info['2D_Y_OFFSET']=ce,pe.info['2D_X_FRECUENCY']=pe.info.$SF,pe.info['2D_X_OFFSET']=pe.info.$OFFSET,pe.twoD=!0,pe}function O(se,ae,le,de){var ue=ae.info.$SI=parseInt(ae.info.$SI),ce=parseFloat(ae.info.$SWP),pe=parseFloat(ae.info.$SF),he=pe,ge=ae.shiftOffsetVal;ae.info.observeFrequency=pe,ae.info.$BF1=he,ae.info.$SFO1=pe,ae.info.brukerReference=he;var me=parseInt(ae.info.$BYTORDP);me=me?0:1;var fe=ae.info.nbSubSpectra?ae.info.nbSubSpectra:1;me?se.setLittleEndian():se.setBigEndian();for(var ye=0;ye<fe;ye++){var xe={dataType:'NMR Spectrum',dataTable:'(X++(R..R))',nbPoints:ue,firstX:ge,lastX:ge-ce/pe,xUnit:'PPM',yUnit:'Arbitrary',data:[Array(2*ue)],isXYdata:!0,observeFrequency:pe,title:ae.info.TITLE,deltaX:-(ce/pe)/(ue-1)},be=ge,_e=xe.deltaX;if(de)for(var ke=0;ke<ue;++ke)xe.data[0][2*ke]=be,xe.data[0][2*ke+1]=se.readInt32(),(null===xe.data[0][2*ke+1]||isNaN(xe.data[0][2*ke+1]))&&(xe.data[0][2*ke+1]=0),be+=_e;else for(ke=ue-1;0<=ke;--ke)xe.data[0][2*ke]=be,xe.data[0][2*ke+1]=se.readInt32(),(null===xe.data[0][2*ke+1]||isNaN(xe.data[0][2*ke+1]))&&(xe.data[0][2*ke+1]=0),be+=_e;ae.spectra.push(xe)}}function $(se,ae){var le=/.*/;return ae.keepRecordsRegExp&&(le=ae.keepRecordsRegExp),G.convert(se,{keepRecordsRegExp:le})}function Z(se,ae){var le=ae.info.$TD=parseInt(ae.info.$TD),de=ae.info.$SWH=parseFloat(ae.info.$SWH),ue=ae.info.$SW=parseFloat(ae.info.$SW),ce=ae.info.$SFO1=parseFloat(ae.info.$SFO1),pe=parseFloat(ae.info.$BF1);ae.info.$BF1=pe;var he=ue,ge=he/(le-1),me=parseInt(ae.info.$BYTORDP);me=me?0:1,me?se.setLittleEndian():se.setBigEndian();var fe=ae.info.nbSubSpectra?ae.info.nbSubSpectra:1;ae.spectra=Array(fe);for(var ye=0,xe;ye<fe/2;ye++){xe={dataType:'NMR FID',dataTable:'(X++(R..R))',nbPoints:le,firstX:0,lastX:he,nucleus:ae.info.$NUC1?ae.info.$NUC1:void 0,xUnit:'Sec',yUnit:'Arbitrary',data:[Array(2*le)],isXYdata:!0,observeFrequency:ce,title:ae.info.TITLE,deltaX:ge},ae.spectra[2*ye]=xe,xe={dataType:'NMR FID',dataTable:'(X++(I..I))',nbPoints:le,firstX:0,lastX:he,nucleus:ae.info.$NUC1?ae.info.$NUC1:void 0,xUnit:'Sec',yUnit:'Arbitrary',data:[Array(2*le)],isXYdata:!0,observeFrequency:ce,title:ae.info.TITLE,deltaX:ge},ae.spectra[2*ye+1]=xe;for(var be=0,ke=0,_e;se.available(8)&&ke<le;ke++,be=ke*ge)_e=se.readInt32(),(null===_e||isNaN(_e))&&(_e=0),ae.spectra[2*ye].data[0][2*ke+1]=_e,ae.spectra[2*ye].data[0][2*ke]=be,_e=se.readInt32(),(null===_e||isNaN(_e))&&(_e=0),ae.spectra[2*ye+1].data[0][2*ke+1]=_e,ae.spectra[2*ye+1].data[0][2*ke]=be;for(;ke<le;ke++,be=ke*ge)ae.spectra[2*ye].data[0][2*ke+1]=0,ae.spectra[2*ye].data[0][2*ke]=be,ae.spectra[2*ye+1].data[0][2*ke+1]=0,ae.spectra[2*ye+1].data[0][2*ke]=be}}function W(se){for(var ae=0,le=se[0].data[0][0],de=le,ue=se.length,ce=se[0].data[0].length/2,pe=Array(ue),he=0;he<ue;he++){pe[he]=Array(ce);for(var ge=0;ge<ce;ge++)pe[he][ge]=se[he].data[0][2*ge+1],pe[he][ge]<le&&(le=se[he].data[0][2*ge+1]),pe[he][ge]>de&&(de=se[he].data[0][2*ge+1]),0!==he&&0!==ge&&(ae+=_Mathabs(pe[he][ge]-pe[he][ge-1])+_Mathabs(pe[he][ge]-pe[he-1][ge]))}return{z:pe,minX:se[0].data[0][0],maxX:se[0].data[0][se[0].data[0].length-2],minY:se[0].pageValue,maxY:se[ue-1].pageValue,minZ:le,maxZ:de,noise:ae/(2*((ue-1)*(ce-1)))}}function K(se){var ae=W(se.spectra);se.contourLines=Q(ae),delete ae.z,se.minMax=ae}function Q(se){for(var le=se.noise,de=se.z,ue=[],ce=7,pe=new Float32Array(4),he=[],ge=de.length,me=de[0].length,_e=se.minX,ke=se.maxX,je=(ke-_e)/(me-1),we=se.minY,Ce=se.maxY,ve=(Ce-we)/(ge-1),Se=se.minZ,De=se.maxZ,Ae=0,fe,ye,xe,be,Ee,Ie;Ae<2*ce;Ae++){Ie={},ue.push(Ie);var He=Ae%2;Ee=0==He?(De-5*le)*_Mathexp(Ae/2-ce)+5*le:-(De-5*le)*_Mathexp(Ae/2-ce)-5*le;var Pe=[];if(Ie.zValue=Ee,Ie.lines=Pe,!(Ee<=Se||Ee>=De))for(var Te=0;Te<ge-1;Te++)for(var Re=0;Re<me-1;Re++){pe[0]=de[Te][Re],pe[1]=de[Te][Re+1],pe[2]=de[Te+1][Re],pe[3]=de[Te+1][Re+1];for(var Fe=0;4>Fe;Fe++)he[Fe]=pe[Fe]>Ee;he[0]!==he[1]&&he[0]!==he[2]&&(fe=Re+(Ee-pe[0])/(pe[1]-pe[0]),ye=Te,xe=Re,be=Te+(Ee-pe[0])/(pe[2]-pe[0]),Pe.push(fe*je+_e,ye*ve+we,xe*je+_e,be*ve+we)),he[3]!==he[1]&&he[3]!==he[2]&&(fe=Re+1,ye=Te+1-(Ee-pe[3])/(pe[1]-pe[3]),xe=Re+1-(Ee-pe[3])/(pe[2]-pe[3]),be=Te+1,Pe.push(fe*je+_e,ye*ve+we,xe*je+_e,be*ve+we)),he[1]!==he[2]&&(fe=Re+1-(Ee-pe[1])/(pe[2]-pe[1]),ye=Te+(Ee-pe[1])/(pe[2]-pe[1]),he[1]!==he[0]&&(xe=Re+1-(Ee-pe[1])/(pe[0]-pe[1]),be=Te,Pe.push(fe*je+_e,ye*ve+we,xe*je+_e,be*ve+we)),he[2]!==he[0]&&(xe=Re,be=Te+1-(Ee-pe[2])/(pe[0]-pe[2]),Pe.push(fe*je+_e,ye*ve+we,xe*je+_e,be*ve+we)),he[1]!==he[3]&&(xe=Re+1,be=Te+(Ee-pe[1])/(pe[3]-pe[1]),Pe.push(fe*je+_e,ye*ve+we,xe*je+_e,be*ve+we)),he[2]!==he[3]&&(xe=Re+(Ee-pe[2])/(pe[3]-pe[2]),be=Te+1,Pe.push(fe*je+_e,ye*ve+we,xe*je+_e,be*ve+we)))}}return{minX:se.minX,maxX:se.maxX,minY:se.minY,maxY:se.maxY,segments:ue}}const G=I(48),ee=I(151),te=I(156);var ne=1,oe=2;D.exports={convertZip:function(se,ae){ae=ae||{};var le=new te;le.load(se,ae);for(var de={ser:ne,fid:ne,acqus:oe,acqu2s:oe,procs:oe,proc2s:oe,'1r':ne,'1i':ne,'2rr':ne},ue=le.filter(function(_e){return 0<=_e.indexOf('ser')||0<=_e.indexOf('fid')||0<=_e.indexOf('1r')||0<=_e.indexOf('2rr')}),ce=Array(ue.length),pe=0;pe<ue.length;++pe){var he=ue[pe].name.length,ge=ue[pe].name;ge=ge.substr(0,ge.lastIndexOf('/')+1);var me=le.folder(ge),fe=me.filter(function(_e){return!!de[_e]}),ye={};0<=ge.indexOf('pdata')&&(ye.acqus=le.file(ge.replace(/pdata\/[0-9]\//,'acqus')).asText());for(var xe=0;xe<fe.length;++xe){var be=fe[xe].name.lastIndexOf('/'),ge=fe[xe].name.substr(be+1);ye[ge]=de[ge]===ne?new ee(fe[xe].asArrayBuffer()):fe[xe].asText()}ce[pe]={filename:ue[pe].name,value:T(ye,ae)}}return ce},converFolder:T}},function(D,E,I){'use strict';function P(){function K(fe){for(var ye=fe.length,xe=Array(ye),be=0;be<ye;be++)xe[be]=parseFloat(fe[be]);return xe}function Q(){}function ee(fe){return fe.toLowerCase().replace(/[^a-z0-9]/g,'')}function te(fe){return-1!==me.indexOf(fe)}function ne(fe){var ye=fe.spectra,xe=ye.length,be={times:Array(xe),series:[{name:'ms',dimension:2,data:Array(xe)}]},_e,ke=[];for(_e=0;_e<me.length;_e++){var je=ee(me[_e]);ye[0][je]&&(ke.push(je),be.series.push({name:je,dimension:1,data:Array(xe)}))}for(_e=0;_e<xe;_e++){var we=ye[_e];be.times[_e]=we.pageValue;for(var Ce=0;Ce<ke.length;Ce++)be.series[Ce+1].data[_e]=parseFloat(we[ke[Ce]]);we.data&&(be.series[0].data[_e]=[we.data[0].x,we.data[0].y])}fe.gcms=be}function oe(fe){var ye=fe.spectra,xe=[],be;for(be=0;be<me.length;be++){var _e=ee(me[be]);ye[0][_e]&&xe.push(_e)}if(0!==xe.length){var ke={gc:{},ms:[]};for(be=0;be<xe.length;be++)ke.gc[xe[be]]=[];for(be=0;be<ye.length;be++){for(var je=ye[be],we=0;we<xe.length;we++)ke.gc[xe[we]].push(je.pageValue),ke.gc[xe[we]].push(parseFloat(je[xe[we]]));je.data&&(ke.ms[be]=je.data[0])}fe.gcms=ke}}function se(fe,ye){if(ye.xFactor||(ye.xFactor=1),ye.yFactor||(ye.yFactor=1),ye.observeFrequency&&ye.xUnit&&'HZ'===ye.xUnit.toUpperCase()&&(ye.xUnit='PPM',ye.xFactor/=ye.observeFrequency,ye.firstX/=ye.observeFrequency,ye.lastX/=ye.observeFrequency,ye.deltaX/=ye.observeFrequency),fe.shiftOffsetVal){var xe=ye.firstX-fe.shiftOffsetVal;ye.firstX-=xe,ye.lastX-=xe}}function ae(fe){fe=fe.sort(le);var ye=fe.length;return fe[_Mathfloor(ye/2)]}function le(fe,ye){return fe-ye}function de(fe){for(var ye=fe[0].data[0][0],xe=ye,be=fe.length,_e=fe[0].data[0].length/2,ke=Array(be),je=0;je<be;je++){ke[je]=Array(_e);for(var we=fe[je].data[0],Ce=0,ve;Ce<_e;Ce++)ve=we[2*Ce+1],ke[je][Ce]=ve,ve<ye&&(ye=ve),ve>xe&&(xe=ve)}return{z:ke,minX:fe[0].data[0][0],maxX:fe[0].data[0][fe[0].data[0].length-2],minY:fe[0].pageValue,maxY:fe[be-1].pageValue,minZ:ye,maxZ:xe,noise:ae(ke[0].map(Math.abs))}}function ue(fe,ye){var xe=de(fe.spectra);ye.noContour||(fe.contourLines=ce(xe,ye),delete xe.z),fe.minMax=xe}function ce(fe,ye){for(var xe=fe.noise,be=fe.z,_e=ye.nbContourLevels||7,ke=void 0===ye.noiseMultiplier?5:ye.noiseMultiplier,Ie=be.length,He=be[0].length,Me=fe.minX,ze=fe.maxX,Oe=(ze-Me)/(He-1),Xe=fe.minY,Ne=fe.maxY,Ye=(Ne-Xe)/(Ie-1),Le=fe.minZ,Ue=fe.maxZ,Be=2*_e,qe=Array(Be),$e=0,je,we,Ce,ve,Se,De,Ee,Ae,Pe,Te,Re,Fe,Ve,Ze;$e<Be;$e++){Ze={},qe[$e]=Ze;var We=$e%2,Ke=(Ue-ke*xe)*_Mathexp(($e>>1)-_e);Ve=0==We?Ke+ke*xe:0-Ke-ke*xe;var Qe=[];if(Ze.zValue=Ve,Ze.lines=Qe,!(Ve<=Le||Ve>=Ue))for(var Ge=0;Ge<Ie-1;Ge++)for(var Je=be[Ge],et=be[Ge+1],tt=0;tt<He-1;tt++)je=Je[tt],we=Je[tt+1],Ce=et[tt],ve=et[tt+1],Se=je>Ve,De=we>Ve,Ee=Ce>Ve,Ae=ve>Ve,Se!==De&&Se!==Ee&&(Pe=tt+(Ve-je)/(we-je),Te=Ge,Re=tt,Fe=Ge+(Ve-je)/(Ce-je),Qe.push(Pe*Oe+Me),Qe.push(Te*Ye+Xe),Qe.push(Re*Oe+Me),Qe.push(Fe*Ye+Xe)),Ae!==De&&Ae!==Ee&&(Pe=tt+1,Te=Ge+1-(Ve-ve)/(we-ve),Re=tt+1-(Ve-ve)/(Ce-ve),Fe=Ge+1,Qe.push(Pe*Oe+Me),Qe.push(Te*Ye+Xe),Qe.push(Re*Oe+Me),Qe.push(Fe*Ye+Xe)),De!==Ee&&(Pe=(tt+1-(Ve-we)/(Ce-we))*Oe+Me,Te=(Ge+(Ve-we)/(Ce-we))*Ye+Xe,De!==Se&&(Re=tt+1-(Ve-we)/(je-we),Fe=Ge,Qe.push(Pe),Qe.push(Te),Qe.push(Re*Oe+Me),Qe.push(Fe*Ye+Xe)),Ee!==Se&&(Re=tt,Fe=Ge+1-(Ve-Ce)/(je-Ce),Qe.push(Pe),Qe.push(Te),Qe.push(Re*Oe+Me),Qe.push(Fe*Ye+Xe)),De!==Ae&&(Re=tt+1,Fe=Ge+(Ve-we)/(ve-we),Qe.push(Pe),Qe.push(Te),Qe.push(Re*Oe+Me),Qe.push(Fe*Ye+Xe)),Ee!==Ae&&(Re=tt+(Ve-Ce)/(ve-Ce),Fe=Ge+1,Qe.push(Pe),Qe.push(Te),Qe.push(Re*Oe+Me),Qe.push(Fe*Ye+Xe)))}return{minX:fe.minX,maxX:fe.maxX,minY:fe.minY,maxY:fe.maxY,segments:qe}}function pe(fe,ye){var xe=fe.yFactor,be=fe.deltaX;fe.isXYdata=!0;var _e=[];fe.data=[_e];for(var ke=fe.firstX,je=fe.firstY,we=!1,Ce=0,ve;Ce<ye.length;Ce++)if(ve=ye.charCodeAt(Ce),13===ve||10===ve)we=!0;else if(we)break;for(var Se=!0,De=!1,Ee=!1,Ae=0,Ie=!1,He=!1,Pe=0,Te=!1,Re=!1,Fe=!1,Me=0,ve;Ce<=ye.length;Ce++)if(ve=Ce===ye.length?13:ye.charCodeAt(Ce),He)(13===ve||10===ve)&&(Se=!0,He=!1);else if(57>=ve&&48<=ve)Re=!0,0<Me?Pe+=(ve-48)/_Mathpow(10,Me++):(Pe*=10,Pe+=ve-48);else if(44===ve||46===ve)Re=!0,Me++;else{if(Re){if(Se)Se=!1,Ee&&(Fe=!0);else if(Fe)Fe=!1;else{De&&(Ae=Te?0-Pe:Pe,Ee=!0,De=!1);for(var ze=Ie?Pe-1:1,Oe=0;Oe<ze;Oe++)Ee?je+=Ae:je=Te?0-Pe:Pe,_e.push(ke),_e.push(je*xe),ke+=be}Te=!1,Pe=0,Me=0,Re=!1,Ie=!1}if(74>ve&&63<ve)Re=!0,Ee=!1,Pe=ve-64;else if(96<ve&&106>ve)Re=!0,Ee=!1,Pe=ve-96,Te=!0;else if(115===ve)Re=!0,Ie=!0,Pe=9;else if(82<ve&&91>ve)Re=!0,Ie=!0,Pe=ve-82;else if(73<ve&&83>ve)Re=!0,De=!0,Pe=ve-73;else if(105<ve&&115>ve)Re=!0,De=!0,Pe=ve-105,Te=!0;else if(36===ve&&36===ye.charCodeAt(Ce+1))Re=!0,He=!0;else if(37===ve)Re=!0,De=!0,Pe=0,Te=!1;else if(45===ve){var Xe=ye.charCodeAt(Ce+1);(48<=Xe&&57>=Xe||44===Xe||46===Xe)&&(Re=!0,Ee=!1,Te=!0)}else(13===ve||10===ve)&&(Se=!0,He=!1)}}function he(fe,ye,xe){var be=/\$\$.*/,_e=/[,\t ]+/;fe.isPeaktable=!0;var ke,je,we,Ce,ve,Se=[];fe.data=[Se];var De=ye.split(/,? *,?[;\r\n]+ */);for(ke=1,je=De.length;ke<je;ke++)if(ve=De[ke].trim().replace(be,'').split(_e),0==ve.length%2)for(we=0,Ce=ve.length;we<Ce;we+=2)Se.push(parseFloat(ve[we])*fe.xFactor),Se.push(parseFloat(ve[we+1])*fe.yFactor);else xe.logs.push('Format error: '+ve)}var ge=/[, \t]{1,}/,me=['TIC','.RIC','SCANNUMBER'];return function(fe,ye){ye=ye||{};var xe=/^$/;ye.keepRecordsRegExp&&(xe=ye.keepRecordsRegExp);var be=!ye.withoutXY,_e=Date.now(),ke={},He={},je,we,Ce,ve,Se,De,Ee,Ae,Ie;He.profiling=[],He.logs=[];var Pe=[];He.spectra=Pe,He.info={};var Te=new Q;if('string'!=typeof fe)return He;for(He.profiling&&He.profiling.push({action:'Before split to LDRS',time:Date.now()-_e}),ve=fe.split(/[\r\n]+##/),He.profiling&&He.profiling.push({action:'Split to LDRS',time:Date.now()-_e}),ve[0]&&(ve[0]=ve[0].replace(/^[\r\n ]*##/,'')),(Se=0,De=ve.length);Se<De;Se++){if(je=ve[Se],Ee=je.indexOf('='),0<Ee?(we=je.substring(0,Ee),Ce=je.substring(Ee+1).trim()):(we=je,Ce=''),we=we.replace(/[_ -]/g,'').toUpperCase(),'DATATABLE'===we&&(Ae=Ce.indexOf('\n'),-1===Ae&&(Ae=Ce.indexOf('\r')),0<Ae)){var Re=-1,Fe=-1;if(Ie=Ce.substring(0,Ae).split(/[ ,;\t]+/),0<Ie[0].indexOf('++')){var Me=Ie[0].replace(/.*\(([a-zA-Z0-9]+)\+\+.*/,'$1'),ze=Ie[0].replace(/.*\.\.([a-zA-Z0-9]+).*/,'$1');Re=ke.symbol.indexOf(Me),Fe=ke.symbol.indexOf(ze)}-1===Re&&(Re=0),-1===Fe&&(Fe=0),ke.first&&(ke.first.length>Re&&(Te.firstX=ke.first[Re]),ke.first.length>Fe&&(Te.firstY=ke.first[Fe])),ke.last&&(ke.last.length>Re&&(Te.lastX=ke.last[Re]),ke.last.length>Fe&&(Te.lastY=ke.last[Fe])),ke.vardim&&ke.vardim.length>Re&&(Te.nbPoints=ke.vardim[Re]),ke.factor&&(ke.factor.length>Re&&(Te.xFactor=ke.factor[Re]),ke.factor.length>Fe&&(Te.yFactor=ke.factor[Fe])),ke.units&&(ke.units.length>Re&&(Te.xUnit=ke.units[Re]),ke.units.length>Fe&&(Te.yUnit=ke.units[Fe])),Te.datatable=Ie[0],Ie[1]&&-1<Ie[1].indexOf('PEAKS')?we='PEAKTABLE':Ie[1]&&(Ie[1].indexOf('XYDATA')||0<Ie[0].indexOf('++'))&&(we='XYDATA',Te.deltaX=(Te.lastX-Te.firstX)/(Te.nbPoints-1))}if('XYDATA'===we){be&&(se(He,Te),Ce.match(/.*\+\+.*/)?!1===ye.fastParse?O(Te,Ce,He):(!Te.deltaX&&(Te.deltaX=(Te.lastX-Te.firstX)/(Te.nbPoints-1)),pe(Te,Ce,He)):he(Te,Ce,He),Pe.push(Te),Te=new Q);continue}else if('PEAKTABLE'===we){be&&(se(He,Te),he(Te,Ce,He),Pe.push(Te),Te=new Q);continue}if('TITLE'===we)Te.title=Ce;else if('DATATYPE'===we)Te.dataType=Ce,-1<Ce.indexOf('nD')&&(He.twoD=!0);else if('NTUPLES'===we)-1<Ce.indexOf('nD')&&(He.twoD=!0);else if('XUNITS'===we)Te.xUnit=Ce;else if('YUNITS'===we)Te.yUnit=Ce;else if('FIRSTX'===we)Te.firstX=parseFloat(Ce);else if('LASTX'===we)Te.lastX=parseFloat(Ce);else if('FIRSTY'===we)Te.firstY=parseFloat(Ce);else if('LASTY'===we)Te.lastY=parseFloat(Ce);else if('NPOINTS'===we)Te.nbPoints=parseFloat(Ce);else if('XFACTOR'===we)Te.xFactor=parseFloat(Ce);else if('YFACTOR'===we)Te.yFactor=parseFloat(Ce);else if('DELTAX'===we)Te.deltaX=parseFloat(Ce);else if('.OBSERVEFREQUENCY'===we||'$SFO1'===we)Te.observeFrequency||(Te.observeFrequency=parseFloat(Ce));else if('.OBSERVENUCLEUS'===we)Te.xType||(He.xType=Ce.replace(/[^a-zA-Z0-9]/g,''));else if('$SFO2'===we)He.indirectFrequency||(He.indirectFrequency=parseFloat(Ce));else if('$OFFSET'===we)He.shiftOffsetNum=0,He.shiftOffsetVal||(He.shiftOffsetVal=parseFloat(Ce));else if('$REFERENCEPOINT'===we);else if('VARNAME'===we)ke.varname=Ce.split(ge);else if('SYMBOL'===we)ke.symbol=Ce.split(ge);else if('VARTYPE'===we)ke.vartype=Ce.split(ge);else if('VARFORM'===we)ke.varform=Ce.split(ge);else if('VARDIM'===we)ke.vardim=K(Ce.split(ge));else if('UNITS'===we)ke.units=Ce.split(ge);else if('FACTOR'===we)ke.factor=K(Ce.split(ge));else if('FIRST'===we)ke.first=K(Ce.split(ge));else if('LAST'===we)ke.last=K(Ce.split(ge));else if('MIN'===we)ke.min=K(Ce.split(ge));else if('MAX'===we)ke.max=K(Ce.split(ge));else if('.NUCLEUS'===we)He.twoD&&(He.yType=Ce.split(ge)[0]);else if('PAGE'===we){Te.page=Ce.trim(),Te.pageValue=parseFloat(Ce.replace(/^.*=/,'')),Te.pageSymbol=Te.page.replace(/=.*/,'');var Oe=ke.symbol.indexOf(Te.pageSymbol),Xe='';ke.units&&ke.units[Oe]&&(Xe=ke.units[Oe]),He.indirectFrequency&&'PPM'!==Xe&&(Te.pageValue/=He.indirectFrequency)}else'RETENTIONTIME'===we?Te.pageValue=parseFloat(Ce):te(we)&&(Te[ee(we)]=Ce);we.match(xe)&&(He.info[we]=Ce.trim())}if(He.profiling&&He.profiling.push({action:'Finished parsing',time:Date.now()-_e}),0<Object.keys(ke).length){for(var Ne=[],Ye=Object.keys(ke),Se=0;Se<Ye.length;Se++)for(var Le=Ye[Se],Ue=ke[Le],Be=0;Be<Ue.length;Be++)Ne[Be]||(Ne[Be]={}),Ne[Be][Le]=Ue[Be];He.ntuples=Ne}He.twoD&&be&&(ue(He,ye),He.profiling&&He.profiling.push({action:'Finished countour plot calculation',time:Date.now()-_e}),!ye.keepSpectra&&delete He.spectra);var qe=1<Pe.length&&(!Pe[0].dataType||Pe[0].dataType.match(/.*mass.*/i));if(qe&&ye.newGCMS&&(ye.xy=!0),ye.xy&&be&&0<Pe.length)for(var Se=0,Te;Se<Pe.length;Se++)if(Te=Pe[Se],0<Te.data.length)for(var Be=0;Be<Te.data.length;Be++){for(var Ve=Te.data[Be],$e={x:Array(Ve.length/2),y:Array(Ve.length/2)},Ze=0;Ze<Ve.length;Ze+=2)$e.x[Ze/2]=Ve[Ze],$e.y[Ze/2]=Ve[Ze+1];Te.data[Be]=$e}return qe&&be&&(ye.newGCMS?ne(He):oe(He),He.profiling&&He.profiling.push({action:'Finished GCMS calculation',time:Date.now()-_e})),He.profiling&&He.profiling.push({action:'Total time',time:Date.now()-_e}),He}}function R(K,Q){return W||F(),new Promise(function(G){var ee=Date.now()+''+Math.random();Z[ee]=G,W.postMessage(JSON.stringify({stamp:ee,input:K,options:Q}))})}function F(){var K=URL.createObjectURL(new Blob(['var getConverter ='+P.toString()+';var convert = getConverter(); onmessage = function (event) { var data = JSON.parse(event.data); postMessage(JSON.stringify({stamp: data.stamp, output: convert(data.input, data.options)})); };'],{type:'application/javascript'}));W=new Worker(K),URL.revokeObjectURL(K),W.addEventListener('message',function(Q){var G=JSON.parse(Q.data),ee=G.stamp;Z[ee]&&Z[ee](G.output)})}var O=I(152),$=P(),Z={},W;D.exports={convert:function(K,Q,G){return'boolean'==typeof Q&&(G=Q,Q={}),G?R(K,Q):$(K,Q)}}},function(D,E,I){'use strict';function P(R){if(R){this.data=R,this.length=this.data.length,this.index=0,this.zero=0;for(var F=0;F<this.data.length;F++)R[F]&=255}}var T=I(51);P.prototype=new T,P.prototype.byteAt=function(R){return this.data[this.zero+R]},P.prototype.lastIndexOfSignature=function(R){for(var F=R.charCodeAt(0),O=R.charCodeAt(1),$=R.charCodeAt(2),Z=R.charCodeAt(3),W=this.length-4;0<=W;--W)if(this.data[W]===F&&this.data[W+1]===O&&this.data[W+2]===$&&this.data[W+3]===Z)return W-this.zero;return-1},P.prototype.readData=function(R){if(this.checkOffset(R),0===R)return[];var F=this.data.slice(this.zero+this.index,this.zero+this.index+R);return this.index+=R,F},D.exports=P},function(D){'use strict';function P(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}P.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},D.exports=P},function(D,E,I){'use strict';function P(){this.data=null,this.length=0,this.index=0,this.zero=0}var T=I(0);P.prototype={checkOffset:function(R){this.checkIndex(this.index+R)},checkIndex:function(R){if(this.length<this.zero+R||0>R)throw new Error('End of data reached (data length = '+this.length+', asked index = '+R+'). Corrupted zip ?')},setIndex:function(R){this.checkIndex(R),this.index=R},skip:function(R){this.setIndex(this.index+R)},byteAt:function(){},readInt:function(R){var F=0,O;for(this.checkOffset(R),O=this.index+R-1;O>=this.index;O--)F=(F<<8)+this.byteAt(O);return this.index+=R,F},readString:function(R){return T.transformTo('string',this.readData(R))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var R=this.readInt(4);return new Date((127&R>>25)+1980,(15&R>>21)-1,31&R>>16,31&R>>11,63&R>>5,(31&R)<<1)}},D.exports=P},function(D,E){'use strict';E.base64=!1,E.binary=!1,E.dir=!1,E.createFolders=!1,E.date=null,E.compression=null,E.compressionOptions=null,E.comment=null,E.unixPermissions=null,E.dosPermissions=null},function(D,E){'use strict';E.LOCAL_FILE_HEADER='PK\x03\x04',E.CENTRAL_FILE_HEADER='PK\x01\x02',E.CENTRAL_DIRECTORY_END='PK\x05\x06',E.ZIP64_CENTRAL_DIRECTORY_LOCATOR='PK\x06\x07',E.ZIP64_CENTRAL_DIRECTORY_END='PK\x06\x06',E.DATA_DESCRIPTOR='PK\x07\b'},function(D,E,I){'use strict';function P(F,O){this.data=F,O||(this.data=R.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var T=I(51),R=I(0);P.prototype=new T,P.prototype.byteAt=function(F){return this.data.charCodeAt(this.zero+F)},P.prototype.lastIndexOfSignature=function(F){return this.data.lastIndexOf(F)-this.zero},P.prototype.readData=function(F){this.checkOffset(F);var O=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,O},D.exports=P},function(D,E,I){'use strict';function P(R){R&&(this.data=R,this.length=this.data.length,this.index=0,this.zero=0)}var T=I(49);P.prototype=new T,P.prototype.readData=function(R){if(this.checkOffset(R),0===R)return new Uint8Array(0);var F=this.data.subarray(this.zero+this.index,this.zero+this.index+R);return this.index+=R,F},D.exports=P},function(D,E,I){'use strict';for(var P=I(0),T=I(6),R=I(20),F=Array(256),O=0;256>O;O++)F[O]=252<=O?6:248<=O?5:240<=O?4:224<=O?3:192<=O?2:1;F[254]=F[254]=1;var $=function(K){var oe=K.length,se=0,Q,G,ee,te,ne;for(te=0;te<oe;te++)G=K.charCodeAt(te),55296==(64512&G)&&te+1<oe&&(ee=K.charCodeAt(te+1),56320==(64512&ee)&&(G=65536+(G-55296<<10)+(ee-56320),te++)),se+=128>G?1:2048>G?2:65536>G?3:4;for(Q=T.uint8array?new Uint8Array(se):Array(se),ne=0,te=0;ne<se;te++)G=K.charCodeAt(te),55296==(64512&G)&&te+1<oe&&(ee=K.charCodeAt(te+1),56320==(64512&ee)&&(G=65536+(G-55296<<10)+(ee-56320),te++)),128>G?Q[ne++]=G:2048>G?(Q[ne++]=192|G>>>6,Q[ne++]=128|63&G):65536>G?(Q[ne++]=224|G>>>12,Q[ne++]=128|63&G>>>6,Q[ne++]=128|63&G):(Q[ne++]=240|G>>>18,Q[ne++]=128|63&G>>>12,Q[ne++]=128|63&G>>>6,Q[ne++]=128|63&G);return Q},Z=function(K,Q){var G;for(Q=Q||K.length,Q>K.length&&(Q=K.length),G=Q-1;0<=G&&128==(192&K[G]);)G--;return 0>G?Q:0===G?Q:G+F[K[G]]>Q?G:Q},W=function(K){var oe=K.length,se=Array(2*oe),G,ee,te,ne;for(ee=0,G=0;G<oe;){if(te=K[G++],128>te){se[ee++]=te;continue}if(ne=F[te],4<ne){se[ee++]=65533,G+=ne-1;continue}for(te&=2===ne?31:3===ne?15:7;1<ne&&G<oe;)te=te<<6|63&K[G++],ne--;if(1<ne){se[ee++]=65533;continue}65536>te?se[ee++]=te:(te-=65536,se[ee++]=55296|1023&te>>10,se[ee++]=56320|1023&te)}return se.length!==ee&&(se.subarray?se=se.subarray(0,ee):se.length=ee),P.applyFromCharCode(se)};E.utf8encode=function(Q){return T.nodebuffer?R(Q,'utf-8'):$(Q)},E.utf8decode=function(Q){if(T.nodebuffer)return P.transformTo('nodebuffer',Q).toString('utf-8');Q=P.transformTo(T.uint8array?'uint8array':'array',Q);for(var G=[],ee=0,te=Q.length,oe;ee<te;)oe=Z(Q,_Mathmin(ee+65536,te)),T.uint8array?G.push(W(Q.subarray(ee,oe))):G.push(W(Q.slice(ee,oe))),ee=oe;return G.join('')}},function(D,E){(function(){var T=0?{}:E;var R={release:'0.3.0',date:'2013-03'};T.toString=function(){return'version '+R.release+', released '+R.date};for(var F=0,O=null,$=null,Z={init:function(Q){if(0!==Q&&0==(Q&Q-1))F=Q,Z._initArray(),Z._makeBitReversalTable(),Z._makeCosSinTable();else throw new Error('init: radix-2 required')},fft1d:function(Q,G){Z.fft(Q,G,1)},ifft1d:function(Q,G){var ee=1/F;Z.fft(Q,G,-1);for(var te=0;te<F;te++)Q[te]*=ee,G[te]*=ee},bt1d:function(Q,G){Z.fft(Q,G,-1)},fft2d:function(Q,G){for(var ee=[],te=[],ne=0,oe=0;oe<F;oe++){ne=oe*F;for(var se=0;se<F;se++)ee[se]=Q[se+ne],te[se]=G[se+ne];Z.fft1d(ee,te);for(var ae=0;ae<F;ae++)Q[ae+ne]=ee[ae],G[ae+ne]=te[ae]}for(var le=0;le<F;le++){for(var de=0;de<F;de++)ne=le+de*F,ee[de]=Q[ne],te[de]=G[ne];Z.fft1d(ee,te);for(var ue=0;ue<F;ue++)ne=le+ue*F,Q[ne]=ee[ue],G[ne]=te[ue]}},ifft2d:function(Q,G){for(var ee=[],te=[],ne=0,oe=0;oe<F;oe++){ne=oe*F;for(var se=0;se<F;se++)ee[se]=Q[se+ne],te[se]=G[se+ne];Z.ifft1d(ee,te);for(var ae=0;ae<F;ae++)Q[ae+ne]=ee[ae],G[ae+ne]=te[ae]}for(var le=0;le<F;le++){for(var de=0;de<F;de++)ne=le+de*F,ee[de]=Q[ne],te[de]=G[ne];Z.ifft1d(ee,te);for(var ue=0;ue<F;ue++)ne=le+ue*F,Q[ne]=ee[ue],G[ne]=te[ue]}},fft:function(Q,G,ee){for(var pe=F>>2,he=0,te,ne,oe,se,ae,le,de,ue,ce;he<F;he++)se=O[he],he<se&&(ae=Q[he],Q[he]=Q[se],Q[se]=ae,ae=G[he],G[he]=G[se],G[se]=ae);for(var ge=1;ge<F;ge<<=1){ne=0,te=F/(ge<<1);for(var me=0;me<ge;me++){le=$[ne+pe],de=ee*$[ne];for(var fe=me;fe<F;fe+=ge<<1)oe=fe+ge,ue=le*Q[oe]+de*G[oe],ce=le*G[oe]-de*Q[oe],Q[oe]=Q[fe]-ue,Q[fe]+=ue,G[oe]=G[fe]-ce,G[fe]+=ce;ne+=te}}},_initArray:function(){O='undefined'==typeof Uint32Array?[]:new Uint32Array(F),$='undefined'==typeof Float64Array?[]:new Float64Array(1.25*F)},_paddingZero:function(){},_makeBitReversalTable:function(){var Q=0,G=0,ee=0;for(O[0]=0;++Q<F;){for(ee=F>>1;ee<=G;)G-=ee,ee>>=1;G+=ee,O[Q]=G}},_makeCosSinTable:function(){var Q=F>>1,G=F>>2,ee=F>>3,ne=_Mathsin(_MathPI/F),oe=2*ne*ne,se=_Mathsqrt(oe*(2-oe)),ae=$[G]=1,le=$[0]=0;ne=2*oe;for(var de=1;de<ee;de++)ae-=oe,oe+=ne*ae,le+=se,se-=ne*le,$[de]=le,$[G-de]=ae;0!=ee&&($[ee]=0.7071067811865476);for(var ue=0;ue<G;ue++)$[Q-ue]=$[ue];for(var ce=0;ce<Q+G;ce++)$[ce+Q]=-$[ce]}},W=['init','fft1d','ifft1d','fft2d','ifft2d'],K=0;K<W.length;K++)T[W[K]]=Z[W[K]];return T.bt=Z.bt1d,T.fft=Z.fft1d,T.ifft=Z.ifft1d,T}).call(this)},function(D,E,I){'use strict';E.FFTUtils=I(168),E.FFT=I(57)},function(D,E){(function(){var T=0?{}:E;var R={release:'0.3.0',date:'2013-03'};T.toString=function(){return'version '+R.release+', released '+R.date};for(var F=0,O=null,$=null,Z={init:function(Q){if(0!==Q&&0==(Q&Q-1))F=Q,Z._initArray(),Z._makeBitReversalTable(),Z._makeCosSinTable();else throw new Error('init: radix-2 required')},fft1d:function(Q,G){Z.fft(Q,G,1)},ifft1d:function(Q,G){var ee=1/F;Z.fft(Q,G,-1);for(var te=0;te<F;te++)Q[te]*=ee,G[te]*=ee},bt1d:function(Q,G){Z.fft(Q,G,-1)},fft2d:function(Q,G){for(var ee=[],te=[],ne=0,oe=0;oe<F;oe++){ne=oe*F;for(var se=0;se<F;se++)ee[se]=Q[se+ne],te[se]=G[se+ne];Z.fft1d(ee,te);for(var ae=0;ae<F;ae++)Q[ae+ne]=ee[ae],G[ae+ne]=te[ae]}for(var le=0;le<F;le++){for(var de=0;de<F;de++)ne=le+de*F,ee[de]=Q[ne],te[de]=G[ne];Z.fft1d(ee,te);for(var ue=0;ue<F;ue++)ne=le+ue*F,Q[ne]=ee[ue],G[ne]=te[ue]}},ifft2d:function(Q,G){for(var ee=[],te=[],ne=0,oe=0;oe<F;oe++){ne=oe*F;for(var se=0;se<F;se++)ee[se]=Q[se+ne],te[se]=G[se+ne];Z.ifft1d(ee,te);for(var ae=0;ae<F;ae++)Q[ae+ne]=ee[ae],G[ae+ne]=te[ae]}for(var le=0;le<F;le++){for(var de=0;de<F;de++)ne=le+de*F,ee[de]=Q[ne],te[de]=G[ne];Z.ifft1d(ee,te);for(var ue=0;ue<F;ue++)ne=le+ue*F,Q[ne]=ee[ue],G[ne]=te[ue]}},fft:function(Q,G,ee){for(var pe=F>>2,he=0,te,ne,oe,se,ae,le,de,ue,ce;he<F;he++)se=O[he],he<se&&(ae=Q[he],Q[he]=Q[se],Q[se]=ae,ae=G[he],G[he]=G[se],G[se]=ae);for(var ge=1;ge<F;ge<<=1){ne=0,te=F/(ge<<1);for(var me=0;me<ge;me++){le=$[ne+pe],de=ee*$[ne];for(var fe=me;fe<F;fe+=ge<<1)oe=fe+ge,ue=le*Q[oe]+de*G[oe],ce=le*G[oe]-de*Q[oe],Q[oe]=Q[fe]-ue,Q[fe]+=ue,G[oe]=G[fe]-ce,G[fe]+=ce;ne+=te}}},_initArray:function(){O='undefined'==typeof Uint32Array?[]:new Uint32Array(F),$='undefined'==typeof Float64Array?[]:new Float64Array(1.25*F)},_paddingZero:function(){},_makeBitReversalTable:function(){var Q=0,G=0,ee=0;for(O[0]=0;++Q<F;){for(ee=F>>1;ee<=G;)G-=ee,ee>>=1;G+=ee,O[Q]=G}},_makeCosSinTable:function(){var Q=F>>1,G=F>>2,ee=F>>3,ne=_Mathsin(_MathPI/F),oe=2*ne*ne,se=_Mathsqrt(oe*(2-oe)),ae=$[G]=1,le=$[0]=0;ne=2*oe;for(var de=1;de<ee;de++)ae-=oe,oe+=ne*ae,le+=se,se-=ne*le,$[de]=le,$[G-de]=ae;0!=ee&&($[ee]=0.7071067811865476);for(var ue=0;ue<G;ue++)$[Q-ue]=$[ue];for(var ce=0;ce<Q+G;ce++)$[ce+Q]=-$[ce]}},W=['init','fft1d','ifft1d','fft2d','ifft2d'],K=0;K<W.length;K++)T[W[K]]=Z[W[K]];return T.bt=Z.bt1d,T.fft=Z.fft1d,T.ifft=Z.ifft1d,T}).call(this)},function(D,E){'use strict';function P(T,R){return T-R}E.sum=function(R){for(var T=0,F=0;F<R.length;F++)T+=R[F];return T},E.max=function(R){for(var T=R[0],F=R.length,O=1;O<F;O++)R[O]>T&&(T=R[O]);return T},E.min=function(R){for(var T=R[0],F=R.length,O=1;O<F;O++)R[O]<T&&(T=R[O]);return T},E.minMax=function(R){for(var F=R[0],O=R[0],$=R.length,Z=1;Z<$;Z++)R[Z]<F&&(F=R[Z]),R[Z]>O&&(O=R[Z]);return{min:F,max:O}},E.arithmeticMean=function(R){for(var F=0,O=R.length,$=0;$<O;$++)F+=R[$];return F/O},E.mean=E.arithmeticMean,E.geometricMean=function(R){for(var F=1,O=R.length,$=0;$<O;$++)F*=R[$];return _Mathpow(F,1/O)},E.logMean=function(R){for(var F=0,O=R.length,$=0;$<O;$++)F+=_Mathlog(R[$]);return F/O},E.grandMean=function(R,F){for(var O=0,$=0,Z=R.length,W=0;W<Z;W++)O+=F[W]*R[W],$+=F[W];return O/$},E.truncatedMean=function(R,F,O){O===void 0&&(O=!1),O||(R=[].concat(R).sort(P));for(var $=R.length,Z=_Mathfloor($*F),W=0,K=Z;K<$-Z;K++)W+=R[K];return W/($-2*Z)},E.harmonicMean=function(R){for(var F=0,O=R.length,$=0;$<O;$++){if(0===R[$])throw new RangeError('value at index '+$+'is zero');F+=1/R[$]}return O/F},E.contraHarmonicMean=function(R){for(var F=0,O=0,$=R.length,Z=0;Z<$;Z++)F+=R[Z]*R[Z],O+=R[Z];if(0>O)throw new RangeError('sum of values is negative');return F/O},E.median=function(R,F){F===void 0&&(F=!1),F||(R=[].concat(R).sort(P));var O=R.length,$=_Mathfloor(O/2);return 0==O%2?0.5*(R[$-1]+R[$]):R[$]},E.variance=function(R,F){F===void 0&&(F=!0);for(var O=E.mean(R),$=0,Z=R.length,W=0,K;W<Z;W++)K=R[W]-O,$+=K*K;return F?$/(Z-1):$/Z},E.standardDeviation=function(R,F){return _Mathsqrt(E.variance(R,F))},E.standardError=function(R){return E.standardDeviation(R)/_Mathsqrt(R.length)},E.robustMeanAndStdev=function(R){var F=0,O=0,$=R.length,Z=0;for(Z=0;Z<$;Z++)F+=R[Z];F/=$;var W=Array($);for(Z=0;Z<$;Z++)W[Z]=_Mathabs(R[Z]-F);return W.sort(P),O=1==$%2?W[($-1)/2]/0.6745:0.5*(W[$/2]+W[$/2-1])/0.6745,{mean:F,stdev:O}},E.quartiles=function(R,F){'undefined'==typeof F&&(F=!1),F||(R=[].concat(R).sort(P));var O=R.length/4,$=R[_Mathceil(O)-1],Z=E.median(R,!0),W=R[_Mathceil(3*O)-1];return{q1:$,q2:Z,q3:W}},E.pooledStandardDeviation=function(R,F){return _Mathsqrt(E.pooledVariance(R,F))},E.pooledVariance=function(R,F){'undefined'==typeof F&&(F=!0);for(var O=0,$=0,Z=R.length,W=0;W<Z;W++){var K=R[W],Q=E.variance(K);O+=(K.length-1)*Q,$+=F?K.length-1:K.length}return O/$},E.mode=function(R){var F=R.length,O=Array(F),$;for($=0;$<F;$++)O[$]=0;var Z=Array(F),W=0;for($=0;$<F;$++){var K=Z.indexOf(R[$]);0<=K?O[K]++:(Z[W]=R[$],O[W]=1,W++)}var Q=0,G=0;for($=0;$<W;$++)O[$]>Q&&(Q=O[$],G=$);return Z[G]},E.covariance=function(R,F,O){'undefined'==typeof O&&(O=!0);var $=E.mean(R),Z=E.mean(F);if(R.length!==F.length)throw'Vectors do not have the same dimensions';for(var W=0,K=R.length,Q=0;Q<K;Q++){var G=R[Q]-$,ee=F[Q]-Z;W+=G*ee}return O?W/(K-1):W/K},E.skewness=function(R,F){'undefined'==typeof F&&(F=!0);for(var O=E.mean(R),$=0,Z=0,W=R.length,K=0,Q;K<W;K++)Q=R[K]-O,$+=Q*Q,Z+=Q*Q*Q;var G=$/W,ee=Z/W,te=ee/_Mathpow(G,3/2);if(F){var ne=_Mathsqrt(W*(W-1));return ne/(W-2)*te}return te},E.kurtosis=function(R,F){'undefined'==typeof F&&(F=!0);for(var O=E.mean(R),$=R.length,Z=0,W=0,K=0,Q;K<$;K++)Q=R[K]-O,Z+=Q*Q,W+=Q*Q*Q*Q;var G=Z/$,ee=W/$;if(F){var te=Z/($-1),oe=W/(te*te);return $*($+1)/(($-1)*($-2)*($-3))*oe-3*(($-1)*($-1)/(($-2)*($-3)))}return ee/(G*G)-3},E.entropy=function(R,F){'undefined'==typeof F&&(F=0);for(var O=0,$=R.length,Z=0;Z<$;Z++)O+=R[Z]*_Mathlog(R[Z]+F);return-O},E.weightedMean=function(R,F){for(var O=0,$=R.length,Z=0;Z<$;Z++)O+=R[Z]*F[Z];return O},E.weightedStandardDeviation=function(R,F){return _Mathsqrt(E.weightedVariance(R,F))},E.weightedVariance=function(R,F){for(var O=E.weightedMean(R,F),$=0,Z=R.length,W=0,K=0,Q=0;Q<Z;Q++){var G=R[Q]-O,ee=F[Q];$+=ee*(G*G),K+=ee,W+=ee*ee}return $*(K/(K*K-W))},E.center=function(R,F){'undefined'==typeof F&&(F=!1);var O=R;F||(O=[].concat(R));for(var $=E.mean(O),Z=O.length,W=0;W<Z;W++)O[W]-=$},E.standardize=function(R,F,O){'undefined'==typeof F&&(F=E.standardDeviation(R)),'undefined'==typeof O&&(O=!1);for(var $=R.length,Z=O?R:Array($),W=0;W<$;W++)Z[W]=R[W]/F;return Z},E.cumulativeSum=function(R){var F=R.length,O=Array(F);O[0]=R[0];for(var $=1;$<F;$++)O[$]=O[$-1]+R[$];return O}},function(D,E,I){'use strict';function P(Z,W){if(65537>W&&(Z.subarray&&F||!Z.subarray&&R))return _StringfromCharCode.apply(null,T.shrinkBuf(Z,W));for(var K='',Q=0;Q<W;Q++)K+=_StringfromCharCode(Z[Q]);return K}var T=I(3),R=!0,F=!0;try{_StringfromCharCode.apply(null,[0])}catch(Z){R=!1}try{_StringfromCharCode.apply(null,new Uint8Array(1))}catch(Z){F=!1}for(var O=new T.Buf8(256),$=0;256>$;$++)O[$]=252<=$?6:248<=$?5:240<=$?4:224<=$?3:192<=$?2:1;O[254]=O[254]=1,E.string2buf=function(Z){var te=Z.length,ne=0,W,K,Q,G,ee;for(G=0;G<te;G++)K=Z.charCodeAt(G),55296==(64512&K)&&G+1<te&&(Q=Z.charCodeAt(G+1),56320==(64512&Q)&&(K=65536+(K-55296<<10)+(Q-56320),G++)),ne+=128>K?1:2048>K?2:65536>K?3:4;for(W=new T.Buf8(ne),ee=0,G=0;ee<ne;G++)K=Z.charCodeAt(G),55296==(64512&K)&&G+1<te&&(Q=Z.charCodeAt(G+1),56320==(64512&Q)&&(K=65536+(K-55296<<10)+(Q-56320),G++)),128>K?W[ee++]=K:2048>K?(W[ee++]=192|K>>>6,W[ee++]=128|63&K):65536>K?(W[ee++]=224|K>>>12,W[ee++]=128|63&K>>>6,W[ee++]=128|63&K):(W[ee++]=240|K>>>18,W[ee++]=128|63&K>>>12,W[ee++]=128|63&K>>>6,W[ee++]=128|63&K);return W},E.buf2binstring=function(Z){return P(Z,Z.length)},E.binstring2buf=function(Z){for(var W=new T.Buf8(Z.length),K=0,Q=W.length;K<Q;K++)W[K]=Z.charCodeAt(K);return W},E.buf2string=function(Z,W){var K,Q,G,ee,te=W||Z.length,ne=Array(2*te);for(Q=0,K=0;K<te;){if(G=Z[K++],128>G){ne[Q++]=G;continue}if(ee=O[G],4<ee){ne[Q++]=65533,K+=ee-1;continue}for(G&=2===ee?31:3===ee?15:7;1<ee&&K<te;)G=G<<6|63&Z[K++],ee--;if(1<ee){ne[Q++]=65533;continue}65536>G?ne[Q++]=G:(G-=65536,ne[Q++]=55296|1023&G>>10,ne[Q++]=56320|1023&G)}return P(ne,Q)},E.utf8border=function(Z,W){var K;for(W=W||Z.length,W>Z.length&&(W=Z.length),K=W-1;0<=K&&128==(192&Z[K]);)K--;return 0>K?W:0===K?W:K+O[Z[K]]>W?K:W}},function(D){'use strict';D.exports=function(T,R,F,O){for(var $=0|65535&T,Z=0|65535&T>>>16,W=0;0!==F;){W=2e3<F?2e3:F,F-=W;do $=0|$+R[O++],Z=0|Z+$;while(--W);$%=65521,Z%=65521}return 0|($|Z<<16)}},function(D){'use strict';D.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(D){'use strict';var R=function(){for(var O=[],$=0,F;256>$;$++){F=$;for(var Z=0;8>Z;Z++)F=1&F?3988292384^F>>>1:F>>>1;O[$]=F}return O}();D.exports=function(F,O,$,Z){F^=-1;for(var Q=Z;Q<Z+$;Q++)F=F>>>8^R[255&(F^O[Q])];return-1^F}},function(D){'use strict';D.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg='',this.state=null,this.data_type=2,this.adler=0}},function(D){D.exports={cdcl3:{tms:[{proton:'X',coupling:0,multiplicity:'',shift:0}],solvent_residual_peak:[{proton:'X',coupling:0,multiplicity:'ds',shift:7.26}],h2o:[{proton:'H2O',coupling:0,multiplicity:'bs',shift:1.56}],acetic_acid:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.1}],acetone:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.17}],acetonitrile:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.1}],benzene:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.36}],'tert-butyl_alcohol':[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.28}],'tert-butyl_methyl_ether':[{proton:'CCH3',coupling:0,multiplicity:'s',shift:1.19},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.22}],bhtb:[{proton:'ArH',coupling:0,multiplicity:'s',shift:6.98},{proton:'OHc',coupling:0,multiplicity:'s',shift:5.01},{proton:'ArCH3',coupling:0,multiplicity:'s',shift:2.27},{proton:'ArC(CH3)3',coupling:0,multiplicity:'s',shift:1.43}],chloroform:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.26}],cyclohexane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:1.43}],'1,2-dichloroethane':[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.73}],dichloromethane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:5.3}],diethyl_ether:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.21},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.48}],diglyme:[{proton:'CH2',coupling:0,multiplicity:'m',shift:3.65},{proton:'CH2',coupling:0,multiplicity:'m',shift:3.57},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.39}],'1,2-dimethoxyethane':[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.4},{proton:'CH2',coupling:0,multiplicity:'s',shift:3.55}],dimethylacetamide:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.09},{proton:'NCH3',coupling:0,multiplicity:'s',shift:3.02},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.94}],dimethylformamide:[{proton:'CH',coupling:0,multiplicity:'s',shift:8.02},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.96},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.88}],dimethyl_sulfoxide:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.62}],dioxane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.71}],ethanol:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.25},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.72},{proton:'OH',coupling:5,multiplicity:'s,t',shift:1.32}],ethyl_acetate:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.05},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:4.12},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.26}],ethyl_methyl_ketone:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.14},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:2.46},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.06}],ethylene_glycol:[{proton:'CH',coupling:0,multiplicity:'s',shift:3.76}],'grease^f':[{proton:'CH3',coupling:0,multiplicity:'m',shift:0.86},{proton:'CH2',coupling:0,multiplicity:'br_s',shift:1.26}],'n-hexane':[{proton:'CH3',coupling:0,multiplicity:'t',shift:0.88},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.26}],hmpag:[{proton:'CH3',coupling:9.5,multiplicity:'d',shift:2.65}],methanol:[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.49},{proton:'OH',coupling:0,multiplicity:'s',shift:1.09}],nitromethane:[{proton:'CH3',coupling:0,multiplicity:'s',shift:4.33}],'n-pentane':[{proton:'CH3',coupling:7,multiplicity:'t',shift:7},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.27}],'2-propanol':[{proton:'CH3',coupling:6,multiplicity:'d',shift:1.22},{proton:'CH',coupling:6,multiplicity:'sep',shift:4.04}],pyridine:[{proton:'CH(2)',coupling:0,multiplicity:'m',shift:8.62},{proton:'CH(3)',coupling:0,multiplicity:'m',shift:7.29},{proton:'CH(4)',coupling:0,multiplicity:'m',shift:7.68}],silicone_greasei:[{proton:'CH3',coupling:0,multiplicity:'s',shift:0.07}],tetrahydrofuran:[{proton:'CH2',coupling:0,multiplicity:'m',shift:1.85},{proton:'CH2O',coupling:0,multiplicity:'m',shift:3.76}],toluene:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.36},{proton:'CH(o/p)',coupling:0,multiplicity:'m',shift:7.17},{proton:'CH(m)',coupling:0,multiplicity:'m',shift:7.25}],triethylamine:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.03},{proton:'CH2',coupling:7,multiplicity:'q',shift:2.53}]},'(cd3)2co':{tms:[{proton:'X',coupling:0,multiplicity:'',shift:0}],solvent_residual_peak:[{proton:'X',coupling:0,multiplicity:'',shift:2.05}],h2o:[{proton:'H2O',coupling:0,multiplicity:'s',shift:2.84}],acetic_acid:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.96}],acetone:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.09}],acetonitrile:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.05}],benzene:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.36}],'tert-butyl_alcohol':[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.18}],'tert-butyl_methyl_ether':[{proton:'CCH3',coupling:0,multiplicity:'s',shift:1.13},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.13}],bhtb:[{proton:'ArH',coupling:0,multiplicity:'s',shift:6.96},{proton:'ArCH3',coupling:0,multiplicity:'s',shift:2.22},{proton:'ArC(CH3)3',coupling:0,multiplicity:'s',shift:1.41}],chloroform:[{proton:'CH',coupling:0,multiplicity:'s',shift:8.02}],cyclohexane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:1.43}],'1,2-dichloroethane':[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.87}],dichloromethane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:5.63}],diethyl_ether:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.11},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.41}],diglyme:[{proton:'CH2',coupling:0,multiplicity:'m',shift:3.56},{proton:'CH2',coupling:0,multiplicity:'m',shift:3.47},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.28}],'1,2-dimethoxyethane':[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.28},{proton:'CH2',coupling:0,multiplicity:'s',shift:3.46}],dimethylacetamide:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.97},{proton:'NCH3',coupling:0,multiplicity:'s',shift:3},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.83}],dimethylformamide:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.96},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.94},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.78}],dimethyl_sulfoxide:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.52}],dioxane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.59}],ethanol:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.12},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.57},{proton:'OH',coupling:5,multiplicity:'s,t',shift:3.39}],ethyl_acetate:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.97},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:4.05},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.2}],ethyl_methyl_ketone:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.07},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:2.45},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:0.96}],ethylene_glycol:[{proton:'CH',coupling:0,multiplicity:'s',shift:3.28}],'grease^f':[{proton:'CH3',coupling:0,multiplicity:'m',shift:0.87},{proton:'CH2',coupling:0,multiplicity:'br_s',shift:1.29}],'n-hexane':[{proton:'CH3',coupling:0,multiplicity:'t',shift:0.88},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.28}],hmpag:[{proton:'CH3',coupling:9.5,multiplicity:'d',shift:2.59}],methanol:[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.31},{proton:'OH',coupling:0,multiplicity:'s',shift:3.12}],nitromethane:[{proton:'CH3',coupling:0,multiplicity:'s',shift:4.43}],'n-pentane':[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.88},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.27}],'2-propanol':[{proton:'CH3',coupling:6,multiplicity:'d',shift:1.1},{proton:'CH',coupling:6,multiplicity:'sep',shift:3.9}],pyridine:[{proton:'CH(2)',coupling:0,multiplicity:'m',shift:8.58},{proton:'CH(3)',coupling:0,multiplicity:'m',shift:7.35},{proton:'CH(4)',coupling:0,multiplicity:'m',shift:7.76}],silicone_greasei:[{proton:'CH3',coupling:0,multiplicity:'s',shift:0.13}],tetrahydrofuran:[{proton:'CH2',coupling:0,multiplicity:'m',shift:1.79},{proton:'CH2O',coupling:0,multiplicity:'m',shift:3.63}],toluene:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.32},{proton:'CH(o/p)',coupling:0,multiplicity:'m',shift:7.5},{proton:'CH(m)',coupling:0,multiplicity:'m',shift:7.5}],triethylamine:[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.96},{proton:'CH2',coupling:7,multiplicity:'q',shift:2.45}]},dmso:{tms:[{proton:'X',coupling:0,multiplicity:'',shift:0}],solvent_residual_peak:[{proton:'X',coupling:0,multiplicity:'quint',shift:2.5}],h2o:[{proton:'H2O',coupling:0,multiplicity:'s',shift:3.33}],acetic_acid:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.91}],acetone:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.09}],acetonitrile:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.07}],benzene:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.37}],'tert-butyl_alcohol':[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.11},{proton:'OHc',coupling:0,multiplicity:'s',shift:4.19}],'tert-butyl_methyl_ether':[{proton:'CCH3',coupling:0,multiplicity:'s',shift:1.11},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.08}],bhtb:[{proton:'ArH',coupling:0,multiplicity:'s',shift:6.87},{proton:'OHc',coupling:0,multiplicity:'s',shift:6.65},{proton:'ArCH3',coupling:0,multiplicity:'s',shift:2.18},{proton:'ArC(CH3)3',coupling:0,multiplicity:'s',shift:1.36}],chloroform:[{proton:'CH',coupling:0,multiplicity:'s',shift:8.32}],cyclohexane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:1.4}],'1,2-dichloroethane':[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.9}],dichloromethane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:5.76}],diethyl_ether:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.09},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.38}],diglyme:[{proton:'CH2',coupling:0,multiplicity:'m',shift:3.51},{proton:'CH2',coupling:0,multiplicity:'m',shift:3.38},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.24}],'1,2-dimethoxyethane':[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.24},{proton:'CH2',coupling:0,multiplicity:'s',shift:3.43}],dimethylacetamide:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.96},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.94},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.78}],dimethylformamide:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.95},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.89},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.73}],dimethyl_sulfoxide:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.54}],dioxane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.57}],ethanol:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.06},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.44},{proton:'OH',coupling:5,multiplicity:'s,t',shift:4.63}],ethyl_acetate:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.99},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:4.03},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.17}],ethyl_methyl_ketone:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.07},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:2.43},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:0.91}],ethylene_glycol:[{proton:'CH',coupling:0,multiplicity:'s',shift:3.34}],'grease^f':[],'n-hexane':[{proton:'CH3',coupling:0,multiplicity:'t',shift:0.86},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.25}],hmpag:[{proton:'CH3',coupling:9.5,multiplicity:'d',shift:2.53}],methanol:[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.16},{proton:'OH',coupling:0,multiplicity:'s',shift:4.01}],nitromethane:[{proton:'CH3',coupling:0,multiplicity:'s',shift:4.42}],'n-pentane':[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.88},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.27}],'2-propanol':[{proton:'CH3',coupling:6,multiplicity:'d',shift:1.04},{proton:'CH',coupling:6,multiplicity:'sep',shift:3.78}],pyridine:[{proton:'CH(2)',coupling:0,multiplicity:'m',shift:8.58},{proton:'CH(3)',coupling:0,multiplicity:'m',shift:7.39},{proton:'CH(4)',coupling:0,multiplicity:'m',shift:7.79}],silicone_greasei:[],tetrahydrofuran:[{proton:'CH2',coupling:0,multiplicity:'m',shift:1.76},{proton:'CH2O',coupling:0,multiplicity:'m',shift:3.6}],toluene:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.3},{proton:'CH(o/p)',coupling:0,multiplicity:'m',shift:7.18},{proton:'CH(m)',coupling:0,multiplicity:'m',shift:7.25}],triethylamine:[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.93},{proton:'CH2',coupling:7,multiplicity:'q',shift:2.43}]},c6d6:{tms:[{proton:'X',coupling:0,multiplicity:'',shift:0}],solvent_residual_peak:[{proton:'X',coupling:0,multiplicity:'',shift:7.16}],h2o:[{proton:'H2O',coupling:0,multiplicity:'s',shift:0.4}],acetic_acid:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.55}],acetone:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.55}],acetonitrile:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.55}],benzene:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.15}],'tert-butyl_alcohol':[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.05},{proton:'OHc',coupling:0,multiplicity:'s',shift:1.55}],'tert-butyl_methyl_ether':[{proton:'CCH3',coupling:0,multiplicity:'s',shift:1.07},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.04}],bhtb:[{proton:'ArH',coupling:0,multiplicity:'s',shift:7.05},{proton:'OHc',coupling:0,multiplicity:'s',shift:4.79},{proton:'ArCH3',coupling:0,multiplicity:'s',shift:2.24},{proton:'ArC(CH3)3',coupling:0,multiplicity:'s',shift:1.38}],chloroform:[{proton:'CH',coupling:0,multiplicity:'s',shift:6.15}],cyclohexane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:1.4}],'1,2-dichloroethane':[{proton:'CH2',coupling:0,multiplicity:'s',shift:2.9}],dichloromethane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:4.27}],diethyl_ether:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.11},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.26}],diglyme:[{proton:'CH2',coupling:0,multiplicity:'m',shift:3.46},{proton:'CH2',coupling:0,multiplicity:'m',shift:3.34},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.11}],'1,2-dimethoxyethane':[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.12},{proton:'CH2',coupling:0,multiplicity:'s',shift:3.33}],dimethylacetamide:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.6},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.57},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.05}],dimethylformamide:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.63},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.36},{proton:'CH3',coupling:0,multiplicity:'s',shift:1.86}],dimethyl_sulfoxide:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.68}],dioxane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.35}],ethanol:[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.96},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.34}],ethyl_acetate:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.65},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:3.89},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:0.92}],ethyl_methyl_ketone:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.58},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:1.81},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:0.85}],ethylene_glycol:[{proton:'CH',coupling:0,multiplicity:'s',shift:3.41}],'grease^f':[{proton:'CH3',coupling:0,multiplicity:'m',shift:0.92},{proton:'CH2',coupling:0,multiplicity:'br_s',shift:1.36}],'n-hexane':[{proton:'CH3',coupling:0,multiplicity:'t',shift:0.89},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.24}],hmpag:[{proton:'CH3',coupling:9.5,multiplicity:'d',shift:2.4}],methanol:[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.07}],nitromethane:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.94}],'n-pentane':[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.86},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.23}],'2-propanol':[{proton:'CH3',coupling:6,multiplicity:'d',shift:0.95},{proton:'CH',coupling:6,multiplicity:'sep',shift:3.67}],pyridine:[{proton:'CH(2)',coupling:0,multiplicity:'m',shift:8.53},{proton:'CH(3)',coupling:0,multiplicity:'m',shift:6.66},{proton:'CH(4)',coupling:0,multiplicity:'m',shift:6.98}],silicone_greasei:[{proton:'CH3',coupling:0,multiplicity:'s',shift:0.29}],tetrahydrofuran:[{proton:'CH2',coupling:0,multiplicity:'m',shift:1.4},{proton:'CH2O',coupling:0,multiplicity:'m',shift:3.57}],toluene:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.11},{proton:'CH(o/p)',coupling:0,multiplicity:'m',shift:7.02},{proton:'CH(m)',coupling:0,multiplicity:'m',shift:7.13}],triethylamine:[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.96},{proton:'CH2',coupling:7,multiplicity:'q',shift:2.4}]},cd3cn:{tms:[{proton:'X',coupling:0,multiplicity:'',shift:0}],solvent_residual_peak:[{proton:'X',coupling:0,multiplicity:'',shift:1.94}],h2o:[{proton:'H2O',coupling:0,multiplicity:'s',shift:2.13}],acetic_acid:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.96}],acetone:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.08}],acetonitrile:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.96}],benzene:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.37}],'tert-butyl_alcohol':[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.16},{proton:'OHc',coupling:0,multiplicity:'s',shift:2.18}],'tert-butyl_methyl_ether':[{proton:'CCH3',coupling:0,multiplicity:'s',shift:1.14},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.13}],bhtb:[{proton:'ArH',coupling:0,multiplicity:'s',shift:6.97},{proton:'OHc',coupling:0,multiplicity:'s',shift:5.2},{proton:'ArCH3',coupling:0,multiplicity:'s',shift:2.22},{proton:'ArC(CH3)3',coupling:0,multiplicity:'s',shift:1.39}],chloroform:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.58}],cyclohexane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:1.44}],'1,2-dichloroethane':[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.81}],dichloromethane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:5.44}],diethyl_ether:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.12},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.42}],diglyme:[{proton:'CH2',coupling:0,multiplicity:'m',shift:3.53},{proton:'CH2',coupling:0,multiplicity:'m',shift:3.45},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.29}],'1,2-dimethoxyethane':[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.28},{proton:'CH2',coupling:0,multiplicity:'s',shift:3.45}],dimethylacetamide:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.97},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.96},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.83}],dimethylformamide:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.92},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.89},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.77}],dimethyl_sulfoxide:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.5}],dioxane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.6}],ethanol:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.12},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.54},{proton:'OH',coupling:5,multiplicity:'s,t',shift:2.47}],ethyl_acetate:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.97},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:4.06},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.2}],ethyl_methyl_ketone:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.06},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:2.43},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:0.96}],ethylene_glycol:[{proton:'CH',coupling:0,multiplicity:'s',shift:3.51}],'grease^f':[{proton:'CH3',coupling:0,multiplicity:'m',shift:0.86},{proton:'CH2',coupling:0,multiplicity:'br_s',shift:1.27}],'n-hexane':[{proton:'CH3',coupling:0,multiplicity:'t',shift:0.89},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.28}],hmpag:[{proton:'CH3',coupling:9.5,multiplicity:'d',shift:2.57}],methanol:[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.28},{proton:'OH',coupling:0,multiplicity:'s',shift:2.16}],nitromethane:[{proton:'CH3',coupling:0,multiplicity:'s',shift:4.31}],'n-pentane':[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.87},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.29}],'2-propanol':[{proton:'CH3',coupling:6,multiplicity:'d',shift:1.09},{proton:'CH',coupling:6,multiplicity:'sep',shift:3.87}],pyridine:[{proton:'CH(2)',coupling:0,multiplicity:'m',shift:8.57},{proton:'CH(3)',coupling:0,multiplicity:'m',shift:7.33},{proton:'CH(4)',coupling:0,multiplicity:'m',shift:7.73}],silicone_greasei:[{proton:'CH3',coupling:0,multiplicity:'s',shift:0.08}],tetrahydrofuran:[{proton:'CH2',coupling:0,multiplicity:'m',shift:1.8},{proton:'CH2O',coupling:0,multiplicity:'m',shift:3.64}],toluene:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.33},{proton:'CH(o/p)',coupling:0,multiplicity:'m',shift:7.2},{proton:'CH(m)',coupling:0,multiplicity:'m',shift:7.2}],triethylamine:[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.96},{proton:'CH2',coupling:7,multiplicity:'q',shift:2.45}]},cd3od:{tms:[{proton:'X',coupling:0,multiplicity:'',shift:0}],solvent_residual_peak:[{proton:'X',coupling:0,multiplicity:'',shift:3.31}],h2o:[{proton:'H2O',coupling:0,multiplicity:'s',shift:4.87}],acetic_acid:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.99}],acetone:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.15}],acetonitrile:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.03}],benzene:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.33}],'tert-butyl_alcohol':[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.4}],'tert-butyl_methyl_ether':[{proton:'CCH3',coupling:0,multiplicity:'s',shift:1.15},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.2}],bhtb:[{proton:'ArH',coupling:0,multiplicity:'s',shift:6.92},{proton:'ArCH3',coupling:0,multiplicity:'s',shift:2.21},{proton:'ArC(CH3)3',coupling:0,multiplicity:'s',shift:1.4}],chloroform:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.9}],cyclohexane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:1.45}],'1,2-dichloroethane':[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.78}],dichloromethane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:5.49}],diethyl_ether:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.18},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.49}],diglyme:[{proton:'CH2',coupling:0,multiplicity:'m',shift:3.61},{proton:'CH2',coupling:0,multiplicity:'m',shift:3.58},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.35}],'1,2-dimethoxyethane':[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.35},{proton:'CH2',coupling:0,multiplicity:'s',shift:3.52}],dimethylacetamide:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.07},{proton:'NCH3',coupling:0,multiplicity:'s',shift:3.31},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.92}],dimethylformamide:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.97},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.99},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.86}],dimethyl_sulfoxide:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.65}],dioxane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.66}],ethanol:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.19},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.6}],ethyl_acetate:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.01},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:4.09},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.24}],ethyl_methyl_ketone:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.12},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:2.5},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.01}],ethylene_glycol:[{proton:'CH',coupling:0,multiplicity:'s',shift:3.59}],'grease^f':[{proton:'CH3',coupling:0,multiplicity:'m',shift:0.88},{proton:'CH2',coupling:0,multiplicity:'br_s',shift:1.29}],'n-hexane':[{proton:'CH3',coupling:0,multiplicity:'t',shift:0.9},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.29}],hmpag:[{proton:'CH3',coupling:9.5,multiplicity:'d',shift:2.64}],methanol:[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.34}],nitromethane:[{proton:'CH3',coupling:0,multiplicity:'s',shift:4.34}],'n-pentane':[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.89},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.29}],'2-propanol':[{proton:'CH3',coupling:6,multiplicity:'d',shift:1.5},{proton:'CH',coupling:6,multiplicity:'sep',shift:3.92}],pyridine:[{proton:'CH(2)',coupling:0,multiplicity:'m',shift:8.53},{proton:'CH(3)',coupling:0,multiplicity:'m',shift:7.44},{proton:'CH(4)',coupling:0,multiplicity:'m',shift:7.85}],silicone_greasei:[{proton:'CH3',coupling:0,multiplicity:'s',shift:0.1}],tetrahydrofuran:[{proton:'CH2',coupling:0,multiplicity:'m',shift:1.87},{proton:'CH2O',coupling:0,multiplicity:'m',shift:3.71}],toluene:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.32},{proton:'CH(o/p)',coupling:0,multiplicity:'m',shift:7.16},{proton:'CH(m)',coupling:0,multiplicity:'m',shift:7.16}],triethylamine:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.05},{proton:'CH2',coupling:7,multiplicity:'q',shift:2.58}]},d2o:{tms:[{proton:'X',coupling:0,multiplicity:'',shift:0}],solvent_residual_peak:[{proton:'X',coupling:0,multiplicity:'',shift:4.79}],h2o:[],acetic_acid:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.08}],acetone:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.22}],acetonitrile:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.06}],benzene:[],'tert-butyl_alcohol':[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.24}],'tert-butyl_methyl_ether':[{proton:'CCH3',coupling:0,multiplicity:'s',shift:1.21},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.22}],bhtb:[],chloroform:[],cyclohexane:[],'1,2-dichloroethane':[],dichloromethane:[],diethyl_ether:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.17},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.56}],diglyme:[{proton:'CH2',coupling:0,multiplicity:'m',shift:3.67},{proton:'CH2',coupling:0,multiplicity:'m',shift:3.61},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.37}],'1,2-dimethoxyethane':[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.37},{proton:'CH2',coupling:0,multiplicity:'s',shift:3.6}],dimethylacetamide:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.08},{proton:'NCH3',coupling:0,multiplicity:'s',shift:3.06},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.9}],dimethylformamide:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.92},{proton:'CH3',coupling:0,multiplicity:'s',shift:3.01},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.85}],dimethyl_sulfoxide:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.71}],dioxane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.75}],ethanol:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.17},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.65}],ethyl_acetate:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.07},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:4.14},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.24}],ethyl_methyl_ketone:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.19},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:3.18},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.26}],ethylene_glycol:[{proton:'CH',coupling:0,multiplicity:'s',shift:3.65}],'grease^f':[],'n-hexane':[],hmpag:[{proton:'CH3',coupling:9.5,multiplicity:'d',shift:2.61}],methanol:[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.34}],nitromethane:[{proton:'CH3',coupling:0,multiplicity:'s',shift:4.4}],'n-pentane':[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.9}],'2-propanol':[{proton:'CH3',coupling:6,multiplicity:'d',shift:1.17},{proton:'CH',coupling:6,multiplicity:'sep',shift:4.02}],pyridine:[{proton:'CH(2)',coupling:0,multiplicity:'m',shift:8.52},{proton:'CH(3)',coupling:0,multiplicity:'m',shift:7.45},{proton:'CH(4)',coupling:0,multiplicity:'m',shift:7.87}],silicone_greasei:[],tetrahydrofuran:[{proton:'CH2',coupling:0,multiplicity:'m',shift:1.88},{proton:'CH2O',coupling:0,multiplicity:'m',shift:3.74}],toluene:[],triethylamine:[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.99},{proton:'CH2',coupling:7,multiplicity:'q',shift:2.57}]}}},function(D,E,I){'use strict';const P=I(10),T=I(44),R=I(47),F=I(148),O=I(43),$=I(66);class Z extends P{constructor(W){super(W)}static fromSignals(W,K={}){K=Object.assign({},{nbPoints:16384,maxClusterSize:8,output:'xy'},K);const Q=O.SpinSystem.fromPrediction(W);Q.ensureClusterSize(K);var G=O.simulate1D(Q,K);return Z.fromXY(G.x,G.y,K)}static fromXY(W,K,Q){Q=Object.assign({},Q,{xUnit:'PPM',yUnit:'Intensity',dataType:'NMR'});var G=P.fromXY(W,K,Q),ee=G.sd.spectra[0];return ee.observeFrequency=Q.frequency||400,G.putParam('observeFrequency',ee.observeFrequency),G.putParam('.SOLVENTNAME',Q.solvent||'none'),G.putParam('.$SW_h',_Mathabs(ee.lastX-ee.firstX)*ee.observeFrequency),G.putParam('.$SW',_Mathabs(ee.lastX-ee.firstX)),G.putParam('.$TD',ee.nbPoints),G.sd.xType=Q.nucleus||'1H',new Z(G.sd)}static fromBruker(W,K){K=Object.assign({},{xy:!0,keepSpectra:!0,keepRecordsRegExp:/^.+$/},K);var Q=null;return Q=Array.isArray(W)?R.converFolder(W,K):R.convertZip(W,K),Q?Q.map(function(G){return new Z(G)}):null}getNucleus(W){return W&&0!==W&&1!==W?'':this.sd.xType}getSolventName(){return(this.sd.info['.SOLVENTNAME']||this.sd.info.$SOLVENT||'').replace('<','').replace('>','')}observeFrequencyX(){return this.sd.spectra[0].observeFrequency}getNMRPeakThreshold(W){return'1H'===W?3:'13C'===W?5:1}fourierTransform(){return T.fourierTransform(this)}postFourierTransform(W){return T.phaseCorrection(0,W)}zeroFilling(W,K){return T.zeroFilling(this,W,K)}brukerFilter(){return T.digitalFilter(this,{brukerFilter:!0})}digitalFilter(W){return T.digitalFilter(this,W)}apodization(W,K){return T.apodization(this,{functionName:W,lineBroadening:K})}echoAntiechoFilter(){return this}SNVFilter(){return this}powerFilter(W){var K=this.getMinY();return 1>W&&0>K&&this.YShift(-1*K),this}phaseCorrection(W,K){return T.phaseCorrection(this,W,K)}getRanges(W={}){if(this.ranges)return this.ranges;var K=this.getPeaks(W),Q=F(this,K,W);return Q}createRanges(W){return this.ranges=null,this.peaks=null,this.ranges=this.getRanges(W),this.ranges}getResidual(W){return this.getImpurity(W,'solvent_residual_peak')}getImpurities(W){return this.getImpurity(W,null)}getImpurity(W,K){W=W.toLowerCase(),'(cd3)2so'===W&&(W='dmso');var Q=$[W];return K&&(Q=Q[K.toLocaleLowerCase()]),Q}}D.exports=Z},function(D,E,I){'use strict';const P=I(10),T=I(147),R=I(45),F=I(47),O=I(44),$=I(7).array,Z=I(43).simulate2D;class W extends P{constructor(K){super(K)}static fromPrediction(K,Q){var G=Z(K,Q),ee=W.fromMatrix(G,Q),te=ee.toJcamp({type:'NTUPLES'});return W.fromJcamp(te)}static fromBruker(K,Q){Q=Object.assign({},{xy:!0,keepSpectra:!0,keepRecordsRegExp:/^.+$/},Q);var G=null;return G=Array.isArray(K)?F.converFolder(K,Q):F.convertZip(K,Q),G?G.map(function(ee){return new W(ee)}):null}static fromMatrix(K,Q){var G={profiling:[],logs:[]},ee=[];let te=K[0].length;G.spectra=ee,G.info={};let ne=Q.firstY||0,oe=Q.lastY||K.length-1,se=(oe-ne)/(K.length-1),ae=Q.firstX||0,le=Q.lastX||te-1,ue=Q.x;if(!ue){ue=Array(te);for(let ge=0;ge<te;ge++)ue[ge]=ae+(oe-ne)/(te-1)*ge}let ce=Q.frequencyX||400,pe=_NumberMAX_SAFE_INTEGER,he=_NumberMIN_SAFE_INTEGER;return K.forEach((ge,me)=>{var fe={};fe.isXYdata=!0,fe.nbPoints=te,fe.firstX=ae,fe.firstY=ge[0],fe.lastX=le,fe.lastY=ge[fe.nbPoints-1],fe.xFactor=1,fe.yFactor=1,fe.deltaX=(fe.lastX-fe.firstX)/(fe.nbPoints-1),fe.title=Q.title||'spectra-data from matrix',fe.dataType=Q.dataType||'nD NMR SPECTRUM',fe.observeFrequency=ce,fe.data=[{x:ue,y:ge}],fe.page=ne+me*se,G.xType=Q.xType||Q.nucleusX||'1H',ee.push(fe);let ye=$.minMax(ge);pe=_Mathmin(pe,ye.min),he=_Mathmax(he,ye.max)}),G.ntuples=[{units:Q.xUnit||'PPM'},{units:Q.yUnit||'PPM'},{units:Q.zUnit||'Intensity'}],G.info['2D_Y_FREQUENCY']=Q.frequencyY||400,G.info['2D_X_FREQUENCY']=Q.frequencyX||400,G.info.observefrequency=G.info['2D_X_FREQUENCY'],G.info.$BF1=G.info.observefrequency,G.info['.SOLVENTNAME']=Q.solvent||'none',G.info.$SW_h=_Mathabs(le-ae)*ce,G.info.$SW=_Mathabs(le-ae),G.info.$TD=te,G.info.firstY=ne,G.info.lastY=oe,G.minMax={minY:ne,maxY:oe,minX:ae,maxX:le,minZ:pe,maxZ:he},G.yType=Q.yType||Q.nucleusY||'1H',G.twoD=!0,new W(G)}isHomoNuclear(){return this.sd.xType===this.sd.yType}observeFrequencyX(){return this.sd.spectra[0].observeFrequency}observeFrequencyY(){return this.sd.indirectFrequency}getSolventName(){return(this.sd.info['.SOLVENTNAME']||this.sd.info.$SOLVENT).replace('<','').replace('>','')}getXUnits(){return this.sd.ntuples[1].units}getYUnits(){return this.sd.ntuples[0].units}getZUnits(){return this.sd.ntuples[2].units}getLastY(){return this.sd.minMax.maxY}getFirstY(){return this.sd.minMax.minY}getDeltaY(){return(this.getLastY()-this.getFirstY())/(this.getNbSubSpectra()-1)}getMinZ(){return this.sd.minMax.minZ}getMaxZ(){return this.sd.minMax.maxZ}getZones(K){K=K||{},K.thresholdFactor||(K.thresholdFactor=1);var Q=_Mathround(255*Math.random());K.idPrefix&&(Q=K.idPrefix);for(var G=T(this,K.thresholdFactor),ee=0;ee<G.length;ee++)G[ee]._highlight=[Q+'_'+ee],G[ee].signalID=Q+'_'+ee;if(K.references&&R.alignDimensions(G,K.references),'new'===K.format){for(var te=Array(G.length),ne=G.length-1,oe;0<=ne;ne--)oe=G[ne],te[ne]={fromTo:oe.fromTo,integral:oe.intensity||1,remark:'',signal:[{peak:oe.peaks,delta:[oe.shiftX,oe.shiftY]}],_highlight:oe._highlight,signalID:oe.signalID};G=te}return this.zones=G,this.zones}getNMRPeakThreshold(K){return'1H'===K?3:'13C'===K?5:1}getNucleus(K){return 1===K?this.sd.xType:2===K?this.sd.yType:this.sd.xType}zeroFilling(K,Q){return O.zeroFilling(this,K,Q)}brukerFilter(){return O.digitalFilter(this,{brukerFilter:!0})}digitalFilter(K){return O.digitalFilter(this,K)}fourierTransform(){return O.fourierTransform(this)}postFourierTransform(K){return O.phaseCorrection(0,K)}}D.exports=W},function(D,E){'use strict';function P(te){var ne=te.length;if(0<ne%4)throw new Error('Invalid string. Length must be a multiple of 4');return'='===te[ne-2]?2:'='===te[ne-1]?1:0}function F(te){return Z[63&te>>18]+Z[63&te>>12]+Z[63&te>>6]+Z[63&te]}function O(te,ne,oe){for(var ae=[],le=ne,se;le<oe;le+=3)se=(te[le]<<16)+(te[le+1]<<8)+te[le+2],ae.push(F(se));return ae.join('')}E.byteLength=function(te){return 3*te.length/4-P(te)},E.toByteArray=function(te){var ue=te.length,ne,oe,se,ae,le,de;le=P(te),de=new K(3*ue/4-le),se=0<le?ue-4:ue;var ce=0;for(ne=0,oe=0;ne<se;ne+=4,oe+=3)ae=W[te.charCodeAt(ne)]<<18|W[te.charCodeAt(ne+1)]<<12|W[te.charCodeAt(ne+2)]<<6|W[te.charCodeAt(ne+3)],de[ce++]=255&ae>>16,de[ce++]=255&ae>>8,de[ce++]=255&ae;return 2===le?(ae=W[te.charCodeAt(ne)]<<2|W[te.charCodeAt(ne+1)]>>4,de[ce++]=255&ae):1===le&&(ae=W[te.charCodeAt(ne)]<<10|W[te.charCodeAt(ne+1)]<<4|W[te.charCodeAt(ne+2)]>>2,de[ce++]=255&ae>>8,de[ce++]=255&ae),de},E.fromByteArray=function(te){for(var oe=te.length,se=oe%3,ae='',le=[],de=16383,ue=0,ce=oe-se,ne;ue<ce;ue+=de)le.push(O(te,ue,ue+de>ce?ce:ue+de));return 1==se?(ne=te[oe-1],ae+=Z[ne>>2],ae+=Z[63&ne<<4],ae+='=='):2==se&&(ne=(te[oe-2]<<8)+te[oe-1],ae+=Z[ne>>10],ae+=Z[63&ne>>4],ae+=Z[63&ne<<2],ae+='='),le.push(ae),le.join('')};for(var Z=[],W=[],K='undefined'==typeof Uint8Array?Array:Uint8Array,Q='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',G=0,ee=Q.length;G<ee;++G)Z[G]=Q[G],W[Q.charCodeAt(G)]=G;W['-'.charCodeAt(0)]=62,W['_'.charCodeAt(0)]=63},function(D,E){E.read=function(I,P,T,R,F){var O,$,Z=8*F-R-1,W=(1<<Z)-1,K=W>>1,Q=-7,G=T?F-1:0,ee=T?-1:1,te=I[P+G];for(G+=ee,O=te&(1<<-Q)-1,te>>=-Q,Q+=Z;0<Q;O=256*O+I[P+G],G+=ee,Q-=8);for($=O&(1<<-Q)-1,O>>=-Q,Q+=R;0<Q;$=256*$+I[P+G],G+=ee,Q-=8);if(0===O)O=1-K;else{if(O===W)return $?NaN:(te?-1:1)*Infinity;$+=_Mathpow(2,R),O-=K}return(te?-1:1)*$*_Mathpow(2,O-R)},E.write=function(I,P,T,R,F,O){var $,Z,W,K=8*O-F-1,Q=(1<<K)-1,G=Q>>1,ee=23===F?5.960464477539063e-8-6.617444900424222e-24:0,te=R?0:O-1,ne=R?1:-1,oe=0>P||0===P&&0>1/P?1:0;for(P=_Mathabs(P),isNaN(P)||P===Infinity?(Z=isNaN(P)?1:0,$=Q):($=_Mathfloor(_Mathlog(P)/Math.LN2),1>P*(W=_Mathpow(2,-$))&&($--,W*=2),P+=1<=$+G?ee/W:ee*_Mathpow(2,1-G),2<=P*W&&($++,W/=2),$+G>=Q?(Z=0,$=Q):1<=$+G?(Z=(P*W-1)*_Mathpow(2,F),$+=G):(Z=P*_Mathpow(2,G-1)*_Mathpow(2,F),$=0));8<=F;I[T+te]=255&Z,te+=ne,Z/=256,F-=8);for($=$<<F|Z,K+=F;0<K;I[T+te]=255&$,te+=ne,$/=256,K-=8);I[T+te-ne]|=128*oe}},function(D){var I={}.toString;D.exports=Array.isArray||function(P){return'[object Array]'==I.call(P)}},function(D){function I(){throw new Error('setTimeout has not been defined')}function P(){throw new Error('clearTimeout has not been defined')}function T(oe){if(K===setTimeout)return setTimeout(oe,0);if((K===I||!K)&&setTimeout)return K=setTimeout,setTimeout(oe,0);try{return K(oe,0)}catch(se){try{return K.call(null,oe,0)}catch(ae){return K.call(this,oe,0)}}}function R(oe){if(Q===clearTimeout)return clearTimeout(oe);if((Q===P||!Q)&&clearTimeout)return Q=clearTimeout,clearTimeout(oe);try{return Q(oe)}catch(se){try{return Q.call(null,oe)}catch(ae){return Q.call(this,oe)}}}function F(){ee&&te&&(ee=!1,te.length?G=te.concat(G):ne=-1,G.length&&O())}function O(){if(!ee){var oe=T(F);ee=!0;for(var se=G.length;se;){for(te=G,G=[];++ne<se;)te&&te[ne].run();ne=-1,se=G.length}te=null,ee=!1,R(oe)}}function $(oe,se){this.fun=oe,this.array=se}function Z(){}var W=D.exports={},K,Q;(function(){try{K='function'==typeof setTimeout?setTimeout:I}catch(oe){K=I}try{Q='function'==typeof clearTimeout?clearTimeout:P}catch(oe){Q=P}})();var G=[],ee=!1,te,ne=-1;W.nextTick=function(oe){var se=Array(arguments.length-1);if(1<arguments.length)for(var ae=1;ae<arguments.length;ae++)se[ae-1]=arguments[ae];G.push(new $(oe,se)),1!==G.length||ee||T(O)},$.prototype.run=function(){this.fun.apply(null,this.array)},W.title='browser',W.browser=!0,W.env={},W.argv=[],W.version='',W.versions={},W.on=Z,W.addListener=Z,W.once=Z,W.off=Z,W.removeListener=Z,W.removeAllListeners=Z,W.emit=Z,W.prependListener=Z,W.prependOnceListener=Z,W.listeners=function(){return[]},W.binding=function(){throw new Error('process.binding is not supported')},W.cwd=function(){return'/'},W.chdir=function(){throw new Error('process.chdir is not supported')},W.umask=function(){return 0}},function(D){D.exports='function'==typeof Object.create?function(P,T){P.super_=T,P.prototype=Object.create(T.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}})}:function(P,T){P.super_=T;var R=function(){};R.prototype=T.prototype,P.prototype=new R,P.prototype.constructor=P}},function(D){D.exports=function(P){return P&&'object'==typeof P&&'function'==typeof P.copy&&'function'==typeof P.fill&&'function'==typeof P.readUInt8}},function(D,E,I){(function(P,T){function R(ve,Se){var De={seen:[],stylize:O};return 3<=arguments.length&&(De.depth=arguments[2]),4<=arguments.length&&(De.colors=arguments[3]),ne(Se)?De.showHidden=Se:Se&&E._extend(De,Se),ue(De.showHidden)&&(De.showHidden=!1),ue(De.depth)&&(De.depth=2),ue(De.colors)&&(De.colors=!1),ue(De.customInspect)&&(De.customInspect=!0),De.colors&&(De.stylize=F),Z(De,ve,De.depth)}function F(ve,Se){var De=R.styles[Se];return De?'\x1B['+R.colors[De][0]+'m'+ve+'\x1B['+R.colors[De][1]+'m':ve}function O(ve){return ve}function $(ve){var Se={};return ve.forEach(function(De){Se[De]=!0}),Se}function Z(ve,Se,De){if(ve.customInspect&&Se&&me(Se.inspect)&&Se.inspect!==E.inspect&&!(Se.constructor&&Se.constructor.prototype===Se)){var Ee=Se.inspect(De,ve);return le(Ee)||(Ee=Z(ve,Ee,De)),Ee}var Ae=W(ve,Se);if(Ae)return Ae;var Ie=Object.keys(Se),He=$(Ie);if(ve.showHidden&&(Ie=Object.getOwnPropertyNames(Se)),ge(Se)&&(0<=Ie.indexOf('message')||0<=Ie.indexOf('description')))return K(Se);if(0===Ie.length){if(me(Se)){var Pe=Se.name?': '+Se.name:'';return ve.stylize('[Function'+Pe+']','special')}if(ce(Se))return ve.stylize(RegExp.prototype.toString.call(Se),'regexp');if(he(Se))return ve.stylize(Date.prototype.toString.call(Se),'date');if(ge(Se))return K(Se)}var Te='',Re=!1,Fe=['{','}'];if(te(Se)&&(Re=!0,Fe=['[',']']),me(Se)){var Me=Se.name?': '+Se.name:'';Te=' [Function'+Me+']'}if(ce(Se)&&(Te=' '+RegExp.prototype.toString.call(Se)),he(Se)&&(Te=' '+Date.prototype.toUTCString.call(Se)),ge(Se)&&(Te=' '+K(Se)),0===Ie.length&&(!Re||0==Se.length))return Fe[0]+Te+Fe[1];if(0>De)return ce(Se)?ve.stylize(RegExp.prototype.toString.call(Se),'regexp'):ve.stylize('[Object]','special');ve.seen.push(Se);var ze;return ze=Re?Q(ve,Se,De,He,Ie):Ie.map(function(Oe){return G(ve,Se,De,He,Oe,Re)}),ve.seen.pop(),ee(ze,Te,Fe)}function W(ve,Se){if(ue(Se))return ve.stylize('undefined','undefined');if(le(Se)){var De='\''+JSON.stringify(Se).replace(/^"|"$/g,'').replace(/'/g,'\\\'').replace(/\\"/g,'"')+'\'';return ve.stylize(De,'string')}return ae(Se)?ve.stylize(''+Se,'number'):ne(Se)?ve.stylize(''+Se,'boolean'):oe(Se)?ve.stylize('null','null'):void 0}function K(ve){return'['+Error.prototype.toString.call(ve)+']'}function Q(ve,Se,De,Ee,Ae){for(var Ie=[],He=0,Pe=Se.length;He<Pe;++He)_e(Se,He+'')?Ie.push(G(ve,Se,De,Ee,He+'',!0)):Ie.push('');return Ae.forEach(function(Te){Te.match(/^\d+$/)||Ie.push(G(ve,Se,De,Ee,Te,!0))}),Ie}function G(ve,Se,De,Ee,Ae,Ie){var He,Pe,Te;if(Te=Object.getOwnPropertyDescriptor(Se,Ae)||{value:Se[Ae]},Te.get?Te.set?Pe=ve.stylize('[Getter/Setter]','special'):Pe=ve.stylize('[Getter]','special'):Te.set&&(Pe=ve.stylize('[Setter]','special')),_e(Ee,Ae)||(He='['+Ae+']'),Pe||(0>ve.seen.indexOf(Te.value)?(Pe=oe(De)?Z(ve,Te.value,null):Z(ve,Te.value,De-1),-1<Pe.indexOf('\n')&&(Ie?Pe=Pe.split('\n').map(function(Re){return'  '+Re}).join('\n').substr(2):Pe='\n'+Pe.split('\n').map(function(Re){return'   '+Re}).join('\n'))):Pe=ve.stylize('[Circular]','special')),ue(He)){if(Ie&&Ae.match(/^\d+$/))return Pe;He=JSON.stringify(''+Ae),He.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(He=He.substr(1,He.length-2),He=ve.stylize(He,'name')):(He=He.replace(/'/g,'\\\'').replace(/\\"/g,'"').replace(/(^"|"$)/g,'\''),He=ve.stylize(He,'string'))}return He+': '+Pe}function ee(ve,Se,De){var Ee=0,Ae=ve.reduce(function(Ie,He){return Ee++,0<=He.indexOf('\n')&&Ee++,Ie+He.replace(/\u001b\[\d\d?m/g,'').length+1},0);return 60<Ae?De[0]+(''===Se?'':Se+'\n ')+' '+ve.join(',\n  ')+' '+De[1]:De[0]+Se+' '+ve.join(', ')+' '+De[1]}function te(ve){return Array.isArray(ve)}function ne(ve){return'boolean'==typeof ve}function oe(ve){return null===ve}function ae(ve){return'number'==typeof ve}function le(ve){return'string'==typeof ve}function ue(ve){return void 0===ve}function ce(ve){return pe(ve)&&'[object RegExp]'===ye(ve)}function pe(ve){return'object'==typeof ve&&null!==ve}function he(ve){return pe(ve)&&'[object Date]'===ye(ve)}function ge(ve){return pe(ve)&&('[object Error]'===ye(ve)||ve instanceof Error)}function me(ve){return'function'==typeof ve}function ye(ve){return Object.prototype.toString.call(ve)}function xe(ve){return 10>ve?'0'+ve.toString(10):ve.toString(10)}function be(){var ve=new Date,Se=[xe(ve.getHours()),xe(ve.getMinutes()),xe(ve.getSeconds())].join(':');return[ve.getDate(),Ce[ve.getMonth()],Se].join(' ')}function _e(ve,Se){return Object.prototype.hasOwnProperty.call(ve,Se)}var ke=/%[sdj%]/g;E.format=function(ve){if(!le(ve)){for(var Se=[],De=0;De<arguments.length;De++)Se.push(R(arguments[De]));return Se.join(' ')}for(var De=1,Ee=arguments,Ae=Ee.length,Ie=(ve+'').replace(ke,function(Pe){if('%%'===Pe)return'%';if(De>=Ae)return Pe;switch(Pe){case'%s':return Ee[De++]+'';case'%d':return+Ee[De++];case'%j':try{return JSON.stringify(Ee[De++])}catch(Te){return'[Circular]'}default:return Pe;}}),He=Ee[De];De<Ae;He=Ee[++De])Ie+=oe(He)||!pe(He)?' '+He:' '+R(He);return Ie},E.deprecate=function(ve,Se){if(ue(P.process))return function(){return E.deprecate(ve,Se).apply(this,arguments)};if(!0===T.noDeprecation)return ve;var Ee=!1;return function(){if(!Ee){if(T.throwDeprecation)throw new Error(Se);else T.traceDeprecation?console.trace(Se):console.error(Se);Ee=!0}return ve.apply(this,arguments)}};var je={},we;E.debuglog=function(ve){if(ue(we)&&(we=T.env.NODE_DEBUG||''),ve=ve.toUpperCase(),!je[ve])if(new RegExp('\\b'+ve+'\\b','i').test(we)){var Se=T.pid;je[ve]=function(){var De=E.format.apply(E,arguments);console.error('%s %d: %s',ve,Se,De)}}else je[ve]=function(){};return je[ve]},E.inspect=R,R.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},R.styles={special:'cyan',number:'yellow',boolean:'yellow',undefined:'grey','null':'bold',string:'green',date:'magenta',regexp:'red'},E.isArray=te,E.isBoolean=ne,E.isNull=oe,E.isNullOrUndefined=function(ve){return null==ve},E.isNumber=ae,E.isString=le,E.isSymbol=function(ve){return'symbol'==typeof ve},E.isUndefined=ue,E.isRegExp=ce,E.isObject=pe,E.isDate=he,E.isError=ge,E.isFunction=me,E.isPrimitive=function(ve){return null===ve||'boolean'==typeof ve||'number'==typeof ve||'string'==typeof ve||'symbol'==typeof ve||'undefined'==typeof ve},E.isBuffer=I(74);var Ce=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];E.log=function(){console.log('%s - %s',be(),E.format.apply(E,arguments))},E.inherits=I(73),E._extend=function(ve,Se){if(!Se||!pe(Se))return ve;for(var De=Object.keys(Se),Ee=De.length;Ee--;)ve[De[Ee]]=Se[De[Ee]];return ve}}).call(E,I(26),I(72))},function(D,E,I){'use strict';E.array=I(28),E.matrix=I(77)},function(D,E,I){'use strict';function T(ce,pe){'undefined'==typeof pe&&(pe=0);var he=ce.length,ge=ce[0].length,me,fe,ye,xe;if(-1===pe){for(me=[0],fe=he*ge,ye=0;ye<he;ye++)for(xe=0;xe<ge;xe++)me[0]+=ce[ye][xe];me[0]/=fe}else if(0===pe)for(me=Array(ge),fe=he,xe=0;xe<ge;xe++){for(me[xe]=0,ye=0;ye<he;ye++)me[xe]+=ce[ye][xe];me[xe]/=fe}else if(1===pe)for(me=Array(he),fe=ge,xe=0;xe<he;xe++){for(me[xe]=0,ye=0;ye<ge;ye++)me[xe]+=ce[xe][ye];me[xe]/=fe}else throw new Error('Invalid dimension');return me}function R(ce,pe,he){for(var ge=F(ce,pe,he),me=ge.length,fe=0;fe<me;fe++)ge[fe]=_Mathsqrt(ge[fe]);return ge}function F(ce,pe,he){'undefined'==typeof he&&(he=!0),pe=pe||T(ce);var ge=ce.length;if(0===ge)return[];for(var me=ce[0].length,fe=Array(me),ye=0;ye<me;ye++){for(var xe=0,be=0,_e=0,ke=0;ke<ge;ke++)_e=ce[ke][ye]-pe[ye],xe+=_e,be+=_e*_e;fe[ye]=he?(be-xe*xe/ge)/(ge-1):(be-xe*xe/ge)/ge}return fe}function G(ce,pe,he){'undefined'==typeof he&&(he=0),'undefined'==typeof pe&&(0===he?pe=ce.length-1:1===he&&(pe=ce[0].length-1));var ge=T(ce,he),me=ce.length;if(0===me)return[[]];var fe=ce[0].length,ye,xe,be,_e,ke;if(0===he){for(ye=Array(fe),xe=0;xe<fe;xe++)ye[xe]=Array(fe);for(xe=0;xe<fe;xe++)for(be=xe;be<fe;be++){for(_e=0,ke=0;ke<me;ke++)_e+=(ce[ke][be]-ge[be])*(ce[ke][xe]-ge[xe]);_e/=pe,ye[xe][be]=_e,ye[be][xe]=_e}}else if(1===he){for(ye=Array(me),xe=0;xe<me;xe++)ye[xe]=Array(me);for(xe=0;xe<me;xe++)for(be=xe;be<me;be++){for(_e=0,ke=0;ke<fe;ke++)_e+=(ce[be][ke]-ge[be])*(ce[xe][ke]-ge[xe]);_e/=pe,ye[xe][be]=_e,ye[be][xe]=_e}}else throw new Error('Invalid dimension');return ye}function te(ce,pe,he){return pe=pe||T(ce),'undefined'==typeof he&&(he=R(ce,!0,pe)),oe(ne(ce,pe,!1),he,!0)}function ne(ce,pe,he){pe=pe||T(ce);var ge=ce,me=ce.length,fe,ye,xe;if(!he)for(ge=Array(me),fe=0;fe<me;fe++)ge[fe]=Array(ce[fe].length);for(fe=0;fe<me;fe++){var be=ge[fe];for(ye=0,xe=be.length;ye<xe;ye++)be[ye]=ce[fe][ye]-pe[ye]}return ge}function oe(ce,pe,he){'undefined'==typeof pe&&(pe=R(ce));var ge=ce,me=ce.length,fe,ye,xe;if(!he)for(ge=Array(me),fe=0;fe<me;fe++)ge[fe]=Array(ce[fe].length);for(fe=0;fe<me;fe++){var be=ge[fe],_e=ce[fe];for(ye=0,xe=be.length;ye<xe;ye++)0===pe[ye]||isNaN(pe[ye])||(be[ye]=_e[ye]/pe[ye])}return ge}function ae(ce,pe,he){'undefined'==typeof he&&(he=0);var ge=ce.length;if(0===ge)return[];var me=ce[0].length,fe,ye,xe,be,_e,ke;if(0===he){for(fe=Array(me),ye=0;ye<me;ye++)fe[ye]=0;for(ye=0;ye<ge;ye++)for(ke=ce[ye],_e=pe[ye],be=0;be<me;be++)fe[be]+=ke[be]*_e}else if(1===he){for(fe=Array(ge),ye=0;ye<ge;ye++)fe[ye]=0;for(be=0;be<ge;be++)for(ke=ce[be],_e=pe[be],ye=0;ye<me;ye++)fe[be]+=ke[ye]*_e}else throw new Error('Invalid dimension');var je=ue.sum(pe);if(0!==je)for(ye=0,xe=fe.length;ye<xe;ye++)fe[ye]/=je;return fe}function de(ce,pe,he,ge,me){me=me||0,he=he||ae(ce,pe,me),'undefined'==typeof ge&&(ge=1);var fe=ce.length;if(0===fe)return[[]];var ye=ce[0].length,xe,be,_e,ke,je;if(0===me){for(xe=Array(ye),be=0;be<ye;be++)xe[be]=Array(ye);for(be=0;be<ye;be++)for(_e=be;_e<ye;_e++){for(je=0,ke=0;ke<fe;ke++)je+=pe[ke]*(ce[ke][_e]-he[_e])*(ce[ke][be]-he[be]);xe[be][_e]=je*ge,xe[_e][be]=je*ge}}else if(1===me){for(xe=Array(fe),be=0;be<fe;be++)xe[be]=Array(fe);for(be=0;be<fe;be++)for(_e=be;_e<fe;_e++){for(je=0,ke=0;ke<ye;ke++)je+=pe[ke]*(ce[_e][ke]-he[_e])*(ce[be][ke]-he[be]);xe[be][_e]=je*ge,xe[_e][be]=je*ge}}else throw new Error('Invalid dimension');return xe}var ue=I(28);D.exports={entropy:function(ce,pe){'undefined'==typeof pe&&(pe=0);for(var he=0,ge=ce.length,me=ce[0].length,fe=0;fe<ge;fe++)for(var ye=0;ye<me;ye++)he+=ce[fe][ye]*_Mathlog(ce[fe][ye]+pe);return-he},mean:T,standardDeviation:R,variance:F,median:function(ce){for(var pe=ce.length,he=ce[0].length,ge=Array(he),me=0,fe;me<he;me++){fe=Array(pe);for(var ye=0;ye<pe;ye++)fe[ye]=ce[ye][me];fe.sort();var xe=fe.length;ge[me]=0==xe%2?0.5*(fe[xe/2]+fe[xe/2-1]):fe[_Mathfloor(xe/2)]}return ge},mode:function(ce){var pe=ce.length,he=ce[0].length,ge=Array(he),me,fe;for(me=0;me<he;me++){for(var ye=Array(pe),xe=0;xe<pe;xe++)ye[xe]=0;var be=Array(pe),_e=0;for(fe=0;fe<pe;fe++){var ke=be.indexOf(ce[fe][me]);0<=ke?ye[ke]++:(be[_e]=ce[fe][me],ye[_e]=1,_e++)}var je=0,we=0;for(fe=0;fe<_e;fe++)ye[fe]>je&&(je=ye[fe],we=fe);ge[me]=be[we]}return ge},skewness:function(ce,pe){'undefined'==typeof pe&&(pe=!0);for(var he=T(ce),ge=ce.length,me=he.length,fe=Array(me),ye=0;ye<me;ye++){for(var xe=0,be=0,_e=0,ke;_e<ge;_e++)ke=ce[_e][ye]-he[ye],xe+=ke*ke,be+=ke*ke*ke;var je=xe/ge,we=be/ge,Ce=we/_Mathpow(je,3/2);if(pe){var ve=_Mathsqrt(ge*(ge-1));fe[ye]=ve/(ge-2)*Ce}else fe[ye]=Ce}return fe},kurtosis:function(ce,pe){'undefined'==typeof pe&&(pe=!0);for(var he=T(ce),ge=ce.length,me=ce[0].length,fe=Array(me),ye=0;ye<me;ye++){for(var xe=0,be=0,_e=0,ke;_e<ge;_e++)ke=ce[_e][ye]-he[ye],xe+=ke*ke,be+=ke*ke*ke*ke;var je=xe/ge,we=be/ge;if(pe){var Ce=xe/(ge-1),Se=be/(Ce*Ce);fe[ye]=ge*(ge+1)/((ge-1)*(ge-2)*(ge-3))*Se-3*((ge-1)*(ge-1)/((ge-2)*(ge-3)))}else fe[ye]=we/(je*je)-3}return fe},standardError:function(ce){for(var pe=ce.length,he=R(ce),ge=he.length,me=Array(ge),fe=_Mathsqrt(pe),ye=0;ye<ge;ye++)me[ye]=he[ye]/fe;return me},covariance:function(ce,pe){return G(ce,void 0,pe)},scatter:G,correlation:function(ce){var pe=T(ce),he=R(ce,!0,pe),ge=te(ce,pe,he),me=ce.length,fe=ce[0].length,ye,xe,be=Array(fe);for(ye=0;ye<fe;ye++)be[ye]=Array(fe);for(ye=0;ye<fe;ye++)for(xe=ye;xe<fe;xe++){for(var _e=0,ke=0,je=ge.length;ke<je;ke++)_e+=ge[ke][xe]*ge[ke][ye];_e/=me-1,be[ye][xe]=_e,be[xe][ye]=_e}return be},zScores:te,center:ne,standardize:oe,weightedVariance:function(ce,pe){var he=T(ce),ge=ce.length;if(0===ge)return[];for(var me=ce[0].length,fe=Array(me),ye=0;ye<me;ye++){for(var xe=0,be=0,_e=0,ke=0;ke<ge;ke++){var je=ce[ke][ye]-he[ye],we=pe[ke];xe+=we*(je*je),_e+=we,be+=we*we}fe[ye]=xe*(_e/(_e*_e-be))}return fe},weightedMean:ae,weightedCovariance:function(ce,pe,he,ge){ge=ge||0,he=he||ae(ce,pe,ge);for(var me=0,fe=0,ye=0,xe=pe.length;ye<xe;ye++)me+=pe[ye],fe+=pe[ye]*pe[ye];var be=me/(me*me-fe);return de(ce,pe,he,be,ge)},weightedScatter:de}},function(D,E,I){function T(Q,G,ee,te){for(var ne=0,oe=0,se=G-ee;se<G+ee;se++)0<=se&&se<Q.length-1&&(ne+=Q[se+1]-Q[se],oe++);return _Mathpow(ne/oe,te)}function R(Q,G,ee,te){var ne=0;return ne=0<ee?(4*ee-2)/(ee*(2*G-ee+1))*(Q*R(Q,G,ee-1,te)+te*R(Q,G,ee-1,te-1))-(ee-1)*(2*G+ee)/(ee*(2*G-ee+1))*R(Q,G,ee-2,te):0==ee&&0==te?1:0,ne}function F(Q,G){var ee=1;if(Q>=G)for(var te=Q-G+1;te<=Q;te++)ee*=te;return ee}function O(Q,G,ee,te,ne){for(var oe=0,se=0;se<=te;se++)oe+=(2*se+1)*(F(2*ee,se)/F(2*ee+se+1,se+1))*R(Q,ee,se,0)*R(G,ee,se,ne);return oe}function $(Q,G,ee){for(var te=Array(Q),ne=_Mathfloor(Q/2),oe=-ne;oe<=ne;oe++){te[oe+ne]=Array(Q);for(var se=-ne;se<=ne;se++)te[oe+ne][se+ne]=O(se,oe,ne,G,ee)}return te}var Z=I(27),W=I(76),K={windowSize:9,derivative:0,polynomial:3};D.exports=function(Q,G,ee){if(ee=Z({},K,ee),0==ee.windowSize%2||5>ee.windowSize||!_NumberisInteger(ee.windowSize))throw new RangeError('Invalid window size (should be odd and at least 5 integer number)');if(ee.windowSize>Q.length)throw new RangeError('Window size is higher than the data length '+ee.windowSize+'>'+Q.length);if(0>ee.derivative||!_NumberisInteger(ee.derivative))throw new RangeError('Derivative should be a positive integer');if(1>ee.polynomial||!_NumberisInteger(ee.polynomial))throw new RangeError('Polynomial should be a positive integer');6<=ee.polynomial&&console.warn('You should not use polynomial grade higher than 5 if you are not sure that your data arises from such a model. Possible polynomial oscillation problems');var te=ee.windowSize,ne=_Mathfloor(te/2),oe=Q.length,se=Array(oe),ae=$(te,ee.polynomial,ee.derivative),le=0,de=!0;'[object Array]'===Object.prototype.toString.call(G)?de=!1:le=_Mathpow(G,ee.derivative);for(var ue=0;ue<ne;ue++){for(var ce=ae[ne-ue-1],pe=ae[ne+ue+1],he=0,ge=0,me=0;me<te;me++)he+=ce[me]*Q[me],ge+=pe[me]*Q[oe-te+me-1];de?(se[ne-ue-1]=he/le,se[oe-ne+ue]=ge/le):(le=T(G,ne-ue-1,ne,ee.derivative),se[ne-ue-1]=he/le,le=T(G,oe-ne+ue,ne,ee.derivative),se[oe-ne+ue]=ge/le)}for(var fe=ae[ne],ue=te,ye;ue<oe+1;ue++){ye=0;for(var me=0;me<te;me++)ye+=fe[me]*Q[me+ue-te];de||(le=T(G,ue-ne-1,ne,ee.derivative)),se[ue-ne-1]=ye/le}return se}},function(D,E,I){'use strict';function F(K){for(var Q=Array(K[0].length),G=0;G<Q.length;++G)Q[G]=Array(K.length);for(G=0;G<K.length;++G)for(var ee=0;ee<K[0].length;++ee)Q[ee][G]=K[G][ee];return Q}const W=I(32).array;D.exports={coordArrayToPoints:function(K,Q){if(0!=K.length%Q)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var G=K.length/Q,ee=Array(G),te=0,ne=0,oe;ne<K.length;ne+=Q){oe=Array(Q);for(var se=0;se<Q;++se)oe[se]=K[ne+se];ee[te]=oe,te++}return ee},coordArrayToCoordMatrix:function(K,Q){if(0!=K.length%Q)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var G=Array(Q),ee=K.length/Q,te=0;te<G.length;te++)G[te]=Array(ee);for(te=0;te<K.length;te+=Q)for(var ne=0,oe;ne<Q;++ne)oe=_Mathfloor(te/Q),G[ne][oe]=K[te+ne];return G},coordMatrixToCoordArray:function(K){for(var Q=Array(K.length*K[0].length),G=0,ee=0;ee<K[0].length;++ee)for(var te=0;te<K.length;++te)Q[G]=K[te][ee],++G;return Q},coordMatrixToPoints:F,pointsToCoordArray:function(K){for(var Q=Array(K.length*K[0].length),G=0,ee=0;ee<K.length;++ee)for(var te=0;te<K[0].length;++te)Q[G]=K[ee][te],++G;return Q},pointsToCoordMatrix:F,applyDotProduct:function(K,Q){var G,ee;K.length<=Q.length?(ee=K,G=Q):(ee=Q,G=K);for(var te=G.length-ee.length+1,ne=Array(te),oe=0,se;oe<te;++oe){se=0;for(var ae=0;ae<ee.length;++ae)se+=ee[ae]*G[oe+ae];ne[oe]=se}return ne},scale:function(K,Q){var G=Q.inPlace?K:Array(K.length);const ee=Q.max,te=Q.min;if('number'==typeof ee){if('number'==typeof te)for(var ne=W.minMax(K),oe=(ee-te)/(ne.max-ne.min),se=0;se<G.length;se++)G[se]=(K[se]-ne.min)*oe+te;else for(var ae=W.max(K),oe=ee/ae,se=0;se<G.length;se++)G[se]=K[se]*oe;}else if('number'==typeof te)for(var ae=W.min(K),oe=te/ae,se=0;se<G.length;se++)G[se]=K[se]*oe;return G}}},function(D,E){'use strict';function T(O,$,Z,W,K){function Q(je,we,Ce,ve){return(ve-we)/(Ce-je)}var G=O.length,ee=(W-Z)/(K-1),ne=Z-ee/2,oe=Array(K),se=O[1]-O[0],ae=O[O.length-1]-O[O.length-2],le=ne,de=ne+ee,ue=_NumberMIN_VALUE,ce=0,pe=O[0]-se,he=0,ge=0,me=0,fe=0,ye=0,xe=0,be=0,_e=0;main:for(;;){for(;0<=pe-de;){var ke=F(0,de-ue,me,ce);if(xe=ge+ke,oe[_e]=(xe-ye)/ee,_e++,_e===K)break main;le=de,de+=ee,ye=xe}ue<=le&&le<=pe&&(ke=F(0,le-ue,me,ce),ye=ge+ke),ge+=F(ue,pe,me,fe),ue=pe,ce=he,be<G?(pe=O[be],he=$[be],be++):be===G&&(pe+=ae,he=0),me=Q(ue,ce,pe,he),fe=-me*ue+ce}return oe}function R(O,$,Z,W,K){var Q=O.length,G=(W-Z)/(K-1),te=O[O.length-1]-O[O.length-2],ne=Z-G/2,oe=Array(K),se=ne,ae=ne+G,le=-_NumberMAX_VALUE,de=0,ue=O[0],ce=$[0],pe=0,he=!0,ge=0,me=0,fe=1,ye=0;main:for(;;){if(le>=ue)throw new Error('x must be an increasing serie');for(;0<le-ae;){if(he&&(me++,he=!1),oe[ye]=0>=me?0:ge/me,ye++,ye===K)break main;se=ae,ae+=G,ge=0,me=0}le>se&&(ge+=de,me++),(le==-_NumberMAX_VALUE||1<pe)&&me--,le=ue,de=ce,fe<Q?(ue=O[fe],ce=$[fe],fe++):(ue+=te,ce=0,pe++)}return oe}function F(O,$,Z,W){return 0.5*Z*$*$+W*$-(0.5*Z*O*O+W*O)}E.getEquallySpacedData=function(O,$,Z){1<O.length&&O[0]>O[1]&&(O=O.slice().reverse(),$=$.slice().reverse());var W=O.length;if(W!==$.length)throw new RangeError('the x and y vector doesn\'t have the same size.');Z===void 0&&(Z={});var K=Z.from===void 0?O[0]:Z.from;if(isNaN(K)||!isFinite(K))throw new RangeError('\'From\' value must be a number');var Q=Z.to===void 0?O[O.length-1]:Z.to;if(isNaN(Q)||!isFinite(Q))throw new RangeError('\'To\' value must be a number');var G=K>Q;if(G){var ee=K;K=Q,Q=ee}var te=Z.numberOfPoints===void 0?100:Z.numberOfPoints;if(isNaN(te)||!isFinite(te))throw new RangeError('\'Number of points\' value must be a number');if(1>te)throw new RangeError('the number of point must be higher than 1');var ne='slot'===Z.variant?'slot':'smooth',oe='slot'==ne?R(O,$,K,Q,te):T(O,$,K,Q,te);return G?oe.reverse():oe},E.integral=F},function(D,E,I){D.exports=E=I(79),E.getEquallySpacedData=I(80).getEquallySpacedData,E.SNV=I(82).SNV},function(D,E,I){'use strict';E.SNV=function(R){for(var F=T.mean(R),O=T.standardDeviation(R),$=R.slice(),Z=0;Z<R.length;Z++)$[Z]=($[Z]-F)/O;return $};var T=I(32).array},function(D,E,I){'use strict';function P(R){if(!(this instanceof P))return new P(R);if(R=T.a.checkMatrix(R),!R.isSymmetric())throw new Error('Matrix is not symmetric');var F=R,O=F.rows,$=new T.a(O,O),Z=!0,W,K,Q;for(K=0;K<O;K++){var G=$[K],ee=0;for(Q=0;Q<K;Q++){var te=$[Q],ne=0;for(W=0;W<Q;W++)ne+=te[W]*G[W];G[Q]=ne=(F[K][Q]-ne)/$[Q][Q],ee+=ne*ne}for(ee=F[K][K]-ee,Z&=0<ee,$[K][K]=_Mathsqrt(_Mathmax(ee,0)),Q=K+1;Q<O;Q++)$[K][Q]=0}if(!Z)throw new Error('Matrix is not positive definite');this.L=$}var T=I(1);P.prototype={get lowerTriangularMatrix(){return this.L},solve:function(R){R=T.a.checkMatrix(R);var F=this.L,O=F.rows;if(R.rows!==O)throw new Error('Matrix dimensions do not match');var $=R.columns,Z=R.clone(),W,K,Q;for(Q=0;Q<O;Q++)for(K=0;K<$;K++){for(W=0;W<Q;W++)Z[Q][K]-=Z[W][K]*F[Q][W];Z[Q][K]/=F[Q][Q]}for(Q=O-1;0<=Q;Q--)for(K=0;K<$;K++){for(W=Q+1;W<O;W++)Z[Q][K]-=Z[W][K]*F[W][Q];Z[Q][K]/=F[Q][Q]}return Z}},E.a=P},function(D,E,I){'use strict';function P(Q,G){if(G=Object.assign({},K,G),!(this instanceof P))return new P(Q,G);if(Q=Z.a.checkMatrix(Q),!Q.isSquare())throw new Error('Matrix is not a square matrix');var ee=Q.columns,te=I.i(W.b)(ee,ee,0),ne=Array(ee),oe=Array(ee),se=Q,de=!1,ae,le;if(de=!!G.assumeSymmetric||Q.isSymmetric(),de){for(ae=0;ae<ee;ae++)for(le=0;le<ee;le++)te[ae][le]=se.get(ae,le);T(ee,oe,ne,te),R(ee,oe,ne,te)}else{var ue=I.i(W.b)(ee,ee,0),ce=Array(ee);for(le=0;le<ee;le++)for(ae=0;ae<ee;ae++)ue[ae][le]=se.get(ae,le);F(ee,ue,ce,te),O(ee,oe,ne,te,ue)}this.n=ee,this.e=oe,this.d=ne,this.V=te}function T(Q,G,ee,te){var ne,oe,se,ae,le,de,ue,ce;for(le=0;le<Q;le++)ee[le]=te[Q-1][le];for(ae=Q-1;0<ae;ae--){for(ce=0,se=0,de=0;de<ae;de++)ce+=_Mathabs(ee[de]);if(0===ce)for(G[ae]=ee[ae-1],le=0;le<ae;le++)ee[le]=te[ae-1][le],te[ae][le]=0,te[le][ae]=0;else{for(de=0;de<ae;de++)ee[de]/=ce,se+=ee[de]*ee[de];for(ne=ee[ae-1],oe=_Mathsqrt(se),0<ne&&(oe=-oe),G[ae]=ce*oe,se-=ne*oe,ee[ae-1]=ne-oe,le=0;le<ae;le++)G[le]=0;for(le=0;le<ae;le++){for(ne=ee[le],te[le][ae]=ne,oe=G[le]+te[le][le]*ne,de=le+1;de<=ae-1;de++)oe+=te[de][le]*ee[de],G[de]+=te[de][le]*ne;G[le]=oe}for(ne=0,le=0;le<ae;le++)G[le]/=se,ne+=G[le]*ee[le];for(ue=ne/(se+se),le=0;le<ae;le++)G[le]-=ue*ee[le];for(le=0;le<ae;le++){for(ne=ee[le],oe=G[le],de=le;de<=ae-1;de++)te[de][le]-=ne*G[de]+oe*ee[de];ee[le]=te[ae-1][le],te[ae][le]=0}}ee[ae]=se}for(ae=0;ae<Q-1;ae++){if(te[Q-1][ae]=te[ae][ae],te[ae][ae]=1,se=ee[ae+1],0!==se){for(de=0;de<=ae;de++)ee[de]=te[de][ae+1]/se;for(le=0;le<=ae;le++){for(oe=0,de=0;de<=ae;de++)oe+=te[de][ae+1]*te[de][le];for(de=0;de<=ae;de++)te[de][le]-=oe*ee[de]}}for(de=0;de<=ae;de++)te[de][ae+1]=0}for(le=0;le<Q;le++)ee[le]=te[Q-1][le],te[Q-1][le]=0;te[Q-1][Q-1]=1,G[0]=0}function R(Q,G,ee,te){var ne,oe,se,ae,le,de,ue,ce,pe,he,ge,me,fe,ye,xe,be,_e;for(se=1;se<Q;se++)G[se-1]=G[se];G[Q-1]=0;var ke=0,je=0,we=2.220446049250313e-16;for(de=0;de<Q;de++){for(je=_Mathmax(je,_Mathabs(ee[de])+_Mathabs(G[de])),ue=de;ue<Q&&!(_Mathabs(G[ue])<=we*je);)ue++;if(ue>de){_e=0;do{for(++_e,ne=ee[de],ce=(ee[de+1]-ne)/(2*G[de]),pe=I.i(W.a)(ce,1),0>ce&&(pe=-pe),ee[de]=G[de]/(ce+pe),ee[de+1]=G[de]*(ce+pe),he=ee[de+1],oe=ne-ee[de],se=de+2;se<Q;se++)ee[se]-=oe;for(ke+=oe,ce=ee[ue],ge=1,me=ge,fe=ge,ye=G[de+1],xe=0,be=0,se=ue-1;se>=de;se--)for(fe=me,me=ge,be=xe,ne=ge*G[se],oe=ge*ce,pe=I.i(W.a)(ce,G[se]),G[se+1]=xe*pe,xe=G[se]/pe,ge=ce/pe,ce=ge*ee[se]-xe*ne,ee[se+1]=oe+xe*(ge*ne+xe*ee[se]),le=0;le<Q;le++)oe=te[le][se+1],te[le][se+1]=xe*te[le][se]+ge*oe,te[le][se]=ge*te[le][se]-xe*oe;ce=-xe*be*fe*ye*G[de]/he,G[de]=xe*ce,ee[de]=ge*ce}while(_Mathabs(G[de])>we*je)}ee[de]+=ke,G[de]=0}for(se=0;se<Q-1;se++){for(le=se,ce=ee[se],ae=se+1;ae<Q;ae++)ee[ae]<ce&&(le=ae,ce=ee[ae]);if(le!==se)for(ee[le]=ee[se],ee[se]=ce,ae=0;ae<Q;ae++)ce=te[ae][se],te[ae][se]=te[ae][le],te[ae][le]=ce}}function F(Q,G,ee,te){var ne=0,oe=Q-1,se,ae,le,de,ue,ce,pe;for(ce=ne+1;ce<=oe-1;ce++){for(pe=0,de=ce;de<=oe;de++)pe+=_Mathabs(G[de][ce-1]);if(0!==pe){for(le=0,de=oe;de>=ce;de--)ee[de]=G[de][ce-1]/pe,le+=ee[de]*ee[de];for(ae=_Mathsqrt(le),0<ee[ce]&&(ae=-ae),le-=ee[ce]*ae,ee[ce]-=ae,ue=ce;ue<Q;ue++){for(se=0,de=oe;de>=ce;de--)se+=ee[de]*G[de][ue];for(se/=le,de=ce;de<=oe;de++)G[de][ue]-=se*ee[de]}for(de=0;de<=oe;de++){for(se=0,ue=oe;ue>=ce;ue--)se+=ee[ue]*G[de][ue];for(se/=le,ue=ce;ue<=oe;ue++)G[de][ue]-=se*ee[ue]}ee[ce]=pe*ee[ce],G[ce][ce-1]=pe*ae}}for(de=0;de<Q;de++)for(ue=0;ue<Q;ue++)te[de][ue]=de===ue?1:0;for(ce=oe-1;ce>=ne+1;ce--)if(0!==G[ce][ce-1]){for(de=ce+1;de<=oe;de++)ee[de]=G[de][ce-1];for(ue=ce;ue<=oe;ue++){for(ae=0,de=ce;de<=oe;de++)ae+=ee[de]*te[de][ue];for(ae=ae/ee[ce]/G[ce][ce-1],de=ce;de<=oe;de++)te[de][ue]+=ae*ee[de]}}}function O(Q,G,ee,te,ne){var oe=Q-1,se=0,ae=Q-1,le=2.220446049250313e-16,de=0,ue=0,ce=0,pe=0,he=0,ge=0,me=0,fe=0,ye,xe,be,_e,ke,je,we,Ce,ve,Se,De,Ee,Ae,Ie,He;for(ye=0;ye<Q;ye++)for((ye<se||ye>ae)&&(ee[ye]=ne[ye][ye],G[ye]=0),xe=_Mathmax(ye-1,0);xe<Q;xe++)ue+=_Mathabs(ne[ye][xe]);for(;oe>=se;){for(_e=oe;_e>se&&(ge=_Mathabs(ne[_e-1][_e-1])+_Mathabs(ne[_e][_e]),0===ge&&(ge=ue),!(_Mathabs(ne[_e][_e-1])<le*ge));)_e--;if(_e===oe)ne[oe][oe]+=de,ee[oe]=ne[oe][oe],G[oe]=0,oe--,fe=0;else if(_e===oe-1){if(we=ne[oe][oe-1]*ne[oe-1][oe],ce=(ne[oe-1][oe-1]-ne[oe][oe])/2,pe=ce*ce+we,me=_Mathsqrt(_Mathabs(pe)),ne[oe][oe]+=de,ne[oe-1][oe-1]=ne[oe-1][oe-1]+de,Ce=ne[oe][oe],0<=pe){for(me=0<=ce?ce+me:ce-me,ee[oe-1]=Ce+me,ee[oe]=ee[oe-1],0!==me&&(ee[oe]=Ce-we/me),G[oe-1]=0,G[oe]=0,Ce=ne[oe][oe-1],ge=_Mathabs(Ce)+_Mathabs(me),ce=Ce/ge,pe=me/ge,he=_Mathsqrt(ce*ce+pe*pe),ce/=he,pe/=he,xe=oe-1;xe<Q;xe++)me=ne[oe-1][xe],ne[oe-1][xe]=pe*me+ce*ne[oe][xe],ne[oe][xe]=pe*ne[oe][xe]-ce*me;for(ye=0;ye<=oe;ye++)me=ne[ye][oe-1],ne[ye][oe-1]=pe*me+ce*ne[ye][oe],ne[ye][oe]=pe*ne[ye][oe]-ce*me;for(ye=se;ye<=ae;ye++)me=te[ye][oe-1],te[ye][oe-1]=pe*me+ce*te[ye][oe],te[ye][oe]=pe*te[ye][oe]-ce*me}else ee[oe-1]=Ce+ce,ee[oe]=Ce+ce,G[oe-1]=me,G[oe]=-me;oe-=2,fe=0}else{if(Ce=ne[oe][oe],ve=0,we=0,_e<oe&&(ve=ne[oe-1][oe-1],we=ne[oe][oe-1]*ne[oe-1][oe]),10==fe){for(de+=Ce,ye=se;ye<=oe;ye++)ne[ye][ye]-=Ce;ge=_Mathabs(ne[oe][oe-1])+_Mathabs(ne[oe-1][oe-2]),Ce=ve=0.75*ge,we=-0.4375*ge*ge}if(30==fe&&(ge=(ve-Ce)/2,ge=ge*ge+we,0<ge)){for(ge=_Mathsqrt(ge),ve<Ce&&(ge=-ge),ge=Ce-we/((ve-Ce)/2+ge),ye=se;ye<=oe;ye++)ne[ye][ye]-=ge;de+=ge,Ce=ve=we=0.964}for(++fe,ke=oe-2;ke>=_e&&(me=ne[ke][ke],he=Ce-me,ge=ve-me,ce=(he*ge-we)/ne[ke+1][ke]+ne[ke][ke+1],pe=ne[ke+1][ke+1]-me-he-ge,he=ne[ke+2][ke+1],ge=_Mathabs(ce)+_Mathabs(pe)+_Mathabs(he),ce/=ge,pe/=ge,he/=ge,ke!==_e)&&!(_Mathabs(ne[ke][ke-1])*(_Mathabs(pe)+_Mathabs(he))<le*(_Mathabs(ce)*(_Mathabs(ne[ke-1][ke-1])+_Mathabs(me)+_Mathabs(ne[ke+1][ke+1]))));)ke--;for(ye=ke+2;ye<=oe;ye++)ne[ye][ye-2]=0,ye>ke+2&&(ne[ye][ye-3]=0);for(be=ke;be<=oe-1&&(Ie=be!==oe-1,be!==ke&&(ce=ne[be][be-1],pe=ne[be+1][be-1],he=Ie?ne[be+2][be-1]:0,Ce=_Mathabs(ce)+_Mathabs(pe)+_Mathabs(he),0!==Ce&&(ce/=Ce,pe/=Ce,he/=Ce)),0!==Ce);be++)if(ge=_Mathsqrt(ce*ce+pe*pe+he*he),0>ce&&(ge=-ge),0!==ge){for(be===ke?_e!==ke&&(ne[be][be-1]=-ne[be][be-1]):ne[be][be-1]=-ge*Ce,ce+=ge,Ce=ce/ge,ve=pe/ge,me=he/ge,pe/=ce,he/=ce,xe=be;xe<Q;xe++)ce=ne[be][xe]+pe*ne[be+1][xe],Ie&&(ce+=he*ne[be+2][xe],ne[be+2][xe]=ne[be+2][xe]-ce*me),ne[be][xe]-=ce*Ce,ne[be+1][xe]=ne[be+1][xe]-ce*ve;for(ye=0;ye<=_Mathmin(oe,be+3);ye++)ce=Ce*ne[ye][be]+ve*ne[ye][be+1],Ie&&(ce+=me*ne[ye][be+2],ne[ye][be+2]=ne[ye][be+2]-ce*he),ne[ye][be]-=ce,ne[ye][be+1]=ne[ye][be+1]-ce*pe;for(ye=se;ye<=ae;ye++)ce=Ce*te[ye][be]+ve*te[ye][be+1],Ie&&(ce+=me*te[ye][be+2],te[ye][be+2]=te[ye][be+2]-ce*he),te[ye][be]-=ce,te[ye][be+1]=te[ye][be+1]-ce*pe}}}if(0!==ue){for(oe=Q-1;0<=oe;oe--)if(ce=ee[oe],pe=G[oe],0===pe)for(_e=oe,ne[oe][oe]=1,ye=oe-1;0<=ye;ye--){for(we=ne[ye][ye]-ce,he=0,xe=_e;xe<=oe;xe++)he+=ne[ye][xe]*ne[xe][oe];if(0>G[ye])me=we,ge=he;else if(_e=ye,0===G[ye]?ne[ye][oe]=0===we?-he/(le*ue):-he/we:(Ce=ne[ye][ye+1],ve=ne[ye+1][ye],pe=(ee[ye]-ce)*(ee[ye]-ce)+G[ye]*G[ye],je=(Ce*ge-me*he)/pe,ne[ye][oe]=je,ne[ye+1][oe]=_Mathabs(Ce)>_Mathabs(me)?(-he-we*je)/Ce:(-ge-ve*je)/me),je=_Mathabs(ne[ye][oe]),1<le*je*je)for(xe=ye;xe<=oe;xe++)ne[xe][oe]/=je}else if(0>pe)for(_e=oe-1,_Mathabs(ne[oe][oe-1])>_Mathabs(ne[oe-1][oe])?(ne[oe-1][oe-1]=pe/ne[oe][oe-1],ne[oe-1][oe]=-(ne[oe][oe]-ce)/ne[oe][oe-1]):(He=$(0,-ne[oe-1][oe],ne[oe-1][oe-1]-ce,pe),ne[oe-1][oe-1]=He[0],ne[oe-1][oe]=He[1]),ne[oe][oe-1]=0,ne[oe][oe]=1,ye=oe-2;0<=ye;ye--){for(Se=0,De=0,xe=_e;xe<=oe;xe++)Se+=ne[ye][xe]*ne[xe][oe-1],De+=ne[ye][xe]*ne[xe][oe];if(we=ne[ye][ye]-ce,0>G[ye])me=we,he=Se,ge=De;else if(_e=ye,0===G[ye]?(He=$(-Se,-De,we,pe),ne[ye][oe-1]=He[0],ne[ye][oe]=He[1]):(Ce=ne[ye][ye+1],ve=ne[ye+1][ye],Ee=(ee[ye]-ce)*(ee[ye]-ce)+G[ye]*G[ye]-pe*pe,Ae=2*(ee[ye]-ce)*pe,0===Ee&&0===Ae&&(Ee=le*ue*(_Mathabs(we)+_Mathabs(pe)+_Mathabs(Ce)+_Mathabs(ve)+_Mathabs(me))),He=$(Ce*he-me*Se+pe*De,Ce*ge-me*De-pe*Se,Ee,Ae),ne[ye][oe-1]=He[0],ne[ye][oe]=He[1],_Mathabs(Ce)>_Mathabs(me)+_Mathabs(pe)?(ne[ye+1][oe-1]=(-Se-we*ne[ye][oe-1]+pe*ne[ye][oe])/Ce,ne[ye+1][oe]=(-De-we*ne[ye][oe]-pe*ne[ye][oe-1])/Ce):(He=$(-he-ve*ne[ye][oe-1],-ge-ve*ne[ye][oe],me,pe),ne[ye+1][oe-1]=He[0],ne[ye+1][oe]=He[1])),je=_Mathmax(_Mathabs(ne[ye][oe-1]),_Mathabs(ne[ye][oe])),1<le*je*je)for(xe=ye;xe<=oe;xe++)ne[xe][oe-1]=ne[xe][oe-1]/je,ne[xe][oe]/=je}for(ye=0;ye<Q;ye++)if(ye<se||ye>ae)for(xe=ye;xe<Q;xe++)te[ye][xe]=ne[ye][xe];for(xe=Q-1;xe>=se;xe--)for(ye=se;ye<=ae;ye++){for(me=0,be=se;be<=_Mathmin(xe,ae);be++)me+=te[ye][be]*ne[be][xe];te[ye][xe]=me}}}function $(Q,G,ee,te){var ne,oe;return _Mathabs(ee)>_Mathabs(te)?(ne=te/ee,oe=ee+ne*te,[(Q+ne*G)/oe,(G-ne*Q)/oe]):(ne=ee/te,oe=te+ne*ee,[(ne*Q+G)/oe,(ne*G-Q)/oe])}var Z=I(1),W=I(13);const K={assumeSymmetric:!1};P.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return Z.a.isMatrix(this.V)||(this.V=new Z.a(this.V)),this.V},get diagonalMatrix(){var Q=this.n,G=this.e,ee=this.d,te=new Z.a(Q,Q),ne,oe;for(ne=0;ne<Q;ne++){for(oe=0;oe<Q;oe++)te[ne][oe]=0;te[ne][ne]=ee[ne],0<G[ne]?te[ne][ne+1]=G[ne]:0>G[ne]&&(te[ne][ne-1]=G[ne])}return te}},E.a=P},function(D,E,I){'use strict';function T($,Z){return $=R.a.checkMatrix($),Z=R.a.checkMatrix(Z),$.isSquare()?new F.a($).solve(Z):new O.a($).solve(Z)}E.b=function($){return $=R.a.checkMatrix($),T($,R.a.eye($.rows))},E.a=T;var R=I(1),F=I(12),O=I(29)},function(D,E,I){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var P=I(1);I.d(E,'default',function(){return P.a}),I.d(E,'Matrix',function(){return P.a});var T=I(11);I.d(E,'abstractMatrix',function(){return T.a});var R=I(85);I.d(E,'solve',function(){return R.a}),I.d(E,'inverse',function(){return R.b});var F=I(30);I.d(E,'SingularValueDecomposition',function(){return F.a}),I.d(E,'SVD',function(){return F.a});var O=I(84);I.d(E,'EigenvalueDecomposition',function(){return O.a}),I.d(E,'EVD',function(){return O.a});var $=I(83);I.d(E,'CholeskyDecomposition',function(){return $.a}),I.d(E,'CHO',function(){return $.a});var Z=I(12);I.d(E,'LuDecomposition',function(){return Z.a}),I.d(E,'LU',function(){return Z.a});var W=I(29);I.d(E,'QrDecomposition',function(){return W.a}),I.d(E,'QR',function(){return W.a})},function(){Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(D,E,I){'use strict';var P=I(4);class T extends P.a{constructor(R,F){super(R,R.rows,1),this.column=F}set(R,F,O){return this.matrix.set(R,this.column,O),this}get(R){return this.matrix.get(R,this.column)}}E.a=T},function(D,E,I){'use strict';var P=I(4);class T extends P.a{constructor(R){super(R,R.rows,R.columns)}set(R,F,O){return this.matrix.set(R,this.columns-F-1,O),this}get(R,F){return this.matrix.get(R,this.columns-F-1)}}E.a=T},function(D,E,I){'use strict';var P=I(4);class T extends P.a{constructor(R){super(R,R.rows,R.columns)}set(R,F,O){return this.matrix.set(this.rows-R-1,F,O),this}get(R,F){return this.matrix.get(this.rows-R-1,F)}}E.a=T},function(D,E,I){'use strict';var P=I(4);class T extends P.a{constructor(R,F){super(R,1,R.columns),this.row=F}set(R,F,O){return this.matrix.set(this.row,F,O),this}get(R,F){return this.matrix.get(this.row,F)}}E.a=T},function(D,E,I){'use strict';var P=I(4),T=I(8);class R extends P.a{constructor(F,O,$){var Z=I.i(T.i)(F,O,$);super(F,Z.row.length,Z.column.length),this.rowIndices=Z.row,this.columnIndices=Z.column}set(F,O,$){return this.matrix.set(this.rowIndices[F],this.columnIndices[O],$),this}get(F,O){return this.matrix.get(this.rowIndices[F],this.columnIndices[O])}}E.a=R},function(D,E,I){'use strict';var P=I(4),T=I(8);class R extends P.a{constructor(F,O,$,Z,W){I.i(T.h)(F,O,$,Z,W),super(F,$-O+1,W-Z+1),this.startRow=O,this.startColumn=Z}set(F,O,$){return this.matrix.set(this.startRow+F,this.startColumn+O,$),this}get(F,O){return this.matrix.get(this.startRow+F,this.startColumn+O)}}E.a=R},function(D,E,I){'use strict';var P=I(4);class T extends P.a{constructor(R){super(R,R.columns,R.rows)}set(R,F,O){return this.matrix.set(F,R,O),this}get(R,F){return this.matrix.get(F,R)}}E.a=T},function(D,E,I){'use strict';function P(R,F){return R-F}var T=I(31);E.max=function(F){for(var R=-Infinity,O=0;O<F.length;O++)for(var $=0;$<F[O].length;$++)F[O][$]>R&&(R=F[O][$]);return R},E.min=function(F){for(var R=Infinity,O=0;O<F.length;O++)for(var $=0;$<F[O].length;$++)F[O][$]<R&&(R=F[O][$]);return R},E.minMax=function(F){for(var O=Infinity,$=-Infinity,Z=0;Z<F.length;Z++)for(var W=0;W<F[Z].length;W++)F[Z][W]<O&&(O=F[Z][W]),F[Z][W]>$&&($=F[Z][W]);return{min:O,max:$}},E.entropy=function(F,O){'undefined'==typeof O&&(O=0);for(var $=0,Z=F.length,W=F[0].length,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)$+=F[K][Q]*_Mathlog(F[K][Q]+O);return-$},E.mean=function(F,O){'undefined'==typeof O&&(O=0);var $=F.length,Z=F[0].length,W,K,Q,G;if(-1===O){for(W=[0],K=$*Z,Q=0;Q<$;Q++)for(G=0;G<Z;G++)W[0]+=F[Q][G];W[0]/=K}else if(0===O)for(W=Array(Z),K=$,G=0;G<Z;G++){for(W[G]=0,Q=0;Q<$;Q++)W[G]+=F[Q][G];W[G]/=K}else if(1===O)for(W=Array($),K=Z,G=0;G<$;G++){for(W[G]=0,Q=0;Q<Z;Q++)W[G]+=F[G][Q];W[G]/=K}else throw new Error('Invalid dimension');return W},E.sum=function(F,O){'undefined'==typeof O&&(O=0);var $=F.length,Z=F[0].length,W,K,Q;if(-1===O)for(W=[0],K=0;K<$;K++)for(Q=0;Q<Z;Q++)W[0]+=F[K][Q];else if(0===O)for(W=Array(Z),Q=0;Q<Z;Q++)for(W[Q]=0,K=0;K<$;K++)W[Q]+=F[K][Q];else if(1===O)for(W=Array($),Q=0;Q<$;Q++)for(W[Q]=0,K=0;K<Z;K++)W[Q]+=F[Q][K];else throw new Error('Invalid dimension');return W},E.product=function(F,O){'undefined'==typeof O&&(O=0);var $=F.length,Z=F[0].length,W,K,Q;if(-1===O)for(W=[1],K=0;K<$;K++)for(Q=0;Q<Z;Q++)W[0]*=F[K][Q];else if(0===O)for(W=Array(Z),Q=0;Q<Z;Q++)for(W[Q]=1,K=0;K<$;K++)W[Q]*=F[K][Q];else if(1===O)for(W=Array($),Q=0;Q<$;Q++)for(W[Q]=1,K=0;K<Z;K++)W[Q]*=F[Q][K];else throw new Error('Invalid dimension');return W},E.standardDeviation=function(F,O,$){for(var Z=E.variance(F,O,$),W=Z.length,K=0;K<W;K++)Z[K]=_Mathsqrt(Z[K]);return Z},E.variance=function(F,O,$){'undefined'==typeof $&&($=!0),O=O||E.mean(F);var Z=F.length;if(0===Z)return[];for(var W=F[0].length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne=0;ne<Z;ne++)te=F[ne][Q]-O[Q],G+=te,ee+=te*te;K[Q]=$?(ee-G*G/Z)/(Z-1):(ee-G*G/Z)/Z}return K},E.median=function(F){for(var O=F.length,$=F[0].length,Z=Array($),W=0,K;W<$;W++){K=Array(O);for(var Q=0;Q<O;Q++)K[Q]=F[Q][W];K.sort(P);var G=K.length;Z[W]=0==G%2?0.5*(K[G/2]+K[G/2-1]):K[_Mathfloor(G/2)]}return Z},E.mode=function(F){var O=F.length,$=F[0].length,Z=Array($),W,K;for(W=0;W<$;W++){for(var Q=Array(O),G=0;G<O;G++)Q[G]=0;var ee=Array(O),te=0;for(K=0;K<O;K++){var ne=ee.indexOf(F[K][W]);0<=ne?Q[ne]++:(ee[te]=F[K][W],Q[te]=1,te++)}var oe=0,se=0;for(K=0;K<te;K++)Q[K]>oe&&(oe=Q[K],se=K);Z[W]=ee[se]}return Z},E.skewness=function(F,O){'undefined'==typeof O&&(O=!0);for(var $=E.mean(F),Z=F.length,W=$.length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne;te<Z;te++)ne=F[te][Q]-$[Q],G+=ne*ne,ee+=ne*ne*ne;var oe=G/Z,se=ee/Z,ae=se/_Mathpow(oe,3/2);if(O){var le=_Mathsqrt(Z*(Z-1));K[Q]=le/(Z-2)*ae}else K[Q]=ae}return K},E.kurtosis=function(F,O){'undefined'==typeof O&&(O=!0);for(var $=E.mean(F),Z=F.length,W=F[0].length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne;te<Z;te++)ne=F[te][Q]-$[Q],G+=ne*ne,ee+=ne*ne*ne*ne;var oe=G/Z,se=ee/Z;if(O){var ae=G/(Z-1),de=ee/(ae*ae);K[Q]=Z*(Z+1)/((Z-1)*(Z-2)*(Z-3))*de-3*((Z-1)*(Z-1)/((Z-2)*(Z-3)))}else K[Q]=se/(oe*oe)-3}return K},E.standardError=function(F){for(var O=F.length,$=E.standardDeviation(F),Z=$.length,W=Array(Z),K=_Mathsqrt(O),Q=0;Q<Z;Q++)W[Q]=$[Q]/K;return W},E.covariance=function(F,O){return E.scatter(F,void 0,O)},E.scatter=function(F,O,$){'undefined'==typeof $&&($=0),'undefined'==typeof O&&(0===$?O=F.length-1:1===$&&(O=F[0].length-1));var Z=E.mean(F,$),W=F.length;if(0===W)return[[]];var K=F[0].length,Q,G,ee,te,ne;if(0===$){for(Q=Array(K),G=0;G<K;G++)Q[G]=Array(K);for(G=0;G<K;G++)for(ee=G;ee<K;ee++){for(te=0,ne=0;ne<W;ne++)te+=(F[ne][ee]-Z[ee])*(F[ne][G]-Z[G]);te/=O,Q[G][ee]=te,Q[ee][G]=te}}else if(1===$){for(Q=Array(W),G=0;G<W;G++)Q[G]=Array(W);for(G=0;G<W;G++)for(ee=G;ee<W;ee++){for(te=0,ne=0;ne<K;ne++)te+=(F[ee][ne]-Z[ee])*(F[G][ne]-Z[G]);te/=O,Q[G][ee]=te,Q[ee][G]=te}}else throw new Error('Invalid dimension');return Q},E.correlation=function(F){var O=E.mean(F),$=E.standardDeviation(F,!0,O),Z=E.zScores(F,O,$),W=F.length,K=F[0].length,Q,G,ee=Array(K);for(Q=0;Q<K;Q++)ee[Q]=Array(K);for(Q=0;Q<K;Q++)for(G=Q;G<K;G++){for(var te=0,ne=0,oe=Z.length;ne<oe;ne++)te+=Z[ne][G]*Z[ne][Q];te/=W-1,ee[Q][G]=te,ee[G][Q]=te}return ee},E.zScores=function(F,O,$){return O=O||E.mean(F),'undefined'==typeof $&&($=E.standardDeviation(F,!0,O)),E.standardize(E.center(F,O,!1),$,!0)},E.center=function(F,O,$){O=O||E.mean(F);var Z=F,W=F.length,K,Q,G;if(!$)for(Z=Array(W),K=0;K<W;K++)Z[K]=Array(F[K].length);for(K=0;K<W;K++){var ee=Z[K];for(Q=0,G=ee.length;Q<G;Q++)ee[Q]=F[K][Q]-O[Q]}return Z},E.standardize=function(F,O,$){'undefined'==typeof O&&(O=E.standardDeviation(F));var Z=F,W=F.length,K,Q,G;if(!$)for(Z=Array(W),K=0;K<W;K++)Z[K]=Array(F[K].length);for(K=0;K<W;K++){var ee=Z[K],te=F[K];for(Q=0,G=ee.length;Q<G;Q++)0===O[Q]||isNaN(O[Q])||(ee[Q]=te[Q]/O[Q])}return Z},E.weightedVariance=function(F,O){var $=E.mean(F),Z=F.length;if(0===Z)return[];for(var W=F[0].length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne=0;ne<Z;ne++){var oe=F[ne][Q]-$[Q],se=O[ne];G+=se*(oe*oe),te+=se,ee+=se*se}K[Q]=G*(te/(te*te-ee))}return K},E.weightedMean=function(F,O,$){'undefined'==typeof $&&($=0);var Z=F.length;if(0===Z)return[];var W=F[0].length,K,Q,G,ee,te,ne;if(0===$){for(K=Array(W),Q=0;Q<W;Q++)K[Q]=0;for(Q=0;Q<Z;Q++)for(ne=F[Q],te=O[Q],ee=0;ee<W;ee++)K[ee]+=ne[ee]*te}else if(1===$){for(K=Array(Z),Q=0;Q<Z;Q++)K[Q]=0;for(ee=0;ee<Z;ee++)for(ne=F[ee],te=O[ee],Q=0;Q<W;Q++)K[ee]+=ne[Q]*te}else throw new Error('Invalid dimension');var oe=T.sum(O);if(0!==oe)for(Q=0,G=K.length;Q<G;Q++)K[Q]/=oe;return K},E.weightedCovariance=function(F,O,$,Z){Z=Z||0,$=$||E.weightedMean(F,O,Z);for(var W=0,K=0,Q=0,G=O.length;Q<G;Q++)W+=O[Q],K+=O[Q]*O[Q];var ee=W/(W*W-K);return E.weightedScatter(F,O,$,ee,Z)},E.weightedScatter=function(F,O,$,Z,W){W=W||0,$=$||E.weightedMean(F,O,W),'undefined'==typeof Z&&(Z=1);var K=F.length;if(0===K)return[[]];var Q=F[0].length,G,ee,te,ne,oe;if(0===W){for(G=Array(Q),ee=0;ee<Q;ee++)G[ee]=Array(Q);for(ee=0;ee<Q;ee++)for(te=ee;te<Q;te++){for(oe=0,ne=0;ne<K;ne++)oe+=O[ne]*(F[ne][te]-$[te])*(F[ne][ee]-$[ee]);G[ee][te]=oe*Z,G[te][ee]=oe*Z}}else if(1===W){for(G=Array(K),ee=0;ee<K;ee++)G[ee]=Array(K);for(ee=0;ee<K;ee++)for(te=ee;te<K;te++){for(oe=0,ne=0;ne<Q;ne++)oe+=O[ne]*(F[te][ne]-$[te])*(F[ee][ne]-$[ee]);G[ee][te]=oe*Z,G[te][ee]=oe*Z}}else throw new Error('Invalid dimension');return G}},function(D,E,I){D.exports=I(97)},function(D,E){var P,T,R;(function(){var F,O,$,Z,W,K,Q,G,ee,te,ne,oe,se,ae,le;$=_Mathfloor,te=_Mathmin,O=function(de,ue){return de<ue?-1:de>ue?1:0},ee=function(de,ue,ce,pe,he){var ge;if(null==ce&&(ce=0),null==he&&(he=O),0>ce)throw new Error('lo must be non-negative');for(null==pe&&(pe=de.length);ce<pe;)ge=$((ce+pe)/2),0>he(ue,de[ge])?pe=ge:ce=ge+1;return[].splice.apply(de,[ce,ce-ce].concat(ue)),ue},K=function(de,ue,ce){return null==ce&&(ce=O),de.push(ue),ae(de,0,de.length-1,ce)},W=function(de,ue){var ce,pe;return null==ue&&(ue=O),ce=de.pop(),de.length?(pe=de[0],de[0]=ce,le(de,0,ue)):pe=ce,pe},G=function(de,ue,ce){var pe;return null==ce&&(ce=O),pe=de[0],de[0]=ue,le(de,0,ce),pe},Q=function(de,ue,ce){var pe;return null==ce&&(ce=O),de.length&&0>ce(de[0],ue)&&(pe=[de[0],ue],ue=pe[0],de[0]=pe[1],le(de,0,ce)),ue},Z=function(de,ue){var ce,pe,ge,fe,ye,xe;for(null==ue&&(ue=O),fe=function(){xe=[];for(var be=0,_e=$(de.length/2);0<=_e?be<_e:be>_e;0<=_e?be++:be--)xe.push(be);return xe}.apply(this).reverse(),ye=[],(pe=0,ge=fe.length);pe<ge;pe++)ce=fe[pe],ye.push(le(de,ce,ue));return ye},se=function(de,ue,ce){var pe;if(null==ce&&(ce=O),pe=de.indexOf(ue),-1!==pe)return ae(de,0,pe,ce),le(de,pe,ce)},ne=function(de,ue,ce){var pe,he,ge,me,fe;if(null==ce&&(ce=O),he=de.slice(0,ue),!he.length)return he;for(Z(he,ce),fe=de.slice(ue),(ge=0,me=fe.length);ge<me;ge++)pe=fe[ge],Q(he,pe,ce);return he.sort(ce).reverse()},oe=function(de,ue,ce){var pe,he,ge,me,fe,ye,xe,be,_e,ke;if(null==ce&&(ce=O),10*ue<=de.length){if(me=de.slice(0,ue).sort(ce),!me.length)return me;for(ge=me[me.length-1],be=de.slice(ue),(fe=0,xe=be.length);fe<xe;fe++)pe=be[fe],0>ce(pe,ge)&&(ee(me,pe,0,null,ce),me.pop(),ge=me[me.length-1]);return me}for(Z(de,ce),ke=[],(he=ye=0,_e=te(ue,de.length));0<=_e?ye<_e:ye>_e;he=0<=_e?++ye:--ye)ke.push(W(de,ce));return ke},ae=function(de,ue,ce,pe){var he,ge,me;for(null==pe&&(pe=O),he=de[ce];ce>ue;){if(me=ce-1>>1,ge=de[me],0>pe(he,ge)){de[ce]=ge,ce=me;continue}break}return de[ce]=he},le=function(de,ue,ce){var pe,he,ge,me,fe;for(null==ce&&(ce=O),he=de.length,fe=ue,ge=de[ue],pe=2*ue+1;pe<he;)me=pe+1,me<he&&!(0>ce(de[pe],de[me]))&&(pe=me),de[ue]=de[pe],ue=pe,pe=2*ue+1;return de[ue]=ge,ae(de,fe,ue,ce)},F=function(){function de(ue){this.cmp=null==ue?O:ue,this.nodes=[]}return de.push=K,de.pop=W,de.replace=G,de.pushpop=Q,de.heapify=Z,de.updateItem=se,de.nlargest=ne,de.nsmallest=oe,de.prototype.push=function(ue){return K(this.nodes,ue,this.cmp)},de.prototype.pop=function(){return W(this.nodes,this.cmp)},de.prototype.peek=function(){return this.nodes[0]},de.prototype.contains=function(ue){return-1!==this.nodes.indexOf(ue)},de.prototype.replace=function(ue){return G(this.nodes,ue,this.cmp)},de.prototype.pushpop=function(ue){return Q(this.nodes,ue,this.cmp)},de.prototype.heapify=function(){return Z(this.nodes,this.cmp)},de.prototype.updateItem=function(ue){return se(this.nodes,ue,this.cmp)},de.prototype.clear=function(){return this.nodes=[]},de.prototype.empty=function(){return 0===this.nodes.length},de.prototype.size=function(){return this.nodes.length},de.prototype.clone=function(){var ue;return ue=new de,ue.nodes=this.nodes.slice(0),ue},de.prototype.toArray=function(){return this.nodes.slice(0)},de.prototype.insert=de.prototype.push,de.prototype.top=de.prototype.peek,de.prototype.front=de.prototype.peek,de.prototype.has=de.prototype.contains,de.prototype.copy=de.prototype.clone,de}(),function(de,ue){return T=[],P=ue,R='function'==typeof P?P.apply(E,T):P,!(void 0!==R&&(D.exports=R))}(this,function(){return F})}).call(this)},function(D,E,I){'use strict';function F(K){for(var Q=Array(K[0].length),G=0;G<Q.length;++G)Q[G]=Array(K.length);for(G=0;G<K.length;++G)for(var ee=0;ee<K[0].length;++ee)Q[ee][G]=K[G][ee];return Q}const W=I(41).array;D.exports={coordArrayToPoints:function(K,Q){if(0!=K.length%Q)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var G=K.length/Q,ee=Array(G),te=0,ne=0,oe;ne<K.length;ne+=Q){oe=Array(Q);for(var se=0;se<Q;++se)oe[se]=K[ne+se];ee[te]=oe,te++}return ee},coordArrayToCoordMatrix:function(K,Q){if(0!=K.length%Q)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var G=Array(Q),ee=K.length/Q,te=0;te<G.length;te++)G[te]=Array(ee);for(te=0;te<K.length;te+=Q)for(var ne=0,oe;ne<Q;++ne)oe=_Mathfloor(te/Q),G[ne][oe]=K[te+ne];return G},coordMatrixToCoordArray:function(K){for(var Q=Array(K.length*K[0].length),G=0,ee=0;ee<K[0].length;++ee)for(var te=0;te<K.length;++te)Q[G]=K[te][ee],++G;return Q},coordMatrixToPoints:F,pointsToCoordArray:function(K){for(var Q=Array(K.length*K[0].length),G=0,ee=0;ee<K.length;++ee)for(var te=0;te<K[0].length;++te)Q[G]=K[ee][te],++G;return Q},pointsToCoordMatrix:F,applyDotProduct:function(K,Q){var G,ee;K.length<=Q.length?(ee=K,G=Q):(ee=Q,G=K);for(var te=G.length-ee.length+1,ne=Array(te),oe=0,se;oe<te;++oe){se=0;for(var ae=0;ae<ee.length;++ae)se+=ee[ae]*G[oe+ae];ne[oe]=se}return ne},scale:function(K,Q){var G=Q.inPlace?K:Array(K.length);const ee=Q.max,te=Q.min;if('number'==typeof ee){if('number'==typeof te)for(var ne=W.minMax(K),oe=(ee-te)/(ne.max-ne.min),se=0;se<G.length;se++)G[se]=(K[se]-ne.min)*oe+te;else for(var ae=W.max(K),oe=ee/ae,se=0;se<G.length;se++)G[se]=K[se]*oe;}else if('number'==typeof te)for(var ae=W.min(K),oe=te/ae,se=0;se<G.length;se++)G[se]=K[se]*oe;return G}}},function(D,E){'use strict';function T(O,$,Z,W,K){function Q(je,we,Ce,ve){return(ve-we)/(Ce-je)}var G=O.length,ee=(W-Z)/(K-1),ne=Z-ee/2,oe=Array(K),se=O[1]-O[0],ae=O[O.length-1]-O[O.length-2],le=ne,de=ne+ee,ue=_NumberMIN_VALUE,ce=0,pe=O[0]-se,he=0,ge=0,me=0,fe=0,ye=0,xe=0,be=0,_e=0;main:for(;;){for(;0<=pe-de;){var ke=F(0,de-ue,me,ce);if(xe=ge+ke,oe[_e]=(xe-ye)/ee,_e++,_e===K)break main;le=de,de+=ee,ye=xe}ue<=le&&le<=pe&&(ke=F(0,le-ue,me,ce),ye=ge+ke),ge+=F(ue,pe,me,fe),ue=pe,ce=he,be<G?(pe=O[be],he=$[be],be++):be===G&&(pe+=ae,he=0),me=Q(ue,ce,pe,he),fe=-me*ue+ce}return oe}function R(O,$,Z,W,K){var Q=O.length,G=(W-Z)/(K-1),te=O[O.length-1]-O[O.length-2],ne=Z-G/2,oe=Array(K),se=ne,ae=ne+G,le=-_NumberMAX_VALUE,de=0,ue=O[0],ce=$[0],pe=0,he=!0,ge=0,me=0,fe=1,ye=0;main:for(;;){if(le>=ue)throw new Error('x must be an increasing serie');for(;0<le-ae;){if(he&&(me++,he=!1),oe[ye]=0>=me?0:ge/me,ye++,ye===K)break main;se=ae,ae+=G,ge=0,me=0}le>se&&(ge+=de,me++),(le==-_NumberMAX_VALUE||1<pe)&&me--,le=ue,de=ce,fe<Q?(ue=O[fe],ce=$[fe],fe++):(ue+=te,ce=0,pe++)}return oe}function F(O,$,Z,W){return 0.5*Z*$*$+W*$-(0.5*Z*O*O+W*O)}E.getEquallySpacedData=function(O,$,Z){1<O.length&&O[0]>O[1]&&(O=O.slice().reverse(),$=$.slice().reverse());var W=O.length;if(W!==$.length)throw new RangeError('the x and y vector doesn\'t have the same size.');Z===void 0&&(Z={});var K=Z.from===void 0?O[0]:Z.from;if(isNaN(K)||!isFinite(K))throw new RangeError('\'From\' value must be a number');var Q=Z.to===void 0?O[O.length-1]:Z.to;if(isNaN(Q)||!isFinite(Q))throw new RangeError('\'To\' value must be a number');var G=K>Q;if(G){var ee=K;K=Q,Q=ee}var te=Z.numberOfPoints===void 0?100:Z.numberOfPoints;if(isNaN(te)||!isFinite(te))throw new RangeError('\'Number of points\' value must be a number');if(1>te)throw new RangeError('the number of point must be higher than 1');var ne='slot'===Z.variant?'slot':'smooth',oe='slot'==ne?R(O,$,K,Q,te):T(O,$,K,Q,te);return G?oe.reverse():oe},E.integral=F},function(D,E,I){D.exports=E=I(98),E.getEquallySpacedData=I(99).getEquallySpacedData,E.SNV=I(101).SNV},function(D,E,I){'use strict';E.SNV=function(R){for(var F=T.mean(R),O=T.standardDeviation(R),$=R.slice(),Z=0;Z<R.length;Z++)$[Z]=($[Z]-F)/O;return $};var T=I(41).array},function(D){'use strict';D.exports=function(T,R){const F=T.length;let O=Array.from({length:F}).map(()=>Array.from({length:F}));for(let $=0;$<F;$++)for(let Z=0;Z<=$;Z++)O[$][Z]=R(T[$],T[Z]);for(let $=0;$<F;$++)for(let Z=$+1;Z<F;Z++)O[$][Z]=O[Z][$];return O}},function(D,E,I){'use strict';function P(se,ae){return 0|se*ae}function T(se,ae){return _Mathmin(se-2,0|se*ae)}function R(se,ae,le){return Z(_Mathmax(se+1,0|4*se/(3*ae+le)))}function F(se,ae,le){return Z(_Mathmax(se+1,0|4*se/(ae+3*le)))}const O=I(17),$=I(104),Z=$.nextPrime,W=$.largestPrime,K=0,Q=1,G=2;class oe{constructor(se={}){if(se instanceof oe)return this.table=se.table.slice(),this.values=se.values.slice(),this.state=se.state.slice(),this.minLoadFactor=se.minLoadFactor,this.maxLoadFactor=se.maxLoadFactor,this.distinct=se.distinct,this.freeEntries=se.freeEntries,this.lowWaterMark=se.lowWaterMark,void(this.highWaterMark=se.maxLoadFactor);const ae=se.initialCapacity===void 0?150:se.initialCapacity;if(0>ae)throw new RangeError(`initial capacity must not be less than zero: ${ae}`);const le=se.minLoadFactor===void 0?1/6:se.minLoadFactor,de=se.maxLoadFactor===void 0?2/3:se.maxLoadFactor;if(0>le||1<=le)throw new RangeError(`invalid minLoadFactor: ${le}`);if(0>=de||1<=de)throw new RangeError(`invalid maxLoadFactor: ${de}`);if(le>=de)throw new RangeError(`minLoadFactor (${le}) must be smaller than maxLoadFactor (${de})`);let ue=ae;ue=0|ue/de,ue=Z(ue),0===ue&&(ue=1),this.table=O(ue,0),this.values=O(ue,0),this.state=O(ue,0),this.minLoadFactor=le,this.maxLoadFactor=ue===W?1:de,this.distinct=0,this.freeEntries=ue,this.lowWaterMark=0,this.highWaterMark=T(ue,this.maxLoadFactor)}clone(){return new oe(this)}get size(){return this.distinct}get(se){const ae=this.indexOfKey(se);return 0>ae?0:this.values[ae]}set(se,ae){let le=this.indexOfInsertion(se);if(0>le)return le=-le-1,this.values[le]=ae,!1;if(this.distinct>this.highWaterMark){const de=R(this.distinct+1,this.minLoadFactor,this.maxLoadFactor);return this.rehash(de),this.set(se,ae)}if(this.table[le]=se,this.values[le]=ae,this.state[le]===K&&this.freeEntries--,this.state[le]=Q,this.distinct++,1>this.freeEntries){const de=R(this.distinct+1,this.minLoadFactor,this.maxLoadFactor);this.rehash(de)}return!0}remove(se,ae){const le=this.indexOfKey(se);return!(0>le)&&(this.state[le]=G,this.distinct--,ae||this.maybeShrinkCapacity(),!0)}delete(se,ae){const le=this.indexOfKey(se);return!(0>le)&&(this.state[le]=K,this.distinct--,ae||this.maybeShrinkCapacity(),!0)}maybeShrinkCapacity(){if(this.distinct<this.lowWaterMark){const se=F(this.distinct,this.minLoadFactor,this.maxLoadFactor);this.rehash(se)}}containsKey(se){return 0<=this.indexOfKey(se)}indexOfKey(se){const ae=this.table,le=this.state,de=this.table.length,ue=2147483647&se;let ce=ue%de,pe=ue%(de-2);for(0==pe&&(pe=1);le[ce]!==K&&(le[ce]===G||ae[ce]!==se);)ce-=pe,0>ce&&(ce+=de);return le[ce]===K?-1:ce}containsValue(se){return 0<=this.indexOfValue(se)}indexOfValue(se){const ae=this.values,le=this.state;for(var de=0;de<le.length;de++)if(le[de]===Q&&ae[de]===se)return de;return-1}indexOfInsertion(se){const ae=this.table,le=this.state,de=ae.length,ue=2147483647&se;let ce=ue%de,pe=ue%(de-2);for(0==pe&&(pe=1);le[ce]===Q&&ae[ce]!==se;)ce-=pe,0>ce&&(ce+=de);if(le[ce]===G){const he=ce;for(;le[ce]!==K&&(le[ce]===G||ae[ce]!==se);)ce-=pe,0>ce&&(ce+=de);le[ce]===K&&(ce=he)}return le[ce]===Q?-ce-1:ce}ensureCapacity(se){if(this.table.length<se){const ae=Z(se);this.rehash(ae)}}rehash(se){const ae=this.table.length;if(se<=this.distinct)throw new Error('Unexpected');const le=this.table,de=this.values,ue=this.state,ce=O(se,0),pe=O(se,0),he=O(se,0);this.lowWaterMark=P(se,this.minLoadFactor),this.highWaterMark=T(se,this.maxLoadFactor),this.table=ce,this.values=pe,this.state=he,this.freeEntries=se-this.distinct;for(var ge=0;ge<ae;ge++)if(ue[ge]===Q){var me=le[ge],fe=this.indexOfInsertion(me);ce[fe]=me,pe[fe]=de[ge],he[fe]=Q}}forEachKey(se){for(var ae=0;ae<this.state.length;ae++)if(this.state[ae]===Q&&!se(this.table[ae]))return!1;return!0}forEachValue(se){for(var ae=0;ae<this.state.length;ae++)if(this.state[ae]===Q&&!se(this.values[ae]))return!1;return!0}forEachPair(se){for(var ae=0;ae<this.state.length;ae++)if(this.state[ae]===Q&&!se(this.table[ae],this.values[ae]))return!1;return!0}}D.exports=oe},function(D,E,I){const T=I(33),R=I(42).asc,F=2147483647,O=[F,5,11,23,47,97,197,397,797,1597,3203,6421,12853,25717,51437,102877,205759,411527,823117,1646237,3292489,6584983,13169977,26339969,52679969,105359939,210719881,421439783,842879579,1685759167,433,877,1759,3527,7057,14143,28289,56591,113189,226379,452759,905551,1811107,3622219,7244441,14488931,28977863,57955739,115911563,231823147,463646329,927292699,1854585413,953,1907,3821,7643,15287,30577,61169,122347,244703,489407,978821,1957651,3915341,7830701,15661423,31322867,62645741,125291483,250582987,501165979,1002331963,2004663929,1039,2081,4177,8363,16729,33461,66923,133853,267713,535481,1070981,2141977,4283963,8567929,17135863,34271747,68543509,137087021,274174111,548348231,1096696463,31,67,137,277,557,1117,2237,4481,8963,17929,35863,71741,143483,286973,573953,1147921,2295859,4591721,9183457,18366923,36733847,73467739,146935499,293871013,587742049,1175484103,599,1201,2411,4831,9677,19373,38747,77509,155027,310081,620171,1240361,2480729,4961459,9922933,19845871,39691759,79383533,158767069,317534141,635068283,1270136683,311,631,1277,2557,5119,10243,20507,41017,82037,164089,328213,656429,1312867,2625761,5251529,10503061,21006137,42012281,84024581,168049163,336098327,672196673,1344393353,3,7,17,37,79,163,331,673,1361,2729,5471,10949,21911,43853,87719,175447,350899,701819,1403641,2807303,5614657,11229331,22458671,44917381,89834777,179669557,359339171,718678369,1437356741,43,89,179,359,719,1439,2879,5779,11579,23159,46327,92657,185323,370661,741337,1482707,2965421,5930887,11861791,23723597,47447201,94894427,189788857,379577741,759155483,1518310967,379,761,1523,3049,6101,12203,24407,48817,97649,195311,390647,781301,1562611,3125257,6250537,12501169,25002389,50004791,100009607,200019221,400038451,800076929,1600153859,13,29,59,127,257,521,1049,2099,4201,8419,16843,33703,67409,134837,269683,539389,1078787,2157587,4315183,8630387,17260781,34521589,69043189,138086407,276172823,552345671,1104691373,19,41,83,167,337,677,1361,2729,5471,10949,21911,43853,87719,175447,350899,701819,1403641,2807303,5614657,11229331,22458671,44917381,89834777,179669557,359339171,718678369,1437356741,53,107,223,449,907,1823,3659,7321,14653,29311,58631,117269,234539,469099,938207,1876417,3752839,7505681,15011389,30022781,60045577,120091177,240182359,480364727,960729461,1921458943];O.sort(R),E.nextPrime=function($){let Z=T(O,$,R);return 0>Z&&(Z=~Z),O[Z]},E.largestPrime=F},function(D,E,I){'use strict';function P(ne,oe,se){for(var ae=1e101,le=0;le<ne.length;le++)for(var de=0,ue;de<oe.length;de++)ue=se[ne[le]][oe[de]],ae=_Mathmin(ue,ae);return ae}function T(ne,oe,se){for(var ae=-1,le=0;le<ne.length;le++)for(var de=0,ue;de<oe.length;de++)ue=se[ne[le]][oe[de]],ae=_Mathmax(ue,ae);return ae}function R(ne,oe,se){for(var ae=0,le=0;le<ne.length;le++)for(var de=0;de<oe.length;de++)ae+=se[ne[le]][oe[de]];return ae/(ne.length*oe.length)}function F(ne,oe,se){for(var ae=Array(ne.length*oe.length),le=0;le<ne.length;le++)for(var de=0;de<oe.length;de++)ae[le*oe.length+de]=se[ne[le]][oe[de]];return Z(ae)}function O(ne,oe,se){return F(ne,oe,se)*ne.length*oe.length/(ne.length+oe.length)}function $(ne,oe){return ne-oe}function Z(ne,oe){oe===void 0&&(oe=!1),oe||(ne=[].concat(ne).sort($));var se=ne.length,ae=_Mathfloor(se/2);return 0==se%2?0.5*(ne[ae-1]+ne[ae]):ne[ae]}const K=I(34),Q=I(35),G=I(14),ee=I(102);var te={disFunc:K,kind:'single',isDistanceMatrix:!1};D.exports=function(ne,oe){oe=Object.assign({},te,oe);var se=ne.length,ae=ne;if(oe.isDistanceMatrix||(ae=ee(ne,oe.disFunc)),'string'==typeof oe.kind)switch(oe.kind){case'single':oe.kind=P;break;case'complete':oe.kind=T;break;case'average':oe.kind=R;break;case'centroid':oe.kind=F;break;case'ward':oe.kind=O;break;default:throw new RangeError('Unknown kind of similarity');}else if('function'!=typeof oe.kind)throw new TypeError('Undefined kind of similarity');for(var le=Array(se),de=0;de<ae.length;de++)le[de]=new Q(de);for(var ue=1e6,ce={},pe=0;1<le.length;){ce={},ue=1e6;for(var he=0;he<le.length;he++)for(var ge=he+1;ge<le.length;ge++){var me,fe;if(le[he]instanceof Q)me=[le[he].index];else{me=Array(le[he].index.length);for(var ye=0;ye<me.length;ye++)me[ye]=le[he].index[ye].index}if(le[ge]instanceof Q)fe=[le[ge].index];else{fe=Array(le[ge].index.length);for(var xe=0;xe<fe.length;xe++)fe[xe]=le[ge].index[xe].index}pe=oe.kind(me,fe,ae).toFixed(4),pe in ce?ce[pe].push([le[he],le[ge]]):ce[pe]=[[le[he],le[ge]]],ue=_Mathmin(pe,ue)}for(var be=ce[ue.toFixed(4)],_e=Array(be.length),je=0,ke;0<be.length;){ke=be.shift();for(var we=0,Ce;we<be.length;we++)if(Ce=be[we].filter(function(Ie){return-1!==ke.indexOf(Ie)}),0<Ce.length){var ve=be[we].filter(function(Ie){return-1===ke.indexOf(Ie)});ke=ke.concat(ve),be.splice(we--,1)}_e[je++]=ke}_e.length=je;for(var Se=0,De;Se<_e.length;Se++){De=new G,De.children=_e[Se].concat(),De.distance=ue,De.index=Array(se);for(var Ee=0,Ae=0;Ae<_e[Se].length;Ae++)_e[Se][Ae]instanceof Q?De.index[Ee++]=_e[Se][Ae]:(Ee+=_e[Se][Ae].index.length,De.index=_e[Se][Ae].index.concat(De.index)),le.splice(le.indexOf(_e[Se][Ae]),1);De.index.length=Ee,le.push(De)}}return le[0]}},function(D,E,I){'use strict';function P(te,ne,oe){for(var se=1e101,ae=0;ae<te.length;ae++)for(var le=ae,de;le<ne.length;le++)de=oe(te[ae],ne[le]),se=_Mathmin(de,se);return se}function T(te,ne,oe){for(var se=-1,ae=0;ae<te.length;ae++)for(var le=ae,de;le<ne.length;le++)de=oe(te[ae],ne[le]),se=_Mathmax(de,se);return se}function R(te,ne,oe){for(var se=0,ae=0;ae<te.length;ae++)for(var le=0;le<ne.length;le++)se+=oe(te[ae],ne[le]);return se/(te.length*ne.length)}function F(te,ne,oe){for(var se=0,ae=0,le=0,de=0,ue=0;ue<te.length;ue++)se+=te[ue][0],ae+=te[ue][1];for(var ce=0;ce<ne.length;ce++)le+=ne[ce][0],de+=ne[ce][1];return se/=te.length,ae/=te.length,le/=ne.length,de/=ne.length,oe([se,ae],[le,de])}function O(te,ne,oe){for(var se=0,ae=0,le=0,de=0,ue=0;ue<te.length;ue++)se+=te[ue][0],ae+=te[ue][1];for(var ce=0;ce<ne.length;ce++)le+=ne[ce][0],de+=ne[ce][1];return se/=te.length,ae/=te.length,le/=ne.length,de/=ne.length,oe([se,ae],[le,de])*te.length*ne.length/(te.length+ne.length)}function $(te,ne,oe){for(var se={d:0,p:0},ae=Array(te[0].length),le=0;le<te[0].length;le++)ae[le]=ne[te[0][le]];for(var de=Array(te[1].length),ue=0;ue<te[1].length;ue++)de[ue]=ne[te[1][ue]];for(var he=0,ce,pe;he<ae.length;he++){ce=0;for(var ge=0;ge<ae.length;ge++)he!==ge&&(ce+=oe(ae[he],ae[ge]));ce/=ae.length-1,pe=0;for(var me=0;me<de.length;me++)pe+=oe(ae[he],de[me]);pe/=de.length,ce-pe>se.d&&(se.d=ce-pe,se.p=he)}return se}function Z(te,ne,oe){for(var se=0,ae=0,le=0;le<te.length;le++)for(var de=le;de<te.length;de++)se+=oe(ne[te[le].index],ne[te[de].index]),ae++;return se/ae}const K=I(34),Q=I(35),G=I(14);var ee={dist:K,kind:'single'};D.exports=function(te,ne){if(ne=Object.assign({},ee,ne),'string'==typeof ne.kind)switch(ne.kind){case'single':ne.kind=P;break;case'complete':ne.kind=T;break;case'average':ne.kind=R;break;case'centroid':ne.kind=F;break;case'ward':ne.kind=O;break;default:throw new RangeError('Unknown kind of similarity');}else if('function'!=typeof ne.kind)throw new TypeError('Undefined kind of similarity');var oe=new G;oe.children=Array(te.length),oe.index=Array(te.length);for(var se=0;se<te.length;se++)oe.children[se]=new Q(se),oe.index[se]=new Q(se);oe.distance=Z(oe.index,te,ne.dist);for(var pe=[oe],ae,le,de,ue,ce;0<pe.length;){le=0,de=0;for(var he=0;he<pe.length;he++){ae=0;for(var ge=0;ge<pe[he].length;ge++)for(var me=ge+1;me<pe[he].length;me++)ae=_Mathmax(ne.dist(te[pe[he].index[ge].index],te[pe[he].index[me].index]),ae);ae>le&&(le=ae,de=he)}if(le=0,2===pe[de].index.length)pe[de].children=[pe[de].index[0],pe[de].index[1]],pe[de].distance=ne.dist(te[pe[de].index[0].index],te[pe[de].index[1].index]);else if(3===pe[de].index.length){pe[de].children=[pe[de].index[0],pe[de].index[1],pe[de].index[2]];var fe=[ne.dist(te[pe[de].index[0].index],te[pe[de].index[1].index]),ne.dist(te[pe[de].index[1].index],te[pe[de].index[2].index])];pe[de].distance=(fe[0]+fe[1])/2}else{for(var ye=new G,xe=new G,be=[Array(pe[de].index.length),[]],_e=0;_e<be[0].length;_e++)be[0][_e]=_e;for(var ke=0;ke<be[0].length;ke++){ue=0;for(var je=0;je<be[0].length;je++)ke!==je&&(ue+=ne.dist(te[pe[de].index[be[0][je]].index],te[pe[de].index[be[0][ke]].index]));ue/=be[0].length-1,ue>le&&(le=ue,ce=ke)}for(be[1]=[ce],be[0].splice(ce,1),ue=$(be,te,ne.dist);0<ue.d;)be[1].push(be[0][ue.p]),be[0].splice(ue.p,1),ue=$(be,te,ne.dist);var we=Array(be[0].length);ye.index=Array(be[0].length);for(var Ce=0;Ce<we.length;Ce++)we[Ce]=te[pe[de].index[be[0][Ce]].index],ye.index[Ce]=pe[de].index[be[0][Ce]],ye.children[Ce]=pe[de].index[be[0][Ce]];var ve=Array(be[1].length);xe.index=Array(be[1].length);for(var Se=0;Se<ve.length;Se++)ve[Se]=te[pe[de].index[be[1][Se]].index],xe.index[Se]=pe[de].index[be[1][Se]],xe.children[Se]=pe[de].index[be[1][Se]];ye.distance=Z(ye.index,te,ne.dist),xe.distance=Z(xe.index,te,ne.dist),pe.push(ye),pe.push(xe),pe[de].children=[ye,xe]}pe.splice(de,1)}return oe}},function(D,E,I){'use strict';E.agnes=I(105),E.diana=I(106)},function(D,E,I){'use strict';function P(R){if(!(this instanceof P))return new P(R);if(R=T.checkMatrix(R),!R.isSymmetric())throw new Error('Matrix is not symmetric');var F=R,O=F.rows,$=new T(O,O),Z=!0,W,K,Q;for(K=0;K<O;K++){var G=$[K],ee=0;for(Q=0;Q<K;Q++){var te=$[Q],ne=0;for(W=0;W<Q;W++)ne+=te[W]*G[W];G[Q]=ne=(F[K][Q]-ne)/$[Q][Q],ee+=ne*ne}for(ee=F[K][K]-ee,Z&=0<ee,$[K][K]=_Mathsqrt(_Mathmax(ee,0)),Q=K+1;Q<O;Q++)$[K][Q]=0}if(!Z)throw new Error('Matrix is not positive definite');this.L=$}var T=I(2).Matrix;P.prototype={get lowerTriangularMatrix(){return this.L},solve:function(R){R=T.checkMatrix(R);var F=this.L,O=F.rows;if(R.rows!==O)throw new Error('Matrix dimensions do not match');var $=R.columns,Z=R.clone(),W,K,Q;for(Q=0;Q<O;Q++)for(K=0;K<$;K++){for(W=0;W<Q;W++)Z[Q][K]-=Z[W][K]*F[Q][W];Z[Q][K]/=F[Q][Q]}for(Q=O-1;0<=Q;Q--)for(K=0;K<$;K++){for(W=Q+1;W<O;W++)Z[Q][K]-=Z[W][K]*F[W][Q];Z[Q][K]/=F[Q][Q]}return Z}},D.exports=P},function(D,E,I){'use strict';function P(ee,te){if(te=Object.assign({},G,te),!(this instanceof P))return new P(ee,te);if(ee=Z.checkMatrix(ee),!ee.isSquare())throw new Error('Matrix is not a square matrix');var ne=ee.columns,oe=Q(ne,ne,0),se=Array(ne),ae=Array(ne),le=ee,ce=!1,de,ue;if(ce=!!te.assumeSymmetric||ee.isSymmetric(),ce){for(de=0;de<ne;de++)for(ue=0;ue<ne;ue++)oe[de][ue]=le.get(de,ue);T(ne,ae,se,oe),R(ne,ae,se,oe)}else{var pe=Q(ne,ne,0),he=Array(ne);for(ue=0;ue<ne;ue++)for(de=0;de<ne;de++)pe[de][ue]=le.get(de,ue);F(ne,pe,he,oe),O(ne,ae,se,oe,pe)}this.n=ne,this.e=ae,this.d=se,this.V=oe}function T(ee,te,ne,oe){var se,ae,le,de,ue,ce,pe,he;for(ue=0;ue<ee;ue++)ne[ue]=oe[ee-1][ue];for(de=ee-1;0<de;de--){for(he=0,le=0,ce=0;ce<de;ce++)he+=_Mathabs(ne[ce]);if(0===he)for(te[de]=ne[de-1],ue=0;ue<de;ue++)ne[ue]=oe[de-1][ue],oe[de][ue]=0,oe[ue][de]=0;else{for(ce=0;ce<de;ce++)ne[ce]/=he,le+=ne[ce]*ne[ce];for(se=ne[de-1],ae=_Mathsqrt(le),0<se&&(ae=-ae),te[de]=he*ae,le-=se*ae,ne[de-1]=se-ae,ue=0;ue<de;ue++)te[ue]=0;for(ue=0;ue<de;ue++){for(se=ne[ue],oe[ue][de]=se,ae=te[ue]+oe[ue][ue]*se,ce=ue+1;ce<=de-1;ce++)ae+=oe[ce][ue]*ne[ce],te[ce]+=oe[ce][ue]*se;te[ue]=ae}for(se=0,ue=0;ue<de;ue++)te[ue]/=le,se+=te[ue]*ne[ue];for(pe=se/(le+le),ue=0;ue<de;ue++)te[ue]-=pe*ne[ue];for(ue=0;ue<de;ue++){for(se=ne[ue],ae=te[ue],ce=ue;ce<=de-1;ce++)oe[ce][ue]-=se*te[ce]+ae*ne[ce];ne[ue]=oe[de-1][ue],oe[de][ue]=0}}ne[de]=le}for(de=0;de<ee-1;de++){if(oe[ee-1][de]=oe[de][de],oe[de][de]=1,le=ne[de+1],0!==le){for(ce=0;ce<=de;ce++)ne[ce]=oe[ce][de+1]/le;for(ue=0;ue<=de;ue++){for(ae=0,ce=0;ce<=de;ce++)ae+=oe[ce][de+1]*oe[ce][ue];for(ce=0;ce<=de;ce++)oe[ce][ue]-=ae*ne[ce]}}for(ce=0;ce<=de;ce++)oe[ce][de+1]=0}for(ue=0;ue<ee;ue++)ne[ue]=oe[ee-1][ue],oe[ee-1][ue]=0;oe[ee-1][ee-1]=1,te[0]=0}function R(ee,te,ne,oe){var se,ae,le,de,ue,ce,pe,he,ge,me,fe,ye,xe,be,_e,ke,je;for(le=1;le<ee;le++)te[le-1]=te[le];te[ee-1]=0;var we=0,Ce=0,ve=2.220446049250313e-16;for(ce=0;ce<ee;ce++){for(Ce=_Mathmax(Ce,_Mathabs(ne[ce])+_Mathabs(te[ce])),pe=ce;pe<ee&&!(_Mathabs(te[pe])<=ve*Ce);)pe++;if(pe>ce){je=0;do{for(++je,se=ne[ce],he=(ne[ce+1]-se)/(2*te[ce]),ge=K(he,1),0>he&&(ge=-ge),ne[ce]=te[ce]/(he+ge),ne[ce+1]=te[ce]*(he+ge),me=ne[ce+1],ae=se-ne[ce],le=ce+2;le<ee;le++)ne[le]-=ae;for(we+=ae,he=ne[pe],fe=1,ye=fe,xe=fe,be=te[ce+1],_e=0,ke=0,le=pe-1;le>=ce;le--)for(xe=ye,ye=fe,ke=_e,se=fe*te[le],ae=fe*he,ge=K(he,te[le]),te[le+1]=_e*ge,_e=te[le]/ge,fe=he/ge,he=fe*ne[le]-_e*se,ne[le+1]=ae+_e*(fe*se+_e*ne[le]),ue=0;ue<ee;ue++)ae=oe[ue][le+1],oe[ue][le+1]=_e*oe[ue][le]+fe*ae,oe[ue][le]=fe*oe[ue][le]-_e*ae;he=-_e*ke*xe*be*te[ce]/me,te[ce]=_e*he,ne[ce]=fe*he}while(_Mathabs(te[ce])>ve*Ce)}ne[ce]+=we,te[ce]=0}for(le=0;le<ee-1;le++){for(ue=le,he=ne[le],de=le+1;de<ee;de++)ne[de]<he&&(ue=de,he=ne[de]);if(ue!==le)for(ne[ue]=ne[le],ne[le]=he,de=0;de<ee;de++)he=oe[de][le],oe[de][le]=oe[de][ue],oe[de][ue]=he}}function F(ee,te,ne,oe){var se=0,ae=ee-1,le,de,ue,ce,pe,he,ge;for(he=se+1;he<=ae-1;he++){for(ge=0,ce=he;ce<=ae;ce++)ge+=_Mathabs(te[ce][he-1]);if(0!==ge){for(ue=0,ce=ae;ce>=he;ce--)ne[ce]=te[ce][he-1]/ge,ue+=ne[ce]*ne[ce];for(de=_Mathsqrt(ue),0<ne[he]&&(de=-de),ue-=ne[he]*de,ne[he]-=de,pe=he;pe<ee;pe++){for(le=0,ce=ae;ce>=he;ce--)le+=ne[ce]*te[ce][pe];for(le/=ue,ce=he;ce<=ae;ce++)te[ce][pe]-=le*ne[ce]}for(ce=0;ce<=ae;ce++){for(le=0,pe=ae;pe>=he;pe--)le+=ne[pe]*te[ce][pe];for(le/=ue,pe=he;pe<=ae;pe++)te[ce][pe]-=le*ne[pe]}ne[he]=ge*ne[he],te[he][he-1]=ge*de}}for(ce=0;ce<ee;ce++)for(pe=0;pe<ee;pe++)oe[ce][pe]=ce===pe?1:0;for(he=ae-1;he>=se+1;he--)if(0!==te[he][he-1]){for(ce=he+1;ce<=ae;ce++)ne[ce]=te[ce][he-1];for(pe=he;pe<=ae;pe++){for(de=0,ce=he;ce<=ae;ce++)de+=ne[ce]*oe[ce][pe];for(de=de/ne[he]/te[he][he-1],ce=he;ce<=ae;ce++)oe[ce][pe]+=de*ne[ce]}}}function O(ee,te,ne,oe,se){var ae=ee-1,le=0,de=ee-1,ue=2.220446049250313e-16,ce=0,pe=0,he=0,ge=0,me=0,fe=0,ye=0,xe=0,be,_e,ke,je,we,Ce,ve,Se,De,Ee,Ae,Ie,He,Pe,Te;for(be=0;be<ee;be++)for((be<le||be>de)&&(ne[be]=se[be][be],te[be]=0),_e=_Mathmax(be-1,0);_e<ee;_e++)pe+=_Mathabs(se[be][_e]);for(;ae>=le;){for(je=ae;je>le&&(fe=_Mathabs(se[je-1][je-1])+_Mathabs(se[je][je]),0===fe&&(fe=pe),!(_Mathabs(se[je][je-1])<ue*fe));)je--;if(je===ae)se[ae][ae]+=ce,ne[ae]=se[ae][ae],te[ae]=0,ae--,xe=0;else if(je===ae-1){if(ve=se[ae][ae-1]*se[ae-1][ae],he=(se[ae-1][ae-1]-se[ae][ae])/2,ge=he*he+ve,ye=_Mathsqrt(_Mathabs(ge)),se[ae][ae]+=ce,se[ae-1][ae-1]=se[ae-1][ae-1]+ce,Se=se[ae][ae],0<=ge){for(ye=0<=he?he+ye:he-ye,ne[ae-1]=Se+ye,ne[ae]=ne[ae-1],0!==ye&&(ne[ae]=Se-ve/ye),te[ae-1]=0,te[ae]=0,Se=se[ae][ae-1],fe=_Mathabs(Se)+_Mathabs(ye),he=Se/fe,ge=ye/fe,me=_Mathsqrt(he*he+ge*ge),he/=me,ge/=me,_e=ae-1;_e<ee;_e++)ye=se[ae-1][_e],se[ae-1][_e]=ge*ye+he*se[ae][_e],se[ae][_e]=ge*se[ae][_e]-he*ye;for(be=0;be<=ae;be++)ye=se[be][ae-1],se[be][ae-1]=ge*ye+he*se[be][ae],se[be][ae]=ge*se[be][ae]-he*ye;for(be=le;be<=de;be++)ye=oe[be][ae-1],oe[be][ae-1]=ge*ye+he*oe[be][ae],oe[be][ae]=ge*oe[be][ae]-he*ye}else ne[ae-1]=Se+he,ne[ae]=Se+he,te[ae-1]=ye,te[ae]=-ye;ae-=2,xe=0}else{if(Se=se[ae][ae],De=0,ve=0,je<ae&&(De=se[ae-1][ae-1],ve=se[ae][ae-1]*se[ae-1][ae]),10==xe){for(ce+=Se,be=le;be<=ae;be++)se[be][be]-=Se;fe=_Mathabs(se[ae][ae-1])+_Mathabs(se[ae-1][ae-2]),Se=De=0.75*fe,ve=-0.4375*fe*fe}if(30==xe&&(fe=(De-Se)/2,fe=fe*fe+ve,0<fe)){for(fe=_Mathsqrt(fe),De<Se&&(fe=-fe),fe=Se-ve/((De-Se)/2+fe),be=le;be<=ae;be++)se[be][be]-=fe;ce+=fe,Se=De=ve=0.964}for(++xe,we=ae-2;we>=je&&(ye=se[we][we],me=Se-ye,fe=De-ye,he=(me*fe-ve)/se[we+1][we]+se[we][we+1],ge=se[we+1][we+1]-ye-me-fe,me=se[we+2][we+1],fe=_Mathabs(he)+_Mathabs(ge)+_Mathabs(me),he/=fe,ge/=fe,me/=fe,we!==je)&&!(_Mathabs(se[we][we-1])*(_Mathabs(ge)+_Mathabs(me))<ue*(_Mathabs(he)*(_Mathabs(se[we-1][we-1])+_Mathabs(ye)+_Mathabs(se[we+1][we+1]))));)we--;for(be=we+2;be<=ae;be++)se[be][be-2]=0,be>we+2&&(se[be][be-3]=0);for(ke=we;ke<=ae-1&&(Pe=ke!==ae-1,ke!==we&&(he=se[ke][ke-1],ge=se[ke+1][ke-1],me=Pe?se[ke+2][ke-1]:0,Se=_Mathabs(he)+_Mathabs(ge)+_Mathabs(me),0!==Se&&(he/=Se,ge/=Se,me/=Se)),0!==Se);ke++)if(fe=_Mathsqrt(he*he+ge*ge+me*me),0>he&&(fe=-fe),0!==fe){for(ke===we?je!==we&&(se[ke][ke-1]=-se[ke][ke-1]):se[ke][ke-1]=-fe*Se,he+=fe,Se=he/fe,De=ge/fe,ye=me/fe,ge/=he,me/=he,_e=ke;_e<ee;_e++)he=se[ke][_e]+ge*se[ke+1][_e],Pe&&(he+=me*se[ke+2][_e],se[ke+2][_e]=se[ke+2][_e]-he*ye),se[ke][_e]-=he*Se,se[ke+1][_e]=se[ke+1][_e]-he*De;for(be=0;be<=_Mathmin(ae,ke+3);be++)he=Se*se[be][ke]+De*se[be][ke+1],Pe&&(he+=ye*se[be][ke+2],se[be][ke+2]=se[be][ke+2]-he*me),se[be][ke]-=he,se[be][ke+1]=se[be][ke+1]-he*ge;for(be=le;be<=de;be++)he=Se*oe[be][ke]+De*oe[be][ke+1],Pe&&(he+=ye*oe[be][ke+2],oe[be][ke+2]=oe[be][ke+2]-he*me),oe[be][ke]-=he,oe[be][ke+1]=oe[be][ke+1]-he*ge}}}if(0!==pe){for(ae=ee-1;0<=ae;ae--)if(he=ne[ae],ge=te[ae],0===ge)for(je=ae,se[ae][ae]=1,be=ae-1;0<=be;be--){for(ve=se[be][be]-he,me=0,_e=je;_e<=ae;_e++)me+=se[be][_e]*se[_e][ae];if(0>te[be])ye=ve,fe=me;else if(je=be,0===te[be]?se[be][ae]=0===ve?-me/(ue*pe):-me/ve:(Se=se[be][be+1],De=se[be+1][be],ge=(ne[be]-he)*(ne[be]-he)+te[be]*te[be],Ce=(Se*fe-ye*me)/ge,se[be][ae]=Ce,se[be+1][ae]=_Mathabs(Se)>_Mathabs(ye)?(-me-ve*Ce)/Se:(-fe-De*Ce)/ye),Ce=_Mathabs(se[be][ae]),1<ue*Ce*Ce)for(_e=be;_e<=ae;_e++)se[_e][ae]/=Ce}else if(0>ge)for(je=ae-1,_Mathabs(se[ae][ae-1])>_Mathabs(se[ae-1][ae])?(se[ae-1][ae-1]=ge/se[ae][ae-1],se[ae-1][ae]=-(se[ae][ae]-he)/se[ae][ae-1]):(Te=$(0,-se[ae-1][ae],se[ae-1][ae-1]-he,ge),se[ae-1][ae-1]=Te[0],se[ae-1][ae]=Te[1]),se[ae][ae-1]=0,se[ae][ae]=1,be=ae-2;0<=be;be--){for(Ee=0,Ae=0,_e=je;_e<=ae;_e++)Ee+=se[be][_e]*se[_e][ae-1],Ae+=se[be][_e]*se[_e][ae];if(ve=se[be][be]-he,0>te[be])ye=ve,me=Ee,fe=Ae;else if(je=be,0===te[be]?(Te=$(-Ee,-Ae,ve,ge),se[be][ae-1]=Te[0],se[be][ae]=Te[1]):(Se=se[be][be+1],De=se[be+1][be],Ie=(ne[be]-he)*(ne[be]-he)+te[be]*te[be]-ge*ge,He=2*(ne[be]-he)*ge,0===Ie&&0===He&&(Ie=ue*pe*(_Mathabs(ve)+_Mathabs(ge)+_Mathabs(Se)+_Mathabs(De)+_Mathabs(ye))),Te=$(Se*me-ye*Ee+ge*Ae,Se*fe-ye*Ae-ge*Ee,Ie,He),se[be][ae-1]=Te[0],se[be][ae]=Te[1],_Mathabs(Se)>_Mathabs(ye)+_Mathabs(ge)?(se[be+1][ae-1]=(-Ee-ve*se[be][ae-1]+ge*se[be][ae])/Se,se[be+1][ae]=(-Ae-ve*se[be][ae]-ge*se[be][ae-1])/Se):(Te=$(-me-De*se[be][ae-1],-fe-De*se[be][ae],ye,ge),se[be+1][ae-1]=Te[0],se[be+1][ae]=Te[1])),Ce=_Mathmax(_Mathabs(se[be][ae-1]),_Mathabs(se[be][ae])),1<ue*Ce*Ce)for(_e=be;_e<=ae;_e++)se[_e][ae-1]=se[_e][ae-1]/Ce,se[_e][ae]/=Ce}for(be=0;be<ee;be++)if(be<le||be>de)for(_e=be;_e<ee;_e++)oe[be][_e]=se[be][_e];for(_e=ee-1;_e>=le;_e--)for(be=le;be<=de;be++){for(ye=0,ke=le;ke<=_Mathmin(_e,de);ke++)ye+=oe[be][ke]*se[ke][_e];oe[be][_e]=ye}}}function $(ee,te,ne,oe){var se,ae;return _Mathabs(ne)>_Mathabs(oe)?(se=oe/ne,ae=ne+se*oe,[(ee+se*te)/ae,(te-se*ee)/ae]):(se=ne/oe,ae=oe+se*ne,[(se*ee+te)/ae,(se*te-ee)/ae])}const Z=I(2).Matrix,W=I(15),K=W.hypotenuse,Q=W.getFilled2DArray,G={assumeSymmetric:!1};P.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return Z.isMatrix(this.V)||(this.V=new Z(this.V)),this.V},get diagonalMatrix(){var ee=this.n,te=this.e,ne=this.d,oe=new Z(ee,ee),se,ae;for(se=0;se<ee;se++){for(ae=0;ae<ee;ae++)oe[se][ae]=0;oe[se][se]=ne[se],0<te[se]?oe[se][se+1]=te[se]:0>te[se]&&(oe[se][se-1]=te[se])}return oe}},D.exports=P},function(D,E,I){'use strict';function P(F){if(!(this instanceof P))return new P(F);F=T.checkMatrix(F);var O=F.clone(),$=F.rows,Z=F.columns,W=Array(Z),K,Q,G,ee;for(G=0;G<Z;G++){var te=0;for(K=G;K<$;K++)te=R(te,O[K][G]);if(0!==te){for(0>O[G][G]&&(te=-te),K=G;K<$;K++)O[K][G]/=te;for(O[G][G]+=1,Q=G+1;Q<Z;Q++){for(ee=0,K=G;K<$;K++)ee+=O[K][G]*O[K][Q];for(ee=-ee/O[G][G],K=G;K<$;K++)O[K][Q]+=ee*O[K][G]}}W[G]=-te}this.QR=O,this.Rdiag=W}var T=I(2).Matrix,R=I(15).hypotenuse;P.prototype={solve:function(F){F=T.checkMatrix(F);var O=this.QR,$=O.rows;if(F.rows!==$)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var Z=F.columns,W=F.clone(),K=O.columns,Q,G,ee,te;for(ee=0;ee<K;ee++)for(G=0;G<Z;G++){for(te=0,Q=ee;Q<$;Q++)te+=O[Q][ee]*W[Q][G];for(te=-te/O[ee][ee],Q=ee;Q<$;Q++)W[Q][G]+=te*O[Q][ee]}for(ee=K-1;0<=ee;ee--){for(G=0;G<Z;G++)W[ee][G]/=this.Rdiag[ee];for(Q=0;Q<ee;Q++)for(G=0;G<Z;G++)W[Q][G]-=W[ee][G]*O[Q][ee]}return W.subMatrix(0,K-1,0,Z-1)},isFullRank:function(){for(var F=this.QR.columns,O=0;O<F;O++)if(0===this.Rdiag[O])return!1;return!0},get upperTriangularMatrix(){var F=this.QR,O=F.columns,$=new T(O,O),Z,W;for(Z=0;Z<O;Z++)for(W=0;W<O;W++)$[Z][W]=Z<W?F[Z][W]:Z===W?this.Rdiag[Z]:0;return $},get orthogonalMatrix(){var F=this.QR,O=F.rows,$=F.columns,Z=new T(O,$),W,K,Q,G;for(Q=$-1;0<=Q;Q--){for(W=0;W<O;W++)Z[W][Q]=0;for(Z[Q][Q]=1,K=Q;K<$;K++)if(0!==F[Q][Q]){for(G=0,W=Q;W<O;W++)G+=F[W][Q]*Z[W][K];for(G=-G/F[Q][Q],W=Q;W<O;W++)Z[W][K]+=G*F[W][Q]}}return Z}},D.exports=P},function(D,E,I){'use strict';function P(K){return K=R.checkMatrix(K),T(K,R.eye(K.rows))}function T(K,Q){return K=R.checkMatrix(K),Q=R.checkMatrix(Q),K.isSquare()?new $(K).solve(Q):new Z(K).solve(Q)}var R=I(2).Matrix,F=I(38),O=I(109),$=I(37),Z=I(110),W=I(108);R.inverse=R.inv=P,R.prototype.inverse=R.prototype.inv=function(){return P(this)},R.solve=T,R.prototype.solve=function(K){return T(this,K)},D.exports={SingularValueDecomposition:F,SVD:F,EigenvalueDecomposition:O,EVD:O,LuDecomposition:$,LU:$,QrDecomposition:Z,QR:Z,CholeskyDecomposition:W,CHO:W,inverse:P,solve:T}},function(){'use strict';Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(D,E,I){'use strict';var P=I(5);D.exports=class extends P{constructor(R,F){super(R,R.rows,1),this.column=F}set(R,F,O){return this.matrix.set(R,this.column,O),this}get(R){return this.matrix.get(R,this.column)}}},function(D,E,I){'use strict';var P=I(5);D.exports=class extends P{constructor(R){super(R,R.rows,R.columns)}set(R,F,O){return this.matrix.set(R,this.columns-F-1,O),this}get(R,F){return this.matrix.get(R,this.columns-F-1)}}},function(D,E,I){'use strict';var P=I(5);D.exports=class extends P{constructor(R){super(R,R.rows,R.columns)}set(R,F,O){return this.matrix.set(this.rows-R-1,F,O),this}get(R,F){return this.matrix.get(this.rows-R-1,F)}}},function(D,E,I){'use strict';var P=I(5);D.exports=class extends P{constructor(R,F){super(R,1,R.columns),this.row=F}set(R,F,O){return this.matrix.set(this.row,F,O),this}get(R,F){return this.matrix.get(this.row,F)}}},function(D,E,I){'use strict';var P=I(5),T=I(9);D.exports=class extends P{constructor(F,O,$){var Z=T.checkIndices(F,O,$);super(F,Z.row.length,Z.column.length),this.rowIndices=Z.row,this.columnIndices=Z.column}set(F,O,$){return this.matrix.set(this.rowIndices[F],this.columnIndices[O],$),this}get(F,O){return this.matrix.get(this.rowIndices[F],this.columnIndices[O])}}},function(D,E,I){'use strict';var P=I(5),T=I(9);D.exports=class extends P{constructor(F,O,$,Z,W){T.checkRange(F,O,$,Z,W),super(F,$-O+1,W-Z+1),this.startRow=O,this.startColumn=Z}set(F,O,$){return this.matrix.set(this.startRow+F,this.startColumn+O,$),this}get(F,O){return this.matrix.get(this.startRow+F,this.startColumn+O)}}},function(D,E,I){'use strict';var P=I(5);D.exports=class extends P{constructor(R){super(R,R.columns,R.rows)}set(R,F,O){return this.matrix.set(F,R,O),this}get(R,F){return this.matrix.get(F,R)}}},function(D){'use strict';function P(R){var F=_Mathsqrt(2*R.length+0.25)-0.5,O=[],$=Array(F),Z=F,W=0,K=[];for(W=F-1;0<=W;W--)$[W]=1;for(var Q=-1,G=[];0<Z;){if(0===G.length){for(K=Array(F),W=0;W<F;W++)K[W]=0;for(O.push(K),Q=0;0==$[Q];Q++);}else Q=G.splice(0,1);K[Q]=1,$[Q]=0,Z--;var ee=Array(F);for(W=0;W<F;W++){var te=_Mathmax(Q,W),ne=_Mathmin(Q,W);ee[W]=R[ne*(2*F-ne-1)/2+te],1==ee[W]&&1==$[W]&&0==K[W]&&(G.push(W),K[W]=1)}}return O}const T={threshold:0,out:'assignment'};D.exports=function(F,O){const $=Object.assign({},T,O);var Z,W,K,Q;if('number'==typeof F[0])Z=P(F);else if('object'==typeof F[0]){for(var G=F.length,ee=Array(G*(G+1)/2),te=0,W=0;W<G;W++)for(var K=W;K<G;K++)ee[te++]=F[W][K]>$.threshold?1:0;Z=P(ee)}if('indexes'===$.out||'values'===$.out){var ne=Array(Z.length);for(W=0;W<Z.length;W++)for(ne[W]=[],K=0;K<Z[W].length;K++)0!=Z[W][K]&&ne[W].push(K);if('values'===$.out){var oe=Array(ne.length);for(W=0;W<ne.length;W++)for(oe[W]=Array(ne[W].length),K=0;K<ne[W].length;K++)for(oe[W][K]=Array(ne[W].length),Q=0;Q<ne[W].length;Q++)oe[W][K][Q]=F[ne[W][K]][ne[W][Q]];return oe}return ne}return Z}},function(D,E,I){'use strict';function P(R,F){return R-F}var T=I(40);E.max=function(F){for(var R=-Infinity,O=0;O<F.length;O++)for(var $=0;$<F[O].length;$++)F[O][$]>R&&(R=F[O][$]);return R},E.min=function(F){for(var R=Infinity,O=0;O<F.length;O++)for(var $=0;$<F[O].length;$++)F[O][$]<R&&(R=F[O][$]);return R},E.minMax=function(F){for(var O=Infinity,$=-Infinity,Z=0;Z<F.length;Z++)for(var W=0;W<F[Z].length;W++)F[Z][W]<O&&(O=F[Z][W]),F[Z][W]>$&&($=F[Z][W]);return{min:O,max:$}},E.entropy=function(F,O){'undefined'==typeof O&&(O=0);for(var $=0,Z=F.length,W=F[0].length,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)$+=F[K][Q]*_Mathlog(F[K][Q]+O);return-$},E.mean=function(F,O){'undefined'==typeof O&&(O=0);var $=F.length,Z=F[0].length,W,K,Q,G;if(-1===O){for(W=[0],K=$*Z,Q=0;Q<$;Q++)for(G=0;G<Z;G++)W[0]+=F[Q][G];W[0]/=K}else if(0===O)for(W=Array(Z),K=$,G=0;G<Z;G++){for(W[G]=0,Q=0;Q<$;Q++)W[G]+=F[Q][G];W[G]/=K}else if(1===O)for(W=Array($),K=Z,G=0;G<$;G++){for(W[G]=0,Q=0;Q<Z;Q++)W[G]+=F[G][Q];W[G]/=K}else throw new Error('Invalid dimension');return W},E.sum=function(F,O){'undefined'==typeof O&&(O=0);var $=F.length,Z=F[0].length,W,K,Q;if(-1===O)for(W=[0],K=0;K<$;K++)for(Q=0;Q<Z;Q++)W[0]+=F[K][Q];else if(0===O)for(W=Array(Z),Q=0;Q<Z;Q++)for(W[Q]=0,K=0;K<$;K++)W[Q]+=F[K][Q];else if(1===O)for(W=Array($),Q=0;Q<$;Q++)for(W[Q]=0,K=0;K<Z;K++)W[Q]+=F[Q][K];else throw new Error('Invalid dimension');return W},E.product=function(F,O){'undefined'==typeof O&&(O=0);var $=F.length,Z=F[0].length,W,K,Q;if(-1===O)for(W=[1],K=0;K<$;K++)for(Q=0;Q<Z;Q++)W[0]*=F[K][Q];else if(0===O)for(W=Array(Z),Q=0;Q<Z;Q++)for(W[Q]=1,K=0;K<$;K++)W[Q]*=F[K][Q];else if(1===O)for(W=Array($),Q=0;Q<$;Q++)for(W[Q]=1,K=0;K<Z;K++)W[Q]*=F[Q][K];else throw new Error('Invalid dimension');return W},E.standardDeviation=function(F,O,$){for(var Z=E.variance(F,O,$),W=Z.length,K=0;K<W;K++)Z[K]=_Mathsqrt(Z[K]);return Z},E.variance=function(F,O,$){'undefined'==typeof $&&($=!0),O=O||E.mean(F);var Z=F.length;if(0===Z)return[];for(var W=F[0].length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne=0;ne<Z;ne++)te=F[ne][Q]-O[Q],G+=te,ee+=te*te;K[Q]=$?(ee-G*G/Z)/(Z-1):(ee-G*G/Z)/Z}return K},E.median=function(F){for(var O=F.length,$=F[0].length,Z=Array($),W=0,K;W<$;W++){K=Array(O);for(var Q=0;Q<O;Q++)K[Q]=F[Q][W];K.sort(P);var G=K.length;Z[W]=0==G%2?0.5*(K[G/2]+K[G/2-1]):K[_Mathfloor(G/2)]}return Z},E.mode=function(F){var O=F.length,$=F[0].length,Z=Array($),W,K;for(W=0;W<$;W++){for(var Q=Array(O),G=0;G<O;G++)Q[G]=0;var ee=Array(O),te=0;for(K=0;K<O;K++){var ne=ee.indexOf(F[K][W]);0<=ne?Q[ne]++:(ee[te]=F[K][W],Q[te]=1,te++)}var oe=0,se=0;for(K=0;K<te;K++)Q[K]>oe&&(oe=Q[K],se=K);Z[W]=ee[se]}return Z},E.skewness=function(F,O){'undefined'==typeof O&&(O=!0);for(var $=E.mean(F),Z=F.length,W=$.length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne;te<Z;te++)ne=F[te][Q]-$[Q],G+=ne*ne,ee+=ne*ne*ne;var oe=G/Z,se=ee/Z,ae=se/_Mathpow(oe,3/2);if(O){var le=_Mathsqrt(Z*(Z-1));K[Q]=le/(Z-2)*ae}else K[Q]=ae}return K},E.kurtosis=function(F,O){'undefined'==typeof O&&(O=!0);for(var $=E.mean(F),Z=F.length,W=F[0].length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne;te<Z;te++)ne=F[te][Q]-$[Q],G+=ne*ne,ee+=ne*ne*ne*ne;var oe=G/Z,se=ee/Z;if(O){var ae=G/(Z-1),de=ee/(ae*ae);K[Q]=Z*(Z+1)/((Z-1)*(Z-2)*(Z-3))*de-3*((Z-1)*(Z-1)/((Z-2)*(Z-3)))}else K[Q]=se/(oe*oe)-3}return K},E.standardError=function(F){for(var O=F.length,$=E.standardDeviation(F),Z=$.length,W=Array(Z),K=_Mathsqrt(O),Q=0;Q<Z;Q++)W[Q]=$[Q]/K;return W},E.covariance=function(F,O){return E.scatter(F,void 0,O)},E.scatter=function(F,O,$){'undefined'==typeof $&&($=0),'undefined'==typeof O&&(0===$?O=F.length-1:1===$&&(O=F[0].length-1));var Z=E.mean(F,$),W=F.length;if(0===W)return[[]];var K=F[0].length,Q,G,ee,te,ne;if(0===$){for(Q=Array(K),G=0;G<K;G++)Q[G]=Array(K);for(G=0;G<K;G++)for(ee=G;ee<K;ee++){for(te=0,ne=0;ne<W;ne++)te+=(F[ne][ee]-Z[ee])*(F[ne][G]-Z[G]);te/=O,Q[G][ee]=te,Q[ee][G]=te}}else if(1===$){for(Q=Array(W),G=0;G<W;G++)Q[G]=Array(W);for(G=0;G<W;G++)for(ee=G;ee<W;ee++){for(te=0,ne=0;ne<K;ne++)te+=(F[ee][ne]-Z[ee])*(F[G][ne]-Z[G]);te/=O,Q[G][ee]=te,Q[ee][G]=te}}else throw new Error('Invalid dimension');return Q},E.correlation=function(F){var O=E.mean(F),$=E.standardDeviation(F,!0,O),Z=E.zScores(F,O,$),W=F.length,K=F[0].length,Q,G,ee=Array(K);for(Q=0;Q<K;Q++)ee[Q]=Array(K);for(Q=0;Q<K;Q++)for(G=Q;G<K;G++){for(var te=0,ne=0,oe=Z.length;ne<oe;ne++)te+=Z[ne][G]*Z[ne][Q];te/=W-1,ee[Q][G]=te,ee[G][Q]=te}return ee},E.zScores=function(F,O,$){return O=O||E.mean(F),'undefined'==typeof $&&($=E.standardDeviation(F,!0,O)),E.standardize(E.center(F,O,!1),$,!0)},E.center=function(F,O,$){O=O||E.mean(F);var Z=F,W=F.length,K,Q,G;if(!$)for(Z=Array(W),K=0;K<W;K++)Z[K]=Array(F[K].length);for(K=0;K<W;K++){var ee=Z[K];for(Q=0,G=ee.length;Q<G;Q++)ee[Q]=F[K][Q]-O[Q]}return Z},E.standardize=function(F,O,$){'undefined'==typeof O&&(O=E.standardDeviation(F));var Z=F,W=F.length,K,Q,G;if(!$)for(Z=Array(W),K=0;K<W;K++)Z[K]=Array(F[K].length);for(K=0;K<W;K++){var ee=Z[K],te=F[K];for(Q=0,G=ee.length;Q<G;Q++)0===O[Q]||isNaN(O[Q])||(ee[Q]=te[Q]/O[Q])}return Z},E.weightedVariance=function(F,O){var $=E.mean(F),Z=F.length;if(0===Z)return[];for(var W=F[0].length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne=0;ne<Z;ne++){var oe=F[ne][Q]-$[Q],se=O[ne];G+=se*(oe*oe),te+=se,ee+=se*se}K[Q]=G*(te/(te*te-ee))}return K},E.weightedMean=function(F,O,$){'undefined'==typeof $&&($=0);var Z=F.length;if(0===Z)return[];var W=F[0].length,K,Q,G,ee,te,ne;if(0===$){for(K=Array(W),Q=0;Q<W;Q++)K[Q]=0;for(Q=0;Q<Z;Q++)for(ne=F[Q],te=O[Q],ee=0;ee<W;ee++)K[ee]+=ne[ee]*te}else if(1===$){for(K=Array(Z),Q=0;Q<Z;Q++)K[Q]=0;for(ee=0;ee<Z;ee++)for(ne=F[ee],te=O[ee],Q=0;Q<W;Q++)K[ee]+=ne[Q]*te}else throw new Error('Invalid dimension');var oe=T.sum(O);if(0!==oe)for(Q=0,G=K.length;Q<G;Q++)K[Q]/=oe;return K},E.weightedCovariance=function(F,O,$,Z){Z=Z||0,$=$||E.weightedMean(F,O,Z);for(var W=0,K=0,Q=0,G=O.length;Q<G;Q++)W+=O[Q],K+=O[Q]*O[Q];var ee=W/(W*W-K);return E.weightedScatter(F,O,$,ee,Z)},E.weightedScatter=function(F,O,$,Z,W){W=W||0,$=$||E.weightedMean(F,O,W),'undefined'==typeof Z&&(Z=1);var K=F.length;if(0===K)return[[]];var Q=F[0].length,G,ee,te,ne,oe;if(0===W){for(G=Array(Q),ee=0;ee<Q;ee++)G[ee]=Array(Q);for(ee=0;ee<Q;ee++)for(te=ee;te<Q;te++){for(oe=0,ne=0;ne<K;ne++)oe+=O[ne]*(F[ne][te]-$[te])*(F[ne][ee]-$[ee]);G[ee][te]=oe*Z,G[te][ee]=oe*Z}}else if(1===W){for(G=Array(K),ee=0;ee<K;ee++)G[ee]=Array(K);for(ee=0;ee<K;ee++)for(te=ee;te<K;te++){for(oe=0,ne=0;ne<Q;ne++)oe+=O[ne]*(F[te][ne]-$[te])*(F[ee][ne]-$[ee]);G[ee][te]=oe*Z,G[te][ee]=oe*Z}}else throw new Error('Invalid dimension');return G}},function(D){'use strict';D.exports=Number.isNaN||function(P){return P!==P}},function(D,E,I){'use strict';function T(Z){var W=0,K=0,Q=Z.length;for(let ee=0;ee<Q;++ee)W+=Z[ee];W/=Q;var G=Array(Q);for(let ee=0;ee<Q;++ee)G[ee]=_Mathabs(Z[ee]-W);return G.sort(),K=1==Q%2?G[(Q-1)/2]/0.6745:0.5*(G[Q/2]+G[Q/2-1])/0.6745,K}function R(Z,W,K){for(var oe=0,Q,G,ee,te,ne;oe<Z.length;oe++)ne=Z[oe].i,K[ne-1]>=K[ne-2]&&K[ne-1]>=K[ne]?ne--:K[ne+1]>=K[ne]&&K[ne+1]>=K[ne+2]?ne++:K[ne-2]>=K[ne-3]&&K[ne-2]>=K[ne-1]?ne-=2:K[ne+2]>=K[ne+1]&&K[ne+2]>=K[ne+3]&&(ne+=2),0<K[ne-1]&&0<K[ne+1]&&K[ne]>=K[ne-1]&&K[ne]>=K[ne+1]&&(Q=20*_Mathlog2(K[ne-1]),G=20*_Mathlog2(K[ne]),ee=20*_Mathlog2(K[ne+1]),te=0.5*(Q-ee)/(Q-2*G+ee),Z[oe].x=W[ne]+(W[ne]-W[ne-1])*te,Z[oe].y=K[ne]-0.25*(K[ne-1]-K[ne+1])*te)}const F=I(27),O=I(78),$={sgOptions:{windowSize:9,polynomial:3},minMaxRatio:2.5e-4,broadRatio:0,maxCriteria:!0,smoothY:!0,realTopDetection:!1,heightFactor:0,boundaries:!1,derivativeThreshold:-1};D.exports=function(Z,W,K){K=F({},$,K);let Q=K.sgOptions;const G=[].concat(W);if(!('noiseLevel'in K)){var ee=0,te=_NumberMAX_VALUE,ne;for(let He=0;He<Z.length-1;++He)ne=_Mathabs(Z[He+1]-Z[He]),ne<te&&(te=ne),ne>ee&&(ee=ne);K.noiseLevel=0.05>(ee-te)/ee?T(G):0}const oe={m:1,b:K.noiseLevel};K.maxCriteria||(oe.m=-1,oe.b*=-1);for(let He=0;He<G.length;He++)G[He]=oe.m*G[He]-oe.b;for(let He=0;He<G.length;He++)0>G[He]&&(G[He]=0);let se=G,ae,le;0.05>(ee-te)/ee?(K.smoothY&&(se=O(G,Z[1]-Z[0],{windowSize:Q.windowSize,polynomial:Q.polynomial,derivative:0})),ae=O(G,Z[1]-Z[0],{windowSize:Q.windowSize,polynomial:Q.polynomial,derivative:1}),le=O(G,Z[1]-Z[0],{windowSize:Q.windowSize,polynomial:Q.polynomial,derivative:2})):(K.smoothY&&(se=O(G,Z,{windowSize:Q.windowSize,polynomial:Q.polynomial,derivative:0})),ae=O(G,Z,{windowSize:Q.windowSize,polynomial:Q.polynomial,derivative:1}),le=O(G,Z,{windowSize:Q.windowSize,polynomial:Q.polynomial,derivative:2}));const de=Z,ue=Z[1]-Z[0];var ce=0,pe=0;for(let He=0;He<se.length;He++)_Mathabs(le[He])>ce&&(ce=_Mathabs(le[He])),_Mathabs(se[He])>pe&&(pe=_Mathabs(se[He]));var he=null,ge=null,me=Array(se.length-2),fe=Array(se.length),ye=Array(se.length),xe=Array(se.length-2),be=0,_e=0,ke=0,je=0;for(let He=1;He<se.length-1;++He)_Mathabs(ae[He])>K.derivativeThreshold&&((ae[He]<ae[He-1]&&ae[He]<=ae[He+1]||ae[He]<=ae[He-1]&&ae[He]<ae[He+1])&&(ge={x:de[He],index:He},0<ue&&null!=he&&(fe[_e++]=he,ye[ke++]=ge)),(ae[He]>=ae[He-1]&&ae[He]>ae[He+1]||ae[He]>ae[He-1]&&ae[He]>=ae[He+1])&&(he={x:de[He],index:He},0>ue&&null!==ge&&(fe[_e++]=he,ye[ke++]=ge))),le[He]<le[He-1]&&le[He]<le[He+1]&&(me[be++]=He,xe[je++]=_Mathabs(le[He])<=K.broadRatio*ce);me.length=be,fe.length=_e,ye.length=ke,xe.length=je;let we=Array(me.length),Ce=0,ve=-1,Se,De,Ee,Ae,Ie;for(let He=0;He<me.length;++He){De=de[me[He]],Se=-1;let Pe=ve+1;for(Ae=_NumberMAX_VALUE,Ee=0,Ie=!0;-1===Se&&Pe<fe.length&&Ie;)Ee=_Mathabs(De-(fe[Pe].x+ye[Pe].x)/2),Ee<Ae?Ae=Ee:Ie=!1,Ee<_Mathabs(fe[Pe].x-ye[Pe].x)/2&&(Se=Pe,ve=Pe),++Pe;if(-1!==Se&&_Mathabs(se[me[He]])>K.minMaxRatio*pe&&(we[Ce++]={index:me[He],x:De,y:(se[me[He]]+oe.b)/oe.m,width:_Mathabs(ye[Se].x-fe[Se].x),soft:xe[He]},K.boundaries&&(we[Ce-1].left=fe[Se],we[Ce-1].right=ye[Se]),K.heightFactor)){let Te=se[fe[Se].index],Re=se[ye[Se].index];we[Ce-1].height=K.heightFactor*(we[Ce-1].y-(Te+Re)/2)}}we.length=Ce,K.realTopDetection&&R(we,de,se);for(let He=0;He<we.length;He++)we[He].base=K.noiseLevel;return we.sort(function(He,Pe){return He.x-Pe.x}),we}},function(D,E,I){'use strict';D.exports.post=I(125),D.exports.gsd=I(123)},function(D,E,I){'use strict';function P($,Z,W,K,Q){var G=W.length,ee=[],te=[],ne=_Mathsign(W[1]-W[0]);-1===ne&&(Q[0]=W.length-1);for(var oe=_Mathabs(Z-$)/2,se=($+Z)/2,ae=!1,le=Q[0];!ae&&le<G&&0<=le;)_Mathabs(W[le]-se)<=oe?(ee.push(W[le]),te.push(K[le]),le+=ne):1===_Mathsign(se-W[le])?le+=ne:ae=!0;return Q[0]=le,[ee,te]}function R($,Z){var W=[],K=[],Q,G,ee=[$[0].x,Z*$[0].width],te,ne;for(Q=0;Q<$.length;Q++)_Mathabs($[Q].x-ee[0])<Z*$[Q].width+ee[1]?(W.push($[Q]),te=ee[0]+ee[1],$[Q].x+Z*$[Q].width>te&&(te=$[Q].x+Z*$[Q].width),ne=ee[0]-ee[1],$[Q].x-Z*$[Q].width<ne&&(ne=$[Q].x-Z*$[Q].width),ee=[(te+ne)/2,_Mathabs(te-ne)/2]):(K.push({limits:ee,group:W}),W=[$[Q]],ee=[$[Q].x,Z*$[Q].width]);for(K.push({limits:ee,group:W}),Q=K.length-2;0<=Q;Q--)if(_Mathabs(K[Q].limits[0]-K[Q+1].limits[0])<(K[Q].limits[1]+K[Q+1].limits[1])/2){for(G=0;G<K[Q+1].group.length;G++)K[Q].group.push(K[Q+1].group[G]);te=K[Q].limits[0]+K[Q].limits[1],K[Q+1].limits[0]+K[Q+1].limits[1]>te&&(te=K[Q+1].limits[0]+K[Q+1].limits[1]),ne=K[Q].limits[0]-K[Q].limits[1],K[Q+1].limits[0]-K[Q+1].limits[1]<ne&&(ne=K[Q+1].limits[0]-K[Q+1].limits[1]),K[Q].limits=[(te+ne)/2,_Mathabs(te-ne)/2],K.splice(Q+1,1)}return K}var O=I(130);D.exports={optimizePeaks:function($,Z,W,K,Q){var te=[0],G,ee,ne=R($,K),oe=[],se=1;'gaussian'===Q&&(se=1.17741);var ae,le,de;for(G=0;G<ne.length;G++){var ue=ne[G].group;if(1<ue.length){if(ae=P(ne[G].limits[0]-ne[G].limits[1],ne[G].limits[0]+ne[G].limits[1],Z,W,te),5<ae[0].length){le=ue[0].width/1e3,de=[3,100,le,le,le,10*le,10*le,11,9,1];var ce=[];for('gaussian'===Q?ce=O.optimizeGaussianSum(ae,ue,de):'lorentzian'===Q&&(ce=O.optimizeLorentzianSum(ae,ue,de)),ee=0;ee<ce.length;ee++)oe.push({x:ce[ee][0][0],y:ce[ee][1][0],width:ce[ee][2][0]*se})}}else if(ue=ue[0],ae=P(ue.x-K*ue.width,ue.x+K*ue.width,Z,W,te),5<ae[0].length){le=ue.width/1e3,de=[3,100,le,le,le,10*le,10*le,11,9,1];var pe=[];'gaussian'===Q?pe=O.optimizeSingleGaussian([ae[0],ae[1]],ue,de):'lorentzian'===Q&&(pe=O.optimizeSingleLorentzian([ae[0],ae[1]],ue,de)),oe.push({x:pe[0][0],y:pe[1][0],width:pe[2][0]*se})}}return oe},joinBroadPeaks:function($,Z){var W=Z.width,K=[],Q=0,G=0,ee=1;for(let se=$.length-1;0<=se;se--)$[se].soft&&K.push($.splice(se,1)[0]);K.push({x:_NumberMAX_VALUE});var te=[[K[0].x,K[0].y]],ne=[0];for(let se=1;se<K.length;se++)if(_Mathabs(K[se-1].x-K[se].x)<W)te.push([K[se].x,K[se].y]),K[se].y>Q&&(Q=K[se].y,G=se),ne.push(se),ee++;else{if(2<ee){var oe=O.optimizeSingleLorentzian(te,{x:K[G].x,y:Q,width:_Mathabs(te[0][0]-te[te.length-1][0])});$.push({x:oe[0][0],y:oe[1][0],width:oe[2][0],soft:!1})}else ne.map(function(ae){$.push(K[ae])});te=[[K[se].x,K[se].y]],ne=[se],Q=K[se].y,G=se,ee=1}return $.sort(function(se,ae){return se.x-ae.x}),$}}},function(D){'use strict';D.exports=function(T,R,F){let O='';if(!F||!F.damping||0>=F.damping)O='The damping option must be a positive number';else if(!T.x||!T.y)O='The data parameter must have x and y elements';else if(!Array.isArray(T.x)||2>T.x.length||!Array.isArray(T.y)||2>T.y.length)O='The data parameter elements must be an array with more than 2 points';else{let $=T.x.length,Z=F.initialValues;if($!==T.y.length&&(O='The data parameter elements must have the same size'),!Array.isArray(Z))throw new Error('initialValues must be an array')}return O}},function(D){'use strict';D.exports=function(T,R,F){var O=0;const $=F(R);for(var Z=0;Z<T.x.length;Z++)O+=_Mathabs(T.y[Z]-$(T.x[Z]));return O}},function(D,E,I){'use strict';const T=I(127),R=I(129),F=I(126),O={damping:void 0,gradientDifference:0.1,initialValues:void 0,maxIterations:100,errorTolerance:0.01};D.exports=function($,Z,W){W=Object.assign({},O,W);let K=F($,Z,W);if(''!==K)throw new RangeError(K);for(var Q=W.initialValues?W.initialValues:Array(Z.length).fill(1),G=T($,Q,Z),ee=G<=W.errorTolerance,te=0;te<W.maxIterations&&!ee;te++)Q=R($,Q,W.damping,W.gradientDifference,Z),G=T($,Q,Z),ee=G<=W.errorTolerance;return{parameterValues:Q,parameterError:G,iterations:te}}},function(D,E,I){'use strict';function P(Z,W,K,Q,G){const ee=K.length,te=Z.x.length;for(var ne=Array(ee),oe=0;oe<ee;oe++){ne[oe]=Array(te);var se=K.concat();se[oe]+=Q;for(var ae=G(se),le=0;le<te;le++)ne[oe][le]=W[le]-ae(Z.x[le])}return new O(ne)}function T(Z,W){const K=Z.x.length;for(var Q=Array(K),G=0;G<K;G++)Q[G]=Z.y[G]-W[G];return new O([Q])}const F=I(86),O=F.default,$=F.inverse;D.exports=function(Z,W,K,Q,G){var ee=O.eye(W.length).mul(K*Q*Q),te=Z.x.length,ne=Array(te);const oe=G(W);for(var se=0;se<te;se++)ne[se]=oe(Z.x[se]);var ae=P(Z,ne,W,Q,G),le=T(Z,ne).transposeView(),de=$(ee.add(ae.mmul(ae.transposeView())));return W=new O([W]),W=W.sub(de.mmul(ae).mmul(le).mul(Q).transposeView()),W.to1DArray()}},function(D,E,I){'use strict';function P(te){return(ne)=>{for(var oe=te.length,le=0,de=0,se,ae;de<oe;de+=3)ae=_Mathpow(te[de+2]/2,2),se=te[de+1]*ae,le+=se/(_Mathpow(ne-te[de],2)+ae);return le}}function T(te){return(ne)=>{for(var oe=te.length,ae=0,le=0,se;le<oe;le+=3)se=0.5*(te[le+2]*te[le+2]),ae+=te[le+1]*_Mathexp(-(ne-te[le])*(ne-te[le])/se);return ae}}function R([te,ne,oe]){var se=ne*_Mathpow(0.5*oe,2);return(ae)=>se/(_Mathpow(ae-te,2)+_Mathpow(0.5*oe,2))}function F([te,ne,oe]){return(ae)=>ne*_Mathexp(-(ae-te)*(ae-te)/(0.5*(oe*oe)))}function O(te,ne,oe={}){var se=[ne.x,ne.y,ne.width];oe=Object.assign({},ee,oe,{initialValues:se});var ae=G(te,R,oe);return ae.parameterValues}function $(te,ne,oe={}){var se=[ne.x,ne.y,ne.width];oe=Object.assign({},ee,oe,{initialValues:se});var ae=G(te,F,oe);return ae.parameterValues}var G=I(128);const ee={damping:0.01,errorTolerance:1e-4,maxIterations:1e3};D.exports.optimizeSingleLorentzian=O,D.exports.optimizeLorentzianSum=function(te,ne,oe={}){for(var se=ne.length,ae=Array(3*se),le=0,de=0;de<se;de++,le+=3)ae[le]=ne[de].x,ae[le+1]=1,ae[le+2]=ne[de].width;oe=Object.assign({},ee,oe,{initialValues:ae});var ue=G(te,P,oe);return ue.parameterValues},D.exports.optimizeSingleGaussian=$,D.exports.optimizeGaussianSum=function(te,ne,oe={}){for(var se=ne.length,ae=Array(3*se),le=0,de=0;de<se;de++,le+=3)ae[le]=ne[de].x,ae[le+1]=ne[de].y,ae[le+2]=ne[de].width;te.y=te.y.map((ce)=>ce),oe=Object.assign({},ee,oe,{initialValues:ae});var ue=G(te,T,oe).parameterValues;return ue},D.exports.singleGaussian=F,D.exports.singleLorentzian=R,D.exports.sumOfGaussians=T,D.exports.sumOfLorentzians=P,D.exports.optimizeGaussianTrain=function(te,ne,oe={}){oe=Object.assign({},ee,oe);for(var se=te.x,ae=te.y,le=_Mathmax(ae),de=0,ue=se.length,ge=[],fe=0,ce,pe,he,me;fe<ne.length;fe++){for(ce=ne[fe].x-1.5*ne[fe].width;se[de++]<ce&&de<ue;);for(ce=ne[fe].x+1.5*ne[fe].width,pe=[],he=[];se[de]<=ce&&de<ue;)pe.push(se[de][0]),he.push(ae[de][0]*le),de++;me=$({x:pe,y:he},ne[fe],oe),me?ge.push({x:me[0],y:me[1],width:me[2],opt:!0}):ge.push({x:ne[fe].x,y:ne[fe].y,width:ne[fe].width,opt:!1})}return ge},D.exports.optimizeLorentzianTrain=function(te,ne,oe={}){oe=Object.assign({},ee,oe);for(var se=0,ae=ce.length,ce=te.x,pe=te.y,he=Math,ge=[],fe=0,le,de,ue,me;fe<ne.length;fe++){for(le=ne[fe].x-1.5*ne[fe].width;ce[se++]<le&&se<ae;);for(le=ne[fe].x+1.5*ne[fe].width,de=[],ue=[];ce[se]<=le&&se<ae;)de.push(ce[se][0]),ue.push(pe[se][0]*he),se++;me=O({x:de,y:ue},ne[fe],opts),me?ge.push({x:me[0],y:me[1],width:me[2],opt:!0}):ge.push({x:ne[fe].x,y:ne[fe].y,width:ne[fe].width,opt:!1})}return ge}},function(D,E,I){'use strict';var P=I(16),T=I(17),R=I(120),F=I(107);class O{constructor($,Z,W){this.chemicalShifts=$,this.couplingConstants=Z,this.multiplicity=W,this.nSpins=$.length,this._initConnectivity(),this._initClusters()}static fromSpinusPrediction($){for(var Z=$.split('\n'),W=Z.length-1,K=Array(W),Q=Array(W),G={},ee=P.zeros(W,W),te=0,ne;te<W;te++)ne=Z[te].split('\t'),K[te]=+ne[2],G[ne[0]-1]=te,Q[te]=+ne[5];for(var oe=0;oe<W;oe++){ne=Z[oe].split('\t');var se=(ne.length-4)/3;for(de=0;de<se;de++){var ae=ne[4+3*de]-1,le=G[ae];ee[oe][le]=+ne[6+3*de]}}for(var de=0;de<W;de++)for(var ue=de;ue<W;ue++)ee[de][ue]=ee[ue][de];return new O(K,ee,T(W,2))}static fromPrediction($){var Z=O.ungroupAtoms($),W=Z.length,K=Array(W),Q=P.zeros(W,W),G=Array(W),ee={},te,ne,oe;for(te=0;te<W;te++)K[te]=Z[te].delta,ee[Z[te].atomIDs[0]]=te;for(te=0;te<W;te++){for(K[te]=Z[te].delta,oe=Z[te].j,ne=0;ne<oe.length;ne++)Q[ee[Z[te].atomIDs[0]]][ee[oe[ne].assignment]]=oe[ne].coupling,Q[ee[oe[ne].assignment]][ee[Z[te].atomIDs[0]]]=oe[ne].coupling;G[te]=Z[te].integral+1}return new O(K,Q,G)}static ungroupAtoms($){var Z=[];return $.forEach((W)=>{for(var K=W.atomIDs,Q=0,G;Q<K.length;Q++)G=JSON.parse(JSON.stringify(W)),G.atomIDs=[K[Q]],G.integral=1,Z.push(G)}),Z}_initClusters(){this.clusters=R(this.connectivity,{out:'indexes'})}_initConnectivity(){for(var $=this.couplingConstants,Z=P.ones($.length,$.length),W=0;W<$.length;W++)for(var K=W;K<$[W].length;K++)0===$[W][K]&&(Z[W][K]=0,Z[K][W]=0);this.connectivity=Z}_calculateBetas($,Z){var W=P.zeros($.length,$.length),K,Q;for(K=0;K<$.rows;K++)for(Q=K;Q<$.columns;Q++)0==this.chemicalShifts[K]-this.chemicalShifts[Q]?K!==Q&&0===$[K][Q]&&(W[K][Q]=1,W[Q][K]=1):(W[K][Q]=1-_Mathabs($[K][Q]/((this.chemicalShifts[K]-this.chemicalShifts[Q])*Z)),W[Q][K]=W[K][Q]);return W}ensureClusterSize($){var Z=this._calculateBetas(this.couplingConstants,$.frequency||400),W=F.agnes(Z,{isDistanceMatrix:!0}),K=[];this._splitCluster(W,K,$.maxClusterSize||8,!1);var Q=this._mergeClusters(K);this.nClusters=Q.length,this.clusters=Array(Q.length);for(var G=0;G<this.nClusters;G++){this.clusters[G]=[];for(var ee=0;ee<this.nSpins;ee++)0!==Q[G][ee]&&(0>Q[G][ee]?this.clusters[G].push(-(ee+1)):this.clusters[G].push(ee))}}_splitCluster($,Z,W,K){if(!K&&$.index.length<=W)Z.push(this._getMembers($));else{var Q=!0,G=!1,ee;try{for(var te=$.children[Symbol.iterator](),ne,oe;!(Q=(ne=te.next()).done);Q=!0)if(oe=ne.value,!isNaN(oe.index)||oe.index.length<=W){for(var se=this._getMembers(oe),ae=0,le=0;le<this.nSpins;le++)if(1===se[le]){ae++;for(var de=0;de<this.nSpins;de++)1===this.connectivity[le][de]&&0===se[de]&&(se[de]=-1,ae++)}ae<=W?Z.push(se):isNaN(oe.index)?this._splitCluster(oe,Z,W,!0):(se[oe.index]=2,Z.push(se))}else this._splitCluster(oe,Z,W,!1)}catch(ue){G=!0,ee=ue}finally{try{!Q&&te.return&&te.return()}finally{if(G)throw ee}}}}_getMembers($){for(var Z=Array(this.nSpins),W=0;W<this.nSpins;W++)Z[W]=0;if(!isNaN($.index))Z[1*$.index]=1;else{var K=!0,Q=!1,G;try{for(var ee=$.index[Symbol.iterator](),te,ne;!(K=(te=ee.next()).done);K=!0)ne=te.value,Z[1*ne.index]=1}catch(oe){Q=!0,G=oe}finally{try{!K&&ee.return&&ee.return()}finally{if(Q)throw G}}}return Z}_mergeClusters($){var Z=0,W,K,Q,G,ee,te,ne;for(Q=$.length-1;0<=Q;Q--){for(W=$[Q],Z=W.length,ee=0;ee<Z&&-1!==W[ee++];);if(ee<Z)for(G=$.length-1;G>=Q+1;G--){for(K=$[G],ee=0,te=0,ne=0;ee<Z;)-1==W[ee]*K[ee]&&te++,(0!==W[ee]||0!==K[ee])&&ne++,ee++;if(0<te&&ne<=this.maxClusterSize){for(ee=0;ee<Z;)1===K[ee]?W[ee]=1:-1===K[ee]&&1!==W[ee]&&(W[ee]=-1),ee++;$.splice(G,1),G++}}}return $}}D.exports=O},function(D,E,I){'use strict';function P($){for(var Z=($-1)/2,W=Array($),K=Array($),Q=0;Q<$;Q++)W[Q]=$-1-Q-Z,K[Q]=_Mathsqrt(Z*(Z+1)-W[Q]*(W[Q]+1));var G=T(K,1,$,$);for(Q=0;Q<$;Q++)K[Q]=_Mathsqrt(Z*(Z+1)-W[Q]*(W[Q]-1));var ee=T(K,-1,$,$),te=G.clone().add(ee).mul(0.5),ne=ee.clone().mul(-1).add(G).mul(-0.5),oe=T(W,0,$,$);return{x:te,y:ne,z:oe,m:ee,p:G}}function T($,Z,W,K){for(var Q=new F(W,K,{initialCapacity:20}),G=0;G<$.length;G++)0<=G-Z&&G-Z<W&&G<K&&Q.set(G-Z,G,$[G]);return Q}var F=I(39),O=P(2);D.exports=function($){return 2===$?O:P($)}},function(D,E,I){'use strict';function T(te,ne,oe,se,ae,le,de){for(var ue=0|le*(-ne-se)/(ae-se),ce=de.length,pe=0,he=0,ge=ue-ce/2;ge<ue+ce/2;ge++)pe=0|ge,0<=ge&&ge<le&&(te[pe]+=de[he]*oe),he++}function R(te,ne){te.forEachNonZero((oe,se,ae)=>{return oe>se?0:_Mathabs(ae)<=ne?0:ae})}function F(te,ne,oe,se,ae){for(var le=1,de=0;de<ae.length;de++)le*=oe[ae[de]];for(var ue=new Z(le,le),ce=0;ce<ae.length;ce++){for(var pe=ae[ce],he=G(oe[pe]),ge=void 0,me=void 0,fe=1,ye=0;ye<ce;ye++)fe*=oe[ae[ye]];ge=Z.eye(fe),fe=1;for(var xe=ce+1;xe<ae.length;xe++)fe*=oe[ae[xe]];me=Z.eye(fe);var be=te[pe],_e=ge.kroneckerProduct(he.z).kroneckerProduct(me);ue.add(_e.mul(be));for(var ke=0,je;ke<ae.length;ke++)if(je=ae[ke],1===se[pe][je]){for(var we=G(oe[je]),Ce=void 0,ve=void 0,Se=1,De=0;De<ke;De++)Se*=oe[ae[De]];Ce=Z.eye(Se),Se=1;for(var Ee=ke+1;Ee<ae.length;Ee++)Se*=oe[ae[Ee]];ve=Z.eye(Se);var Ae=ge.kroneckerProduct(he.x).kroneckerProduct(me).mmul(Ce.kroneckerProduct(we.x).kroneckerProduct(ve));Ae.add(ge.kroneckerProduct(he.y).kroneckerProduct(me).mul(-1).mmul(Ce.kroneckerProduct(we.y).kroneckerProduct(ve))),Ae.add(ge.kroneckerProduct(he.z).kroneckerProduct(me).mmul(Ce.kroneckerProduct(we.z).kroneckerProduct(ve))),ue.add(Ae.mul(ne[pe][je]/2))}}return ue}function O(te,ne,oe){for(var se=Array(oe),le=0;le<oe;le++)se[le]=te+le*((ne-te)/(oe-1));return se}var $=I(16),Z=I(39),W=I(33),K=I(42).asc,Q=I(17),G=I(132),ee=0.01;D.exports=function(te,ne){var oe,se,ae=ne.frequency||400,le=(ne.from||0)*ae,de=(ne.to||10)*ae,ue=ne.lineWidth||1,ce=ne.nbPoints||1024,pe=ne.maxClusterSize||10,he=ne.output||'y',ge=te.chemicalShifts.slice();for(oe=0;oe<ge.length;oe++)ge[oe]*=ae;var me=ce*ue/_Mathabs(de-le)/2.355,fe=20*me,ye=0|fe,xe=Array(ye),be=fe/2;for(oe=0;oe<ye;oe++)xe[oe]=1e12*_Mathexp(-((oe-be)*(oe-be))/(2*(me*me)));for(var ke=new Q(ce,0),je=te.multiplicity,we=function(){var Te=te.clusters[Ce];for(ve=Array(Te.length),oe=0;oe<Te.length;oe++)ve[oe]=0>Te[oe]?-Te[oe]-1:Te[oe];Se=1,De=0;var Re=[],Fe=[];if(Te.length>pe){for(Ee=0;0>Te[Ee++];);for(Ee=Te[Ee-1],Re.push(-ge[Ee]),oe=0;oe<Te.length;oe++)if(0>Te[oe])for(Ie=te.couplingConstants[Ee][ve[oe]]/2,Ae=Re.length,se=0;se<Ae;se++)Re.push(Re[se]+Ie),Re[se]-=Ie;for(Re.sort(K),De=Re.length,Se=1,oe=0;oe<De;oe++)Fe.push(1)}else{var Me=F(ge,te.couplingConstants,je,te.connectivity,ve),ze=Me.rows,Oe=new $.DC.EVD(Me),Xe=Oe.eigenvectorMatrix,Ne=Oe.realEigenvalues,Ye=new Z(ze,ze),Le=Te.length;for(Se=0,He=0;He<Le;He++){var Ue=G(je[ve[He]]),Be=1;for(se=0;se<He;se++)Be*=je[ve[se]];var qe=Z.eye(Be);for(Be=1,se=He+1;se<Le;se++)Be*=je[ve[se]];var Ve=Z.eye(Be),$e=qe.kroneckerProduct(Ue.m).kroneckerProduct(Ve);0<=Te[He]?(Ye.add($e.mul(Te[He]+1)),Se++):Ye.add($e.mul(Te[He]))}var Ze=$.zeros(ze,ze);Ye.forEachNonZero((it,nt,ot)=>{if(0<ot)for(var st=Xe[nt],at=0;at<st.length;at++)0!==st[at]&&Ze.set(it,at,Ze.get(it,at)+st[at]);return ot});var We=Ze.clone();Ye.forEachNonZero((it,nt,ot)=>{if(0>ot)for(var st=Xe[nt],at=0;at<st.length;at++)0!==st[at]&&We.set(it,at,We.get(it,at)+st[at]);return ot});var Ke=Xe.transpose();Ze=Ke.mmul(Ze),Ze=new Z(Ze,{threshold:ee}),R(Ze,ee),We=Ke.mmul(We),We=new Z(We,{threshold:ee}),R(We,ee),We.forEachNonZero((it,nt,ot)=>{var st=Ze.get(it,nt);st=_Mathmin(_Mathabs(st),_Mathabs(ot)),st*=st,De+=st;var at=Ne[it]-Ne[nt],lt=W(Re,at,K);0>lt?(Re.splice(-1-lt,0,at),Fe.splice(-1-lt,0,st)):Fe[lt]+=st})}var Qe=Re.length;if(0<Qe){Se/=De;var Je=Re[0],et=Fe[0],tt=1;for(oe=1;oe<Qe;oe++)_Mathabs(Re[oe]-Je/tt)<ue/32?(et+=Fe[oe],Je+=Re[oe],tt++):(T(ke,Je/tt,et*Se,le,de,ce,xe),Je=Re[oe],et=Fe[oe],tt=1);T(ke,Je/tt,et*Se,le,de,ce,xe)}},Ce=0;Ce<te.clusters.length;Ce++){var ve,Se,De,Ee,Ae,Ie,He;we()}if('xy'===he)return{x:O(ne.from,ne.to,ce),y:ke};if('y'===he)return ke;throw new RangeError('wrong output option')}},function(D,E,I){'use strict';function T($,Z,W,K){return(($-Z)*K-1)/(W-Z)}function R($,Z){for(var W=4,K=_Mathmax(0,_Mathround(Z.x-Z.widthX*W)),Q=_Mathmin($[0].length-1,_Mathround(Z.x+Z.widthX*W)),G=_Mathmax(0,_Mathround(Z.y-Z.widthY*W)),ee=_Mathmin($.length-1,_Mathround(Z.y+Z.widthY*W)),te=Z.widthX*Z.widthX,ne=Z.widthY*Z.widthY,oe=G;oe<ee;oe++)for(var se=K;se<Q;se++){var ae=_Mathpow(Z.x-se,2)/te+_Mathpow(Z.y-oe,2)/ne,le=1e4*Z.z*_Mathexp(-ae);$[oe][se]+=le}}var F=I(16),O={H:{frequency:400,lineWidth:10},C:{frequency:100,lineWidth:10}};D.exports=function($,Z){var W,K=$[0].fromAtomLabel,Q=$[0].toLabel,G=Z.frequencyX||O[K].frequency,ee=Z.frequencyY||O[Q].frequency,te=Z.lineWidthX||O[K].lineWidth,ne=Z.lineWidthY||O[Q].lineWidth,ae=$[0].fromChemicalShift,le=$[0].fromChemicalShift,de=$[0].toChemicalShift,ue=$[0].toChemicalShift;for(W=1;W<$.length;)ae=_Mathmin(ae,$[W].fromChemicalShift),le=_Mathmax(le,$[W].fromChemicalShift),de=_Mathmin(de,$[W].toChemicalShift),ue=_Mathmax(ue,$[W].toChemicalShift),W++;null===Z.firstX||isNaN(Z.firstX)||(ae=Z.firstX),null===Z.firstY||isNaN(Z.firstY)||(de=Z.firstY),null===Z.lastX||isNaN(Z.lastX)||(le=Z.lastX),null===Z.lastY||isNaN(Z.lastY)||(ue=Z.lastY);var ce=Z.nbPointsX||512,pe=Z.nbPointsY||512,he=new F(pe,ce).fill(0);for(W=0;W<$.length;){var ge={x:T($[W].fromChemicalShift,ae,le,ce),y:T($[W].toChemicalShift,de,ue,pe),z:$[W].fromAtoms.length+$[W].toAtoms.length,widthX:T(te/G+ae,ae,le,ce),widthY:T(ne/ee+de,de,ue,pe)};R(he,ge),W++}return he}},function(D){'use strict';D.exports=function(T,R){let F=Object.assign({},R);return F?T:T}},function(D,E,I){'use strict';var T=I(139);D.exports=function(R,F){let O=R.activeElement;var $=0;F.nbPoints?$=F.nbPoints:F.brukerFilter&&($=0);var Z=R.getNbSubSpectra();if(0!==$)for(var W=0;W<Z;W++)R.setActiveElement(W),T(R.getYData(),$),F.rotateX&&(T(R.getXData(),$),R.setFirstX(R.getX(0)),R.setLastX(R.getX(R.getNbPoints()-1)));return R.setActiveElement(O),R}},function(D,E,I){'use strict';function T(F,O){var $=F.getParamDouble('$BF1',NaN),Z=F.getParamDouble('$SFO1',NaN),W=F.getParamDouble('$SW',NaN),K=1e6*((Z-$)/$),Q=0.5*W*Z/$;F.setDataType(O),F.setFirstX(K+Q),F.setLastX(K-Q),F.setXUnits('PPM');var G=F.getXData(),ee=K+Q;Q=-2*Q/(G.length-1);for(var te=0;te<G.length;te++)G[te]=ee,ee+=Q}const R=I(58);D.exports=function(F){var O=F.getNbPoints(),$=F.getNbSubSpectra()/2,Z='NMR SPECTRUM',W=R.FFT;1<$&&(Z='nD NMR SPECTRUM'),W.init(O);for(var K=F.getParamDouble('$FCOR',0),Q=0;Q<$;Q++){var G=F.getYData(2*Q),ee=F.getYData(2*Q+1);G[0]*=K,ee[0]*=K,W.fft(G,ee),G=G.concat(G.slice(0,(O+1)/2)),G.splice(0,(O+1)/2),ee=ee.concat(ee.slice(0,(O+1)/2)),ee.splice(0,(O+1)/2),F.setActiveElement(2*Q),T(F,Z),F.setActiveElement(2*Q+1),T(F,Z)}return F.is2D(),F.setActiveElement(0),F}},function(D){'use strict';D.exports=function(T,R,F){R=_NumberisFinite(R)?R:0,F=_NumberisFinite(F)?F:0;for(var O=T.getNbPoints(),$=T.getYData(0),Z=T.getYData(1),W=F/O,K=2*_Mathpow(_Mathsin(W/2),2),Q=_Mathsin(W),G=Math.cos(R),ee=_Mathsin(R),le=0,te,ne,oe,se,ae;le<O;le++)ae=O-le-1,ae=le,oe=$[ae]*G-Z[ae]*ee,se=$[ae]*ee+Z[ae]*G,$[ae]=oe,Z[ae]=se,te=G-(K*G+Q*ee),ne=ee-(K*ee-Q*G),G=te,ee=ne;return T.resetMinMax(),T.putParam('PHC0',R),T.putParam('PHC1',F),T}},function(D){'use strict';function T(R,F){return 0>R&&(R+=F),R>=F&&(R-=F),R}D.exports=function(R,F){var O=R.length;if(F%=O,_Mathabs(F)>O/2&&(F=0<F?F-O:F+O),0!==F)for(var $=0,Z=F,W=O,K=R[$],G=F,ee=0<F?1:-1,Q;0<W;)Z=T(Z,O),Q=R[Z],R[Z]=K,Z+=F,K=Q,W--,Z===G&&(Z=T(Z+ee,O),G=Z,$=T(Z-F,O),K=R[$])}},function(D){'use strict';D.exports=function(T,R){var F=T.getNbSubSpectra(),O,$,Z,W,K,Q;if(0!==R)for(var G=0;G<F;G++){for(T.setActiveElement(G),O=T.getNbPoints(),Q=T.getYData(),K=T.getXData(),$=T.getLastX(),Z=($-K[0])/(O-1),W=O;W<R;W++)Q.push(0),K.push($+Z);R<O&&(Q.splice(R,Q.length-1),K.splice(R,K.length-1)),T.setFirstX(K[0]),T.setLastX(K[K.length-1])}return T.setActiveElement(0),T}},function(D,E,I){'use strict';E.SD=I(10),E.NMR=I(67),E.NMR2D=I(68),E.Ranges=I(23),E.GUI=I(24)},function(D,E,I){'use strict';function P(K,Q,G,ee,te){var ne='',oe=K.getSpectraVariable(0),se=K.getSpectraVariable(1),ae=K.getSpectraVariable(2);ne+='##DATA CLASS= NTUPLES'+O,ne+='##NUM DIM= 2'+O;var le=K.getDataType().trim(),de={},ue;for(ue=0;ue<K.getNbSubSpectra();ue++)K.setActiveElement(ue),de[K.getXUnits()]?de[K.getXUnits()].value++:de[K.getXUnits()]={value:1,index:ue};var ce=Object.keys(de),pe=ce[0],he=0;for(ue=1;ue<ce.length;ue++)de[ce[ue]].value>de[pe].value&&(pe=ce[ue],he=de[ce[ue]].index);var ge=!1;K.setActiveElement(he);var me=0<=K.getDataType().indexOf('NMR');me&&(ne+='##.OBSERVE FREQUENCY= '+K.getParamDouble('observefrequency',0)+O,ne+='##.OBSERVE NUCLEUS= ^'+K.getNucleus()+O,ne+='##$DECIM= '+K.getParamDouble('$DECIM',0)+O,ne+='##$DSPFVS= '+K.getParamDouble('$DSPFVS',0)+O,ne+='##$FCOR= '+_Mathfloor(K.getParamDouble('$FCOR',0))+O,K.containsParam('$SW_h')?ne+='##$SW_h= '+K.getParamDouble('$SW_h',0)+O:K.containsParam('$SW_p')&&(ne+='##$SW_p= '+K.getParamDouble('$SW_p',0)+O),ne+='##$SW= '+K.getParamDouble('$SW',0)+O,ne+='##$TD= '+_Mathfloor(K.getParamDouble('$TD',0))+O,ne+='##$BF1= '+K.getParamDouble('$BF1',0)+O,ne+='##$GRPDLY= '+K.getParamDouble('$GRPDLY',0)+O,ne+='##.DIGITISER RES= '+K.getParamInt('.DIGITISER RES',0)+O,ne+='##.PULSE SEQUENCE= '+K.getParamString('.PULSE SEQUENCE','')+O,ne+='##.SOLVENT NAME= '+K.getSolventName()+O,ne+='##$NUC1= <'+K.getNucleus()+'>'+O,ne+=K.containsParam('2D_X_FREQUENCY')?'##$SFO1= '+K.getParamDouble('2D_X_FREQUENCY',0)+O:'##$SFO1= '+K.getParamDouble('$SFO1',0)+O,K.containsParam('2D_X_OFFSET')&&(ne+='##$OFFSET= '+K.getParamDouble('2D_X_OFFSET',0)+O),K.is2D()&&(ne+='$$Parameters for 2D NMR Spectrum'+O,ne+='##$NUC1= <'+K.getNucleus(2)+'>'+O,K.containsParam('2D_Y_FREQUENCY')&&(ne+='##$SFO1= '+K.getParamDouble('2D_Y_FREQUENCY',0)+O,ne+='##$SFO2= '+K.getParamDouble('2D_Y_FREQUENCY',0)+O,ne+='##$BF2= '+K.getParamDouble('2D_Y_FREQUENCY',0)+O),K.containsParam('2D_Y_OFFSET')&&(ne+='##$OFFSET= '+K.getParamDouble('2D_Y_OFFSET',0)+O),ne+='$$End of Parameters for 2D NMR Spectrum'+O)),ne+='##NTUPLES=\t'+le+O;var fe=1,ye=1;if(!K.is2D()&&1<K.getNbSubSpectra()&&me&&(ge=!0),ge?(ne+='##VAR_NAME=\t'+K.getXUnits()+',\t'+le.substring(4)+'/REAL,\t'+le.substring(4)+'/IMAG'+O,ne+='##SYMBOL=\tX,\tR,\tI'+O,ne+='##VAR_TYPE=\tINDEPENDENT,\tDEPENDENT,\tDEPENDENT'+O,ne+='CSV'!==ee||'PAC'!==ee?'##VAR_FORM=\tAFFN,\tASDF,\tASDF'+O:'##VAR_FORM=\tAFFN,\tAFFN,\tAFFN'+O,ne+='##VAR_DIM=\t'+K.getNbPoints()+',\t'+K.getNbPoints()+',\t'+K.getNbPoints()+O,ne+='##UNITS=\\tHZ,\\t'+K.getYUnits()+',\t'+ae.units+O,ne+='##FACTOR=\t'+1/G+',\t'+1/Q+',\t'+1/Q+O,'PPM'===K.getXUnits()&&(fe=K.observeFrequencyX()),ne+='##FIRST=\t'+K.getFirstX()*fe+',\t'+K.getY(0)+',\t0'+O,ne+='##LAST=\t'+K.getLastX()*fe+',\t'+K.getLastY()+',\t0'+O):(fe=1,K.is2D()?(ne+='##VAR_NAME=\tFREQUENCY1,\tFREQUENCY2,\tSPECTRUM'+O,ne+='##SYMBOL=\tF1,\tF2,\tY'+O,ne+='##.NUCLEUS=\t'+K.getNucleus(2)+',\t'+K.getNucleus(1)+O,ne+='##VAR_TYPE=\tINDEPENDENT,\tINDEPENDENT,\tDEPENDENT'+O,ne+='CSV'!==ee||'PAC'!==ee?'##VAR_FORM=\tAFFN,\tAFFN,\tASDF'+O:'##VAR_FORM=\tAFFN,\tAFFN,\tASDF'+O,ne+='##VAR_DIM=\t'+K.getNbSubSpectra()+',\t'+K.getNbPoints()+',\t'+K.getNbPoints()+O,ne+='##UNITS=\tHZ,\tHZ,\t'+K.getZUnits()+O,'PPM'===K.getXUnits()&&(fe=K.getParamDouble('2D_Y_FREQUENCY',1)),'PPM'===K.getYUnits()&&(ye=K.getParamDouble('2D_X_FREQUENCY',1)),ne+='##FACTOR=\t1,\t'+ye/G+',\t'+1/Q+O,ne+='##FIRST=\t'+K.getParamDouble('firstY',0)*fe+',\t'+K.getFirstX()*ye+',\t'+K.getY(0)+O,ne+='##LAST=\t'+K.getParamDouble('lastY',0)*fe+',\t'+K.getLastX()*ye+',\t'+K.getY(K.getNbPoints()-1)+O):(ne+='##VAR_NAME=\t'+oe.varname+',\t'+se.varname+',\t'+oe.varname+O,ne+='##SYMBOL=\t'+oe.symbol+',\t'+se.symbol+',\t'+ae.symbol+O,ne+='##VAR_TYPE=\t'+oe.vartype+',\t'+se.vartype+',\t'+ae.vartype+O,ne+='CSV'!==ee||'PAC'!==ee?'##VAR_FORM=\tAFFN,\tASDF,\tASDF'+O:'##VAR_FORM=\tAFFN,\tAFFN,\tAFFN'+O,ne+='##VAR_DIM=\t'+oe.vardim+',\t'+se.vardim+',\t'+ae.vardim+O,ne+='##UNITS=\\tHZ,\\t'+K.getYUnits()+',\t'+ae.units+O,'PPM'===K.getXUnits()&&(fe=K.observeFrequencyX()),ne+='##FACTOR=\t'+1/G+',\t'+1/Q+O,ne+='##FIRST=\t'+oe.first*fe+',\t'+se.first+',\t'+ae.first+O,ne+='##LAST=\t'+oe.last*fe+',\t'+se.last+',\t'+ae.last+O)),null!==te)for(var xe=te.length-1;0<=xe;xe--)K.containsParam(te[xe])&&(ne+='##'+te[xe]+'= '+K.getParam(te[xe],'')+O);var be=0,_e=0,ke=1;for(K.is2D()&&me&&(be=K.getParamDouble('firstY',0)*fe,_e=K.getParamDouble('lastY',0)*fe,ke=(_e-be)/(K.getNbSubSpectra()-1)),ue=0;ue<K.getNbSubSpectra();ue++)if(K.setActiveElement(ue),be=K.getParamDouble('firstY',0)*fe+ke*ue,ne+='##PAGE= '+be+O,K.is2D()&&me&&(ne+='##FIRST=\t'+K.getParamDouble('firstY',0)*fe+',\t'+K.getFirstX()*ye+',\t'+K.getY(0)+O),ne+='##DATA TABLE= ',K.isDataClassPeak()){ne+='(XY..XY), PEAKS'+O;for(let Ce=0;Ce<K.getNbPoints();Ce++)ne+=K.getX(Ce)+', '+K.getY(Ce)+O}else if(K.isDataClassXY()){ne+=me?K.is2D()?'(F2++(Y..Y)), PROFILE'+O:0==ue%2?'(X++(R..R)), XYDATA'+O:'(X++(I..I)), XYDATA'+O:'(X++(Y..Y)), XYDATA'+O;var je='',we=Array(K.getNbPoints());for(let Ce=we.length-1;0<=Ce;Ce--)we[Ce]=_Mathround(K.getY(Ce)*Q);je+=R.encode(we,K.getFirstX()*G,K.getDeltaX()*G,ee),ne+=je+O}return ne+='##END NTUPLES= '+le+O,ne+='##END= ',K.setActiveElement(0),ne}function T(K,Q,G,ee,te){var ne='';if(K.isDataClassPeak()&&(ne+='##DATA CLASS= PEAK TABLE'+O),K.isDataClassXY()&&(ne+='##DATA CLASS= XYDATA'+O),K.setActiveElement(0),0<=K.getDataType().indexOf('NMR')&&(ne+='##.OBSERVE FREQUENCY= '+K.getParamDouble('observefrequency',0)+O,ne+='##.OBSERVE NUCLEUS= ^'+K.getNucleus()+O,ne+='##$DECIM= '+_Mathround(K.getParamDouble('$DECIM',0))+O,ne+='##$DSPFVS= '+_Mathround(K.getParamDouble('$DSPFVS',0))+O,ne+='##$FCOR= '+_Mathround(K.getParamDouble('$FCOR',0))+O,ne+='##$SW_h= '+K.getParamDouble('$SW_h',0)+O,ne+='##$SW= '+K.getParamDouble('$SW',0)+O,ne+='##$TD= '+_Mathround(K.getParamDouble('$TD',0))+O,ne+='##$GRPDLY= '+K.getParamDouble('$GRPDLY',0)+O,ne+='##$BF1= '+K.getParamDouble('$BF1',0)+O,ne+='##$SFO1= '+K.getParamDouble('$SFO1',0)+O,ne+='##$NUC1= <'+K.getNucleus()+'>'+O,ne+='##.SOLVENT NAME= '+K.getSolventName()+O),ne+='##XUNITS=\t'+K.getXUnits()+O,ne+='##YUNITS=\t'+K.getYUnits()+O,ne+='##NPOINTS=\t'+K.getNbPoints()+O,ne+='##FIRSTX=\t'+K.getFirstX()+O,ne+='##LASTX=\t'+K.getLastX()+O,ne+='##FIRSTY=\t'+K.getFirstY()+O,ne+='##LASTY=\t'+K.getLastY()+O,K.isDataClassPeak()?(ne+='##XFACTOR=1'+O,ne+='##YFACTOR=1'+O):K.isDataClassXY()&&(ne+='##XFACTOR= '+1/G+O,ne+='##YFACTOR= '+1/Q+O),ne+='##MAXY= '+K.getMaxY()+O,ne+='##MINY= '+K.getMinY()+O,null!==te)for(var oe=te.length-1;0<=oe;oe--)K.containsParam(te[oe])&&(ne+='##'+te[oe]+'= '+K.getParam(te[oe],'')+O);if(K.isDataClassPeak()){ne+='##PEAK TABLE= (XY..XY)'+O;for(var se=0;se<K.getNbPoints();se++)ne+=K.getX(se)+', '+K.getY(se)+O;ne+='##END '}else if(K.isDataClassXY()){ne+='##DELTAX= '+K.getDeltaX()+O,ne+='##XYDATA=(X++(Y..Y))'+O;var ae='',le=Array(K.getNbPoints());for(let de=le.length-1;0<=de;de--)le[de]=_Mathround(K.getY(de)*Q);ae+=R.encode(le,K.getFirstX()*G,K.getDeltaX()*G,ee),ne+=ae+O,ne+='##END= '}return K.setActiveElement(0),ne}const R=I(143),F={MAX_VALUE:_NumberMAX_SAFE_INTEGER,MIN_VALUE:_NumberMIN_SAFE_INTEGER},O='\r\n',$='Cheminfo tools '+I(185).version,Z={encode:'DIFDUP',yFactor:1,type:'SIMPLE',keep:[]};D.exports=class{convert(K,Q){Q=Object.assign({},Z,Q);const G=Q.encode.toUpperCase().trim(),ee=Q.yFactor||1;let te=Q.type;const ne=Q.keep;(null===te||0===te.length)&&(te='SIMPLE');var oe='';K.setActiveElement(0);var se=ee/K.getParamDouble('YFACTOR',1);let ae={};ae=K.is2D()?{min:K.getMinZ(),max:K.getMaxZ()}:K.getMinMaxY(),ae.max*se>=F.MAX_VALUE/2&&(se=F.MAX_VALUE/(2*ae.max)),16>_Mathabs(ae.max-ae.min)*se&&(se=16/_Mathabs(ae.max-ae.min));var le=_Mathabs(1/K.getDeltaX());return oe+='##TITLE= '+K.getTitle()+O,oe+='##JCAMP-DX= 5.00\t$$'+$+O,oe+='##OWNER= '+K.getParamString('##OWNER=','')+O,oe+='##DATA TYPE= '+K.getDataType()+O,'NTUPLES'===te&&(oe+=P(K,se,le,G,ne)),'SIMPLE'===te&&(oe+=T(K,se,le,G,ne)),oe}}},function(D){'use strict';function T(de,ue,ce){return R(de,ue,ce,',')}function R(de,ue,ce,pe){pe||(pe=' ');for(var he='',ge=0,me=de.length,fe;ge<me-7;){for(he+=_Mathceil(ue+ge*ce),fe=0;8>fe;fe++)he+=pe+de[ge++];he+=G}if(ge<me)for(he+=_Mathceil(ue+ge*ce),fe=ge;fe<me;fe++)he+=pe+de[fe];return he}function F(de,ue,ce){for(var pe='',he=0,ge=de.length,me;he<ge-7;){for(pe+=_Mathceil(ue+he*ce),me=0;8>me;me++)pe+=0>de[he]?'-'+de[he++]:'+'+de[he++];pe+=G}if(he<ge)for(pe+=_Mathceil(ue+he*ce),me=he;me<ge;me++)pe+=0>de[me]?'-'+de[me]:'+'+de[me];return pe}function O(de,ue,ce){for(var pe='',he=0,ge=de.length,me;he<ge-10;){for(pe+=_Mathceil(ue+he*ce),me=0;10>me;me++)pe+=W(de[he++].toString());pe+=G}if(he<ge)for(pe+=_Mathceil(ue+he*ce),me=he;me<ge;me++)pe+=W(de[me].toString());return pe}function $(de,ue,ce){var pe=0,he=0,ge=0,fe='',ye='',xe='',be=Array(de.length-1),me;for(me=0;me<be.length;me++)be[me]=de[me+1]-de[me];for(var _e=be.length;he<_e;)0==ge?(ye=_Mathceil(ue+he*ce)+W(de[he].toString())+K(be[he].toString()),fe+=ye,ge+=ye.length):be[he-1]===be[he]?pe++:0<pe?(pe++,ye=Q(pe.toString()),fe+=ye,ge+=ye.length,pe=0,he--):(ye=K(be[he].toString()),ye.length+ge<le?(fe+=ye,ge+=ye.length):(fe+=G,xe=_Mathceil(ue+he*ce)+W(de[he].toString())+ye,fe+=xe,ge=xe.length)),he++;return 0<pe&&(fe+=Q((pe+1).toString())),fe+=G+_Mathceil(ue+he*ce)+W(de[he].toString()),fe}function Z(de,ue,ce){var pe=0,he=0,me='',fe='',ye='',xe=Array(de.length-1),ge;for(ge=0;ge<xe.length;ge++)xe[ge]=de[ge+1]-de[ge];for(var be=xe.length;pe<be;)0==he?(fe=_Mathceil(ue+pe*ce)+W(de[pe].toString())+K(xe[pe].toString()),me+=fe,he+=fe.length):(fe=K(xe[pe].toString()),fe.length+he<le?(me+=fe,he+=fe.length):(me+=G,ye=_Mathceil(ue+pe*ce)+W(de[pe].toString())+fe,me+=ye,he=ye.length)),pe++;return me+=G+_Mathceil(ue+pe*ce)+W(de[pe].toString()),me}function W(de){var ue='';return'-'===de.charAt(0)?(ue+=ee[ne][de.charAt(1)],2<de.length&&(ue+=de.substring(2))):(ue+=ee[te][de.charAt(0)],1<de.length&&(ue+=de.substring(1))),ue}function K(de){var ue='';return'-'===de.charAt(0)?(ue+=ee[se][de.charAt(1)],2<de.length&&(ue+=de.substring(2))):(ue+=ee[oe][de.charAt(0)],1<de.length&&(ue+=de.substring(1))),ue}function Q(de){var ue='';return ue+=ee[ae][de.charAt(0)],1<de.length&&(ue+=de.substring(1)),ue}const G='\r\n',ee=[['0','1','2','3','4','5','6','7','8','9'],['@','A','B','C','D','E','F','G','H','I'],['@','a','b','c','d','e','f','g','h','i'],['%','J','K','L','M','N','O','P','Q','R'],['%','j','k','l','m','n','o','p','q','r'],[' ','S','T','U','V','W','X','Y','Z','s']],te=1,ne=2,oe=3,se=4,ae=5,le=100;D.exports={encode:function(de,ue,ce,pe){return'FIX'===pe?R(de,ue,ce):'SQZ'===pe?O(de,ue,ce):'DIF'===pe?Z(de,ue,ce):'DIFDUP'===pe?$(de,ue,ce):'CSV'===pe?T(de,ue,ce):'PAC'===pe?F(de,ue,ce):Z(de,ue,ce)},fixEncoding:R,commaSeparatedValuesEncoding:T,packedEncoding:F,squeezedEncoding:O,differenceDuplicateEncoding:$,differenceEncoding:Z}},function(D,E,I){'use strict';function P(O,$,Z){for(var G=$.length,W,K,Q;G--;)for(W=O.length;W--;)O[W].asymmetric||(K=Z.error+O[W].width,Q=_Mathabs($[G].shift-O[W].x),Q<K&&O.splice(W,1))}const R=I(66),F=['solvent_residual_peak','H2O','TMS'];D.exports=function(O,$={}){var Z=$.solvent,W=Z===void 0?'':Z,K=$.error,Q=K===void 0?0.025:K;W=W.toLowerCase(),'(cd3)2so'===W&&(W='dmso');var G=R[W];if(G){var ee=!0,te=!1,ne;try{for(var oe=F[Symbol.iterator](),se;!(ee=(se=oe.next()).done);ee=!0){let ae=se.value,le=G[ae.toLowerCase()];P(O,le,{error:Q})}}catch(ae){te=!0,ne=ae}finally{try{!ee&&oe.return&&oe.return()}finally{if(te)throw ne}}}return O}},function(D){'use strict';function P(se,ae){var le=se.peaksComp,de=le.length;se.startX=le[0].x/se.observe-le[0].width,se.stopX=le[de-1].x/se.observe+le[de-1].width,se.integralData.from=le[0].x/se.observe-3*le[0].width,se.integralData.to=le[de-1].x/se.observe+3*le[de-1].width,se.maskPattern=se.mask2,se.multiplicity=T(se,ae),se.pattern=se.multiplicity}function T(se,ae){var de,ue='',ce=1,pe=[];if(ae&&0<ae.length){for(ae.sort(function(he,ge){return ge-he}),de=0;de<ae.length-1;de++)_Mathabs(ae[de]-ae[de+1])<0.05?ce++:(pe.push({coupling:_Mathabs(ae[de]),multiplicity:ee[ce]}),ue+=ee[ce],ce=1);pe.push({coupling:_Mathabs(ae[de]),multiplicity:ee[ce]}),ue+=ee[ce],se.nmrJs=pe}else ue='s',16<_Mathabs(se.startX-se.stopX)*se.observe&&(ue='br s');return ue}function R(se){var ae=_Mathpow(2,se.length),le,de,ue=[{x:0,intensity:ae}];for(le=0;le<se.length;le++)for(de=ue.length-1;0<=de;de--)ue.push({x:ue[de].x+se[le]/2,intensity:ue[de].intensity/2}),ue[de].x-=se[le]/2,ue[de].intensity/=2;for(ue.sort(function(pe,he){return pe.x-he.x}),de=ue.length-2;0<=de;de--)0.1>_Mathabs(ue[de].x-ue[de+1].x)&&(ue[de].intensity+=ue[de+1].intensity,ue.splice(de+1,1));return ue}function F(se,ae){for(var le=_Mathceil(0.5*se.values.length),de=se.values.length,ue=0,ce,pe;ue!==ae;){for(pe=!1;!pe;)if(pe=!0,se.currentIndex[se.active]++,se.currentIndex[se.active]>=se.values[se.active].length){if(se.active+1===le)return null;se.currentIndex[se.active]=0,pe=!1,se.active++}else se.active=0;for(ue=0,ce=0;ce<le;ce++)ue+=2*se.values[ce][se.currentIndex[ce]];0!=se.values.length%2&&(ue-=se.values[le-1][se.currentIndex[le-1]])}if(ue===ae){var he=Array(de);for(ce=0;ce<le;ce++)he[ce]=se.values[ce][se.currentIndex[ce]],he[de-ce-1]=se.values[ce][se.currentIndex[ce]];return he}return null}function O(se){var ae=Array(se.length),le=Array(se.length),de,ue;ae[0]=[1],ae[se.length-1]=[1],le[0]=-1,le[se.length-1]=0;for(var ce=1;ce<se.length-1;ce++){de=_Mathround(0.85*se[ce].intensity),ue=_Mathround(1.15*se[ce].intensity),ae[ce]=[];for(var pe=de;pe<=ue;pe++)ae[ce].push(pe);le[ce]=0}return{values:ae,currentIndex:le,active:0}}function $(se,ae,le){var de=Z(se,ae,le),ue=se.peaksComp,ce=se.mask,pe=se.delta1;se.delta1=(se.peaks[0].x+se.peaks[se.peaks.length-1].x)/2;var he=Z(se,ae,le);return se.peaksComp.length>ue.length?he:(se.delta1=pe,se.peaksComp=ue,se.mask=ce,de)}function Z(se,ae,le){var me=Array(se.peaks.length),de,ue,ce,pe,he,ge;for(ge=0;ge<me.length;ge++)me[ge]={x:se.peaks[ge].x*se.observe,intensity:se.peaks[ge].intensity,width:se.peaks[ge].width};for(ge=me.length-2;0<=ge;ge--)0.25>_Mathabs(me[ge].x-me[ge+1].x)&&(me[ge].x=me[ge].x*me[ge].intensity+me[ge+1].x*me[ge+1].intensity,me[ge].intensity+=me[ge+1].intensity,me[ge].x/=me[ge].intensity,me[ge].intensity/=2,me[ge].width+=me[ge+1].width,me.splice(ge+1,1));se.peaksComp=me;var fe=me.length,ye=Array(fe);se.mask=ye;var xe=0,be=me.length-1,_e=se.delta1*se.observe,ke=[(me[0].x+me[fe-1].x)/2,1];ae=W(_Mathabs(_e-ke[0]));var je=0;for(ge=0;ge<fe;ge++)ye[ge]=!0,je+=se.peaks[ge].intensity;for(;xe<=be;){if(ye[xe]=!0,ye[be]=!0,xe==be)2<fe&&_Mathabs(me[xe].x-_e)>ae&&(ye[xe]=!1);else if(de=_Mathmax(me[xe].intensity,me[be].intensity),ue=_Mathmin(me[xe].intensity,me[be].intensity),pe=de/ue,pe>te)me[xe].intensity===ue?(ye[xe]=!1,be++):(ye[be]=!1,xe--);else{var we=_Mathabs(me[xe].x-_e),Ce=_Mathabs(me[be].x-_e);_Mathabs(we-Ce)<ae?(ce=_Mathmin(me[xe].intensity,me[be].intensity),he=_Mathmin(me[xe].width,me[be].width),me[xe].intensity=me[be].intensity=ce,me[xe].width=me[be].width=he,ke=[ke[0]+(me[be].x+me[xe].x)/2,ke[1]+1]):_Mathmax(we,Ce)===Ce?(ye[be]=!1,xe--):(ye[xe]=!1,be++)}if(xe++,be--,1===le&&(_e=Q(me,ye),isNaN(_e)))return 0;ae=W(_Mathabs(_e-ke[0]/ke[1]))}for(ge=fe-1;0<=ge;ge--)!1===ye[ge]&&me.splice(ge,1);if(_e=Q(me),isNaN(_e))return 0;se.delta1=_e/se.observe;let ve=0,Se=0;if(1<me.length){for(ge=_Mathceil(me.length/2)-1;0<=ge;ge--)ve+=(3+_Mathmin(_Mathabs(me[ge].x-_e),_Mathabs(me[me.length-1-ge].x-_e)))/(3+_Mathmax(_Mathabs(me[ge].x-_e),_Mathabs(me[me.length-1-ge].x-_e)))*me[ge].intensity,Se+=me[ge].intensity;ve/=Se}else 1===me.length&&(ve=1);var De=0;for(ge=0;ge<me.length;ge++)De+=me[ge].intensity;if(ve-=0.12*((je-De)/je),0.8<ve&&0.97>ve&&2>le)return Z(se,oe,2);if(1<me.length){let Ee;for(ge=_Mathceil(me.length/2)-1;0<=ge;ge--)Ee=(me[ge].x-me[me.length-1-ge].x)/2,me[ge].x=_e+Ee,me[me.length-1-ge].x=_e-Ee}return ve}function W(se){var ae=2.5*se;return 0.75>ae&&(ae=0.75),3<ae&&(ae=3),ae}function K(se,ae){for(var le=JSON.parse(JSON.stringify(se.peaksComp)),de=0,ue=0,ce=0;ce<le.length;ce++)de+=le[ce].intensity;de=_Mathpow(2,ae)/de,se.mask2=JSON.parse(JSON.stringify(se.mask));var pe=se.mask2.length-1;for(ce=le.length-1;0<=ce;ce--){for(le[ce].intensity*=de;0<=pe&&!1===se.mask2[pe];)pe--;0.75>le[ce].intensity?(le.splice(ce,1),se.mask2[pe]=!1):ue+=le[ce].intensity,pe--}for(ue=_Mathpow(2,ae)/ue,ce=le.length-1;0<=ce;ce--)le[ce].intensity*=ue;return le}function Q(se,ae){var le=0,de=0,ue,ce;if(ae)for(ue=0;ue<se.length;ue++)!0===ae[ue]&&(ce=G(se[ue]),le+=ce,de+=ce*se[ue].x);else for(ue=0;ue<se.length;ue++)ce=G(se[ue]),le+=ce,de+=ce*se[ue].x;return de/le}function G(se){return _Mathabs(1.57*(se.intensity*se.width))}const ee=['s','d','t','q','quint','h','sept','o','n'];var te=1.5,oe=1;D.exports={compilePattern:function(ae){if(ae.multiplicity='m',ae.symRank=$(ae,2.5,1),ae.asymmetric=!0,0.95<=ae.symRank&&32>ae.peaksComp.length){ae.asymmetric=!1;var ge=1,me=[],le,de,ue,ce,pe,he;for(ue=0;9>ue;ue++){var fe=K(ae,ue),ye=!1;if(1===fe.length&&0===ue)ye=!0;else if(1>=fe.length)continue;var xe=O(fe);pe=_Mathpow(2,ue);for(var be=null,_e=1,ke;!ye&&null!==(be=F(xe,pe))&&400>_e;){for(ke=Array(be.length),ge=1,le=0;le<be.length;le++)for(ke[le]=Array(be[le]),de=0;de<be[le];de++)ke[le][de]=ge++;me=[],de=1,me.push(fe[1].x-fe[0].x),ce=fe[0].x,ke[0].splice(0,1),ke[1].splice(0,1),ge=1;var je=2;for(he=_Mathpow(2,ue)-1;me.length<ue&&je<he&&ge<fe.length;){for(_e+=1,de++;ge<fe.length&&0===ke[ge].length;)ge++;if(ge<fe.length){me.push(fe[ge].x-fe[0].x),ke[ge].splice(0,1),je++;for(var we=2,Ce;we<=de;we++){for(Ce=0,le=0;le<we;le++)Ce+=me[le];for(le=1;le<ke.length;le++)if(0.25>_Mathabs(fe[le].x-(ce+Ce))){ke[le].splice(0,1),je++;break}}}}var ve=R(me);for(ye=!0,le=0;le<ve.length;le++)ve[le].intensity!==be[le]&&(ye=!1)}ye&&P(ae,me)}}for(le=0;le<ae.peaksComp.length;le++)ae.peaksComp[le].x/=ae.observe}}},function(D,E,I){'use strict';function T(O,$){for(var Z=0,W=O.length;Z<W;Z++)_Mathabs(O[Z].y)<$&&O.splice(Z,1);return O}const R=I(124),F={thresholdFactor:1,optimize:!1,minMaxRatio:0.01,broadRatio:2.5e-4,smoothY:!0,widthFactor:4,realTop:!0,functionName:'gaussian',broadWidth:0.25,sgOptions:{windowSize:9,polynomial:3}};D.exports=function(O,$={}){$=Object.assign({},F,$,{optimize:!1,broadWidth:!1}),$.noiseLevel||($.noiseLevel=_Mathabs(O.getNoiseLevel())*$.thresholdFactor);var Z=O.getXYData();$.from&&$.to&&(Z=O.getVector($.from,$.to));var W=R.gsd(Z[0],Z[1],$);return $.broadWidth&&(W=R.post.joinBroadPeaks(W,{width:$.broadWidth})),$.optimize&&(W=R.post.optimizePeaks(W,Z[0],Z[1],$)),T(W,$.noiseLevel)}},function(D,E,I){'use strict';function T(K){return K.isHomoNuclear()?1.5:3}function R(K,Q,G){var ee=Q.observeFrequencyX(),te=Q.observeFrequencyY(),ne=Q.getFirstY(),oe=Q.getDeltaY(),se;for(se=K.length-1;0<=se;se--)K[se].x=Q.arrayPointToUnits(K[se].x),K[se].y=ne+oe*K[se].y,(-1>K[se].y||210<=K[se].y)&&K.splice(se,1);var ae=[],le=0;for(G*=G,se=0;se<K.length;se++)for(var de=se;de<K.length;de++)le=_Mathpow((K[se].x-K[de].x)*ee,2)+_Mathpow((K[se].y-K[de].y)*te,2),le<G?ae.push(1):ae.push(0);var ue=O(ae),ce=[];if(null!=K)for(var pe=0,he;pe<ue.length;pe++){he={nucleusX:Q.getNucleus(1),nucleusY:Q.getNucleus(2)},he.resolutionX=(Q.getLastX()-Q.getFirstX())/Q.getNbPoints(),he.resolutionY=oe;var ge=[];he.shiftX=0,he.shiftY=0;for(var me=[_NumberMAX_VALUE,0],fe=[_NumberMAX_VALUE,0],ye=0,xe=ue[pe].length-1;0<=xe;xe--)1===ue[pe][xe]&&(ge.push({x:K[xe].x,y:K[xe].y,z:K[xe].z}),he.shiftX+=K[xe].x*K[xe].z,he.shiftY+=K[xe].y*K[xe].z,ye+=K[xe].z,K[xe].x<me[0]&&(me[0]=K[xe].x),K[xe].x>me[1]&&(me[1]=K[xe].x),K[xe].y<fe[0]&&(fe[0]=K[xe].y),K[xe].y>fe[1]&&(fe[1]=K[xe].y));he.fromTo=[{from:me[0],to:me[1]},{from:fe[0],to:fe[1]}],he.shiftX/=ye,he.shiftY/=ye,he.peaks=ge,ce.push(he)}return ce}var F=I(45),O=I(174),$=I(173),Z=I(58).FFTUtils;const W=[[0,0,1,2,2,2,1,0,0],[0,1,4,7,7,7,4,1,0],[1,4,5,3,0,3,5,4,1],[2,7,3,-12,-23,-12,3,7,2],[2,7,0,-23,-40,-23,0,7,2],[2,7,3,-12,-23,-12,3,7,2],[1,4,5,3,0,3,5,4,1],[0,1,3,7,7,7,3,1,0],[0,0,1,2,2,2,1,0,0]];D.exports=function(K,Q){0===Q&&(Q=1),0>Q&&(Q=-Q);for(var G=K.getNbPoints(),ee=K.getNbSubSpectra(),te=Array(G*ee),ne=K.isHomoNuclear(),oe=0,se;oe<ee;oe++){se=K.getYData(oe);for(var ae=0;ae<G;ae++)te[oe*G+ae]=ne?0<se[ae]?se[ae]:0:_Mathabs(se[ae])}var le=T(K);if(ne){let ce=Z.convolute(te,W,ee,G),pe=$.findPeaks2DRegion(te,{filteredData:ce,rows:ee,cols:G,nStdDev:le*Q});for(var de=$.findPeaks2DMax(te,{filteredData:ce,rows:ee,cols:G,nStdDev:(le+0.5)*Q}),ue=0;ue<pe.length;ue++)de.push(pe[ue]);return F.enhanceSymmetry(R(de,K,24))}let ce=Z.convolute(te,W,ee,G),pe=$.findPeaks2DRegion(te,{filteredData:ce,rows:ee,cols:G,nStdDev:le*Q});return R(F.clean(pe,0.05),K,24)}},function(D,E,I){'use strict';function T(W,K,Q={}){var G=Q.nH,ee=G===void 0?100:G,te=Q.integralType,ne=te===void 0?'sum':te,oe=Q.frequencyCluster,se=oe===void 0?16:oe,ae=Q.frequency,le=ae===void 0?W.observeFrequencyX():ae,de,ue,ce,pe,he=[],ge={x:1e5},me=0;for(se/=le,de=0;de<K.length;de++){if(_Mathabs(K[de].x-ge.x)>se)ce={nbPeaks:1,units:'PPM',startX:K[de].x-K[de].width,stopX:K[de].x+K[de].width,multiplicity:'',pattern:'',observe:le,nucleus:W.getNucleus(1),integralData:{from:K[de].x-3*K[de].width,to:K[de].x+3*K[de].width},peaks:[{x:K[de].x,intensity:K[de].y,width:K[de].width}]},he.push(ce);else{var fe=K[de].x+K[de].width;ce.stopX=_Mathmax(ce.stopX,fe),ce.startX=_Mathmin(ce.startX,fe),ce.nbPeaks++,ce.peaks.push({x:K[de].x,intensity:K[de].y,width:K[de].width}),ce.integralData.from=_Mathmin(ce.integralData.from,K[de].x-3*K[de].width),ce.integralData.to=_Mathmax(ce.integralData.to,K[de].x+3*K[de].width)}ge=K[de]}for(de=0;de<he.length;de++){pe=he[de].peaks;let xe=he[de].integralData,be=0,_e=0;for(ue=0;ue<pe.length;ue++){var ye=R(pe[ue]);be+=pe[ue].x*ye,_e+=ye}he[de].delta1=be/_e,xe.value='sum'===ne?W.getArea(xe.from,xe.to):_e,me+=xe.value}if(0<ee){let xe=ee/me;for(de=0;de<he.length;de++){let be=he[de].integralData;be.value*=xe}}return he}function R(W){return _Mathabs(1.57*(W.intensity*W.width))}const F=I(145),O=I(23),$=I(144),Z={nH:100,idPrefix:'',clean:0.5,thresholdFactor:1,compile:!0,integralType:'sum',optimize:!0,frequencyCluster:16};D.exports=function(W,K,Q){Q=Object.assign({},Z,Q);var te=Q.nH,G,ee;K=$(K,Q.removeImpurity);var ne=T(W,K,Q);if(Q.clean)for(G=0;G<ne.length;G++)ne[G].integralData.value<Q.clean&&ne.splice(G,1);if(Q.compile){var oe,se;for(G=0;G<ne.length;G++)if(F.compilePattern(ne[G]),ne[G].maskPattern&&'m'!==ne[G].multiplicity&&''!==ne[G].multiplicity){oe=0,se=0;var ae=[];for(ee=ne[G].maskPattern.length-1;0<=ee;ee--)if(se+=R(ne[G].peaks[ee]),!1===ne[G].maskPattern[ee]){var le=ne[G].peaks.splice(ee,1)[0];ae.push({x:le.x,y:le.intensity,width:le.width}),ne[G].mask.splice(ee,1),ne[G].mask2.splice(ee,1),ne[G].maskPattern.splice(ee,1),ne[G].nbPeaks--,oe+=R(le)}if(0<ae.length){oe=oe*ne[G].integralData.value/se,ne[G].integralData.value-=oe;var de=[];for(ee=ae.length-1;0<=ee;ee--)de.push(ae[ee]);Q.nH=oe;let ge=T(W,de,Q);for(ee=0;ee<ge.length;ee++)ne.push(ge[ee])}}var ue=0,ce=0;for(G=0;G<ne.length;G++)ce+=_Mathround(ne[G].integralData.value);if(ce!==te)for(ue=te/ce,G=0;G<ne.length;G++)ne[G].integralData.value*=ue}if(ne.sort(function(ge,me){return me.delta1-ge.delta1}),Q.clean)for(G=ne.length-1;0<=G;G--)ne[G].integralData.value<Q.clean&&ne.splice(G,1);for(G=0;G<ne.length;G++)ne[G].signalID=Q.idPrefix&&0<Q.idPrefix.length?Q.idPrefix+'_'+(G+1):G+1+'',ne[G]._highlight=[ne[G].signalID];let pe=Array(ne.length);for(G=0;G<ne.length;G++){var he=ne[G];pe[G]={from:he.integralData.from,to:he.integralData.to,integral:he.integralData.value,signal:[{nbAtoms:0,diaID:[],multiplicity:he.multiplicity,peak:he.peaks,kind:'',remark:''}],signalID:he.signalID,_highlight:he._highlight},he.nmrJs&&(pe[G].signal[0].j=he.nmrJs),he.asymmetric&&'m'!==he.multiplicity||(pe[G].signal[0].delta=he.delta1)}return new O(pe)}},function(D,E,I){'use strict';function T(ae,le){var de=R(le);0===de.length&&(de='\u03B4 ');var ue=[],ce=!0,pe=!1,he;try{for(var ge=ae[Symbol.iterator](),me;!(ce=(me=ge.next()).done);ce=!0){let fe=me.value;F(fe,ue,le)}}catch(fe){pe=!0,he=fe}finally{try{!ce&&ge.return&&ge.return()}finally{if(pe)throw he}}return 0<ue.length?de+ue.join(', '):''}function R(ae){let le=[],de=Q(ae.nucleus)+' NMR';return ae.solvent&&le.push(K(ae.solvent)),ae.frequencyObserved&&le.push((1*ae.frequencyObserved).toFixed(0)+' MHz'),de+=0<le.length?' ('+le.join(', ')+'): \u03B4 ':': \u03B4 ',de}function F(ae,le,de){var ue='',ce=[];let pe=[ae.from,ae.to];if(Array.isArray(ae.signal)&&0<ae.signal.length){var he=ae.signal;if(1<he.length){!0===de.ascending&&he.sort((be,_e)=>{return be.delta-_e.delta}),ue+=_Mathmin(...pe).toFixed(de.nbDecimalDelta)+'-'+_Mathmax(...pe).toFixed(de.nbDecimalDelta),ue+=' ('+O(ae,de);var ge=!0,me=!1,fe;try{for(var ye=he[Symbol.iterator](),xe;!(ge=(xe=ye.next()).done);ge=!0){let be=xe.value;ce=[],be.delta!==void 0&&(ue=G(ue),ue+=be.delta.toFixed(de.nbDecimalDelta)),W({},be,ce,de),0<ce.length&&(ue+=' ('+ce.join(', ')+')')}}catch(be){me=!0,fe=be}finally{try{!ge&&ye.return&&ye.return()}finally{if(me)throw fe}}ue+=')'}else ce=[],void 0===he[0].delta?(ue+=_Mathmin(...pe).toFixed(de.nbDecimalDelta)+'-'+_Mathmax(...pe).toFixed(de.nbDecimalDelta),W(ae,he[0],ce,de),0<ce.length&&(ue+=' ('+ce+')')):(ue+=he[0].delta.toFixed(de.nbDecimalDelta),W(ae,he[0],ce,de),0<ce.length&&(ue+=' ('+ce.join(', ')+')'))}else ue+=_Mathmin(...pe).toFixed(de.nbDecimalDelta)+'-'+_Mathmax(...pe).toFixed(de.nbDecimalDelta),W(ae,[],ce,de),0<ce.length&&(ue+=' ('+ce.join(', ')+')');le.push(ue)}function O(ae,le){let de='';return ae.pubIntegral?de=ae.pubIntegral:ae.integral&&(de=ae.integral.toFixed(0)+le.nucleus[le.nucleus.length-1]),de}function $(ae,le,de){let ue=O(ae,de);0<ue.length&&le.push(ue)}function Z(ae,le){let de=ae.multiplicity||oe(ae,0.05);0<de.length&&le.push(de)}function W(ae,le,de,ue){var ce=!0,pe=!1,he;try{for(var ge=ue.format[Symbol.iterator](),me;!(ce=(me=ge.next()).done);ce=!0){const fe=me.value;switch(fe.toUpperCase()){case'I':$(ae,de,ue);break;case'M':Z(le,de);break;case'A':ne(le,de);break;case'J':te(le,de,ue);break;default:throw new Error('Unknow format letter: '+fe);}}}catch(fe){pe=!0,he=fe}finally{try{!ce&&ge.return&&ge.return()}finally{if(pe)throw he}}}function K(ae){return ae.replace(/([0-9]+)/g,'<sub>$1</sub>')}function Q(ae){return ae.replace(/([0-9]+)/g,'<sup>$1</sup>')}function G(ae){return!(0<ae.length)||ae.match(/ $/)||ae.match(/\($/)||(ae+=', '),ae}function ee(ae){return ae=ae.replace(/([0-9]+)/g,'<sub>$1</sub>'),ae=ae.replace(/\"([^\"]*)\"/g,'<i>$1</i>'),ae}function te(ae,le,de){if(Array.isArray(ae.j)&&0<ae.j.length){ae.j.sort(function(fe,ye){return ye.coupling-fe.coupling});var ue=[],ce=!0,pe=!1,he;try{for(var ge=ae.j[Symbol.iterator](),me;!(ce=(me=ge.next()).done);ce=!0){let fe=me.value;fe.coupling!==void 0&&ue.push(fe.coupling.toFixed(de.nbDecimalJ))}}catch(fe){pe=!0,he=fe}finally{try{!ce&&ge.return&&ge.return()}finally{if(pe)throw he}}0<ue.length&&le.push('<i>J</i> = '+ue.join(', ')+' Hz')}}function ne(ae,le){ae.pubAssignment?le.push(ee(ae.pubAssignment)):ae.assignment&&le.push(ee(ae.assignment))}const oe=I(46).joinCoupling;var se={h:{nucleus:'1H',nbDecimalDelta:2,nbDecimalJ:1,observedFrequency:400},c:{nucleus:'13C',nbDecimalDelta:1,nbDecimalJ:1,observedFrequency:100},f:{nucleus:'19F',nbDecimalDelta:2,nbDecimalJ:1,observedFrequency:400}};D.exports=function(ae,le={}){var de=(le.nucleus||'1H').toLowerCase().replace(/[0-9]/g,''),ue=se[de];le=Object.assign({},ue,{ascending:!1,format:'IMJA'},le),ae=ae.clone(),!0===le.ascending&&ae.sort((pe,he)=>{let ge=_Mathmin(pe.from,pe.to),me=_Mathmin(he.from,he.to);return ge-me});var ce=T(ae,le);return 0<ce.length&&(ce+='.'),ce}},function(D){'use strict';D.exports=function(T,R={}){function F(fe,ye,xe,be){var _e=fe*_Mathpow(xe,2)/4;return _e/(_Mathpow(be-ye,2)+_Mathpow(xe/2,2))}function O(fe,ye,xe,be){return fe*_Mathexp(-0.5*_Mathpow((be-ye)/(xe/2),2))}var $=R.from,Z=$===void 0?null:$,W=R.to,K=W===void 0?null:W,Q=R.nbPoints,G=Q===void 0?1024:Q,ee=R.functionName,te=ee===void 0?'':ee,ne=R.nWidth,oe=ne===void 0?4:ne,se;if(null===Z){Z=_NumberMAX_VALUE;for(let fe=0;fe<T.length;fe++)se=T[fe].x-T[fe].width*oe,se<Z&&(Z=se)}if(null===K){K=_NumberMIN_VALUE;for(let fe=0;fe<T.length;fe++)se=T[fe].x+T[fe].width*oe,se>K&&(K=se)}var ae=Array(G),le=Array(G),de=(K-Z)/(G-1);for(let fe=0;fe<G;fe++)ae[fe]=Z+fe*de,le[fe]=0;var ue=T[0].y?'y':'intensity',ce;switch(te.toLowerCase()){case'lorentzian':ce=F;break;default:ce=O;}for(let fe=0;fe<T.length;fe++){var pe=T[fe];if(pe.x>Z&&pe.x<K)for(var he=_Mathround((pe.x-Z)/de),ge=_Mathround(pe.width*oe/de),me=he-ge;me<he+ge;me++)0<=me&&me<G&&(le[me]+=ce(pe[ue],ae[me],pe.width,pe.x))}return{x:ae,y:le}}},function(D){'use strict';const P=8192,T=[];D.exports=class{constructor(F,O){O=O||{},F===void 0&&(F=P),'number'==typeof F&&(F=new ArrayBuffer(F));let $=F.byteLength;const Z=O.offset?O.offset>>>0:0;F.buffer&&($=F.byteLength-Z,F=F.byteLength===F.buffer.byteLength?Z?F.buffer.slice(Z):F.buffer:F.buffer.slice(F.byteOffset+Z,F.byteOffset+F.byteLength)),this.buffer=F,this.length=$,this.byteLength=$,this.byteOffset=0,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer),this._increment=$||P,this._mark=0}available(F){return void 0===F&&(F=1),this.offset+F<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){this.littleEndian=!0}isBigEndian(){return!this.littleEndian}setBigEndian(){this.littleEndian=!1}skip(F){F===void 0&&(F=1),this.offset+=F}seek(F){this.offset=F}mark(){this._mark=this.offset}reset(){this.offset=this._mark}rewind(){this.offset=0}ensureAvailable(F){if(void 0===F&&(F=1),!this.available(F)){const O=this._increment+this._increment;this._increment=O;const $=this.length+O,Z=new Uint8Array($);Z.set(new Uint8Array(this.buffer)),this.buffer=Z.buffer,this.length=$,this._data=new DataView(this.buffer)}}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(F){F===void 0&&(F=1);for(var O=new Uint8Array(F),$=0;$<F;$++)O[$]=this.readByte();return O}readInt16(){var F=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,F}readUint16(){var F=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,F}readInt32(){var F=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,F}readUint32(){var F=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,F}readFloat32(){var F=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,F}readFloat64(){var F=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,F}readChar(){return _StringfromCharCode(this.readInt8())}readChars(F){F===void 0&&(F=1),T.length=F;for(var O=0;O<F;O++)T[O]=this.readChar();return T.join('')}writeBoolean(F){this.writeUint8(F?255:0)}writeInt8(F){this.ensureAvailable(1),this._data.setInt8(this.offset++,F)}writeUint8(F){this.ensureAvailable(1),this._data.setUint8(this.offset++,F)}writeByte(F){this.writeUint8(F)}writeBytes(F){this.ensureAvailable(F.length);for(var O=0;O<F.length;O++)this._data.setUint8(this.offset++,F[O])}writeInt16(F){this.ensureAvailable(2),this._data.setInt16(this.offset,F,this.littleEndian),this.offset+=2}writeUint16(F){this.ensureAvailable(2),this._data.setUint16(this.offset,F,this.littleEndian),this.offset+=2}writeInt32(F){this.ensureAvailable(4),this._data.setInt32(this.offset,F,this.littleEndian),this.offset+=4}writeUint32(F){this.ensureAvailable(4),this._data.setUint32(this.offset,F,this.littleEndian),this.offset+=4}writeFloat32(F){this.ensureAvailable(4),this._data.setFloat32(this.offset,F,this.littleEndian),this.offset+=4}writeFloat64(F){this.ensureAvailable(8),this._data.setFloat64(this.offset,F,this.littleEndian),this.offset+=8}writeChar(F){this.writeUint8(F.charCodeAt(0))}writeChars(F){for(var O=0;O<F.length;O++)this.writeUint8(F.charCodeAt(O))}toArray(){return new Uint8Array(this.buffer,0,this.offset)}}},function(D){'use strict';var P=/[,\t \+-]*(?=[^\d,\t \.])|[ \t]+(?=[\d+\.-])/,T=/\$\$.*/;D.exports=function(F,O){F.deltaX||(F.deltaX=(F.lastX-F.firstX)/(F.nbPoints-1)),F.isXYdata=!0;var Z=[],W=0;F.data=[Z];var K=F.firstX,Q=F.firstY,G=O.split(/[\r\n]+/),ee,te,ne;te=[];for(var se=1,ae=G.length;se<ae;se++)if(te=G[se].trim().replace(T,'').split(P),0<te.length)for(var de=1,ue=te.length;de<ue;de++)if(1===de&&(ee||0===ee))ee=null,ne=te[de].charCodeAt(0),!1;else if(0<te[de].length)if(ne=te[de].charCodeAt(0),43===ne||45===ne||46===ne||47<ne&&58>ne)ee=null,Q=+te[de],Z[W++]=K,Z[W++]=Q*F.yFactor,K+=F.deltaX;else if(63<ne&&74>ne)ee=null,Q=+(_StringfromCharCode(ne-16)+te[de].substring(1)),Z[W++]=K,Z[W++]=Q*F.yFactor,K+=F.deltaX;else if(96<ne&&106>ne)ee=null,Q=1*-(_StringfromCharCode(ne-48)+te[de].substring(1)),Z[W++]=K,Z[W++]=Q*F.yFactor,K+=F.deltaX;else if(82<ne&&91>ne||115===ne){var ce=_StringfromCharCode(ne-34)+te[de].substring(1)-1;115===ne&&(ce='9'+te[de].substring(1)-1);for(var pe=0;pe<ce;pe++)ee&&(Q+=ee),Z[W++]=K,Z[W++]=Q*F.yFactor,K+=F.deltaX}else 37===ne?(ee=+('0'+te[de].substring(1)),Q+=ee,Z[W++]=K,Z[W++]=Q*F.yFactor,K+=F.deltaX):73<ne&&83>ne?(ee=1*(_StringfromCharCode(ne-25)+te[de].substring(1)),Q+=ee,Z[W++]=K,Z[W++]=Q*F.yFactor,K+=F.deltaX):105<ne&&115>ne&&(ee=1*-(_StringfromCharCode(ne-57)+te[de].substring(1)),Q+=ee,Z[W++]=K,Z[W++]=Q*F.yFactor,K+=F.deltaX)}},function(D,E,I){'use strict';var P=I(0),T=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918000,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];D.exports=function(F,O){if('undefined'==typeof F||!F.length)return 0;var $='string'!==P.getTypeOf(F);'undefined'==typeof O&&(O=0);var Z=0,W=0,K=0;O^=-1;for(var Q=0,G=F.length;Q<G;Q++)K=$?F[Q]:F.charCodeAt(Q),W=255&(O^K),Z=T[W],O=O>>>8^Z;return-1^O}},function(D,E,I){'use strict';var P=I(0);E.string2binary=function(T){return P.string2binary(T)},E.string2Uint8Array=function(T){return P.transformTo('uint8array',T)},E.uint8Array2String=function(T){return P.transformTo('string',T)},E.string2Blob=function(T){var R=P.transformTo('arraybuffer',T);return P.arrayBuffer2Blob(R)},E.arrayBuffer2Blob=function(T){return P.arrayBuffer2Blob(T)},E.transformTo=function(T,R){return P.transformTo(T,R)},E.getTypeOf=function(T){return P.getTypeOf(T)},E.checkSupport=function(T){return P.checkSupport(T)},E.MAX_VALUE_16BITS=P.MAX_VALUE_16BITS,E.MAX_VALUE_32BITS=P.MAX_VALUE_32BITS,E.pretty=function(T){return P.pretty(T)},E.findCompression=function(T){return P.findCompression(T)},E.isRegExp=function(T){return P.isRegExp(T)}},function(D,E,I){'use strict';var P='undefined'!=typeof Uint8Array&&'undefined'!=typeof Uint16Array&&'undefined'!=typeof Uint32Array,T=I(176);E.uncompressInputType=P?'uint8array':'array',E.compressInputType=P?'uint8array':'array',E.magic='\b\0',E.compress=function(R,F){return T.deflateRaw(R,{level:F.level||-1})},E.uncompress=function(R){return T.inflateRaw(R)}},function(D,E,I){'use strict';function P(R,F){return this instanceof P?void(this.files={},this.comment=null,this.root='',R&&this.load(R,F),this.clone=function(){var O=new P;for(var $ in this)'function'!=typeof this[$]&&(O[$]=this[$]);return O}):new P(R,F)}var T=I(18);P.prototype=I(21),P.prototype.load=I(157),P.support=I(6),P.defaults=I(52),P.utils=I(154),P.base64={encode:function(R){return T.encode(R)},decode:function(R){return T.decode(R)}},P.compressions=I(19),D.exports=P},function(D,E,I){'use strict';var P=I(18),T=I(56),R=I(0),F=I(161);D.exports=function(O,$){var Z,W,K,Q;for($=R.extend($||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:T.utf8decode}),$.base64&&(O=P.decode(O)),W=new F(O,$),Z=W.files,K=0;K<Z.length;K++)Q=Z[K],this.file(Q.fileNameStr,Q.decompressed,{binary:!0,optimizedBinaryString:!0,date:Q.date,dir:Q.dir,comment:Q.fileCommentStr.length?Q.fileCommentStr:null,unixPermissions:Q.unixPermissions,dosPermissions:Q.dosPermissions,createFolders:$.createFolders});return W.zipComment.length&&(this.comment=W.zipComment),this}},function(D,E,I){'use strict';function P(R){this.data=R,this.length=this.data.length,this.index=0,this.zero=0}var T=I(55);P.prototype=new T,P.prototype.readData=function(R){this.checkOffset(R);var F=this.data.slice(this.zero+this.index,this.zero+this.index+R);return this.index+=R,F},D.exports=P},function(D,E,I){'use strict';var P=I(0),T=function(){this.data=[]};T.prototype={append:function(R){R=P.transformTo('string',R),this.data.push(R)},finalize:function(){return this.data.join('')}},D.exports=T},function(D,E,I){'use strict';var P=I(0),T=function(R){this.data=new Uint8Array(R),this.index=0};T.prototype={append:function(R){0!==R.length&&(R=P.transformTo('uint8array',R),this.data.set(R,this.index),this.index+=R.length)},finalize:function(){return this.data}},D.exports=T},function(D,E,I){'use strict';function P(G,ee){this.files=[],this.loadOptions=ee,G&&this.load(G)}var T=I(54),R=I(158),F=I(55),O=I(49),$=I(0),Z=I(53),W=I(162),K=I(6),Q=I(21);P.prototype={checkSignature:function(G){var ee=this.reader.readString(4);if(ee!==G)throw new Error('Corrupted zip or bug : unexpected signature ('+$.pretty(ee)+', expected '+$.pretty(G)+')')},isSignature:function(G,ee){var te=this.reader.index;this.reader.setIndex(G);var ne=this.reader.readString(4);return this.reader.setIndex(te),ne===ee},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var G=this.reader.readData(this.zipCommentLength),ee=K.uint8array?'uint8array':'array',te=$.transformTo(ee,G);this.zipComment=this.loadOptions.decodeFileName(te)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var G=this.zip64EndOfCentralSize-44,te,ne,oe;0<G;)te=this.reader.readInt(2),ne=this.reader.readInt(4),oe=this.reader.readString(ne),this.zip64ExtensibleData[te]={id:te,length:ne,value:oe}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error('Multi-volumes zip are not supported')},readLocalFiles:function(){var G,ee;for(G=0;G<this.files.length;G++)ee=this.files[G],this.reader.setIndex(ee.localHeaderOffset),this.checkSignature(Z.LOCAL_FILE_HEADER),ee.readLocalPart(this.reader),ee.handleUTF8(),ee.processAttributes()},readCentralDir:function(){var G;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===Z.CENTRAL_FILE_HEADER;)G=new W({zip64:this.zip64},this.loadOptions),G.readCentralPart(this.reader),this.files.push(G);if(this.centralDirRecords!==this.files.length)if(0!==this.centralDirRecords&&0===this.files.length)throw new Error('Corrupted zip or bug: expected '+this.centralDirRecords+' records in central dir, got '+this.files.length);else;},readEndOfCentral:function(){var G=this.reader.lastIndexOfSignature(Z.CENTRAL_DIRECTORY_END);if(0>G){var ee=!this.isSignature(0,Z.LOCAL_FILE_HEADER);if(ee)throw new Error('Can\\\'t find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html');else throw new Error('Corrupted zip : can\'t find end of central directory')}this.reader.setIndex(G);var te=G;if(this.checkSignature(Z.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===$.MAX_VALUE_16BITS||this.diskWithCentralDirStart===$.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===$.MAX_VALUE_16BITS||this.centralDirRecords===$.MAX_VALUE_16BITS||this.centralDirSize===$.MAX_VALUE_32BITS||this.centralDirOffset===$.MAX_VALUE_32BITS){if(this.zip64=!0,G=this.reader.lastIndexOfSignature(Z.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>G)throw new Error('Corrupted zip : can\'t find the ZIP64 end of central directory locator');if(this.reader.setIndex(G),this.checkSignature(Z.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Z.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Z.ZIP64_CENTRAL_DIRECTORY_END),0>this.relativeOffsetEndOfZip64CentralDir))throw new Error('Corrupted zip : can\'t find the ZIP64 end of central directory');this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Z.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var ne=this.centralDirOffset+this.centralDirSize;this.zip64&&(ne+=20,ne+=12+this.zip64EndOfCentralSize);var oe=te-ne;if(0<oe)this.isSignature(te,Z.CENTRAL_FILE_HEADER)||(this.reader.zero=oe);else if(0>oe)throw new Error('Corrupted zip: missing '+_Mathabs(oe)+' bytes.')},prepareReader:function(G){var ee=$.getTypeOf(G);if($.checkSupport(ee),'string'===ee&&!K.uint8array)this.reader=new T(G,this.loadOptions.optimizedBinaryString);else if('nodebuffer'===ee)this.reader=new R(G);else if(K.uint8array)this.reader=new F($.transformTo('uint8array',G));else if(K.array)this.reader=new O($.transformTo('array',G));else throw new Error('Unexpected error: unsupported type \''+ee+'\'')},load:function(G){this.prepareReader(G),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},D.exports=P},function(D,E,I){'use strict';function P(K,Q){this.options=K,this.loadOptions=Q}var T=I(54),R=I(0),F=I(50),O=I(21),$=I(6);P.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(K,Q,G){return function(){var ee=K.index;K.setIndex(Q);var te=K.readData(G);return K.setIndex(ee),te}},prepareContent:function(K,Q,G,ee,te){return function(){var ne=R.transformTo(ee.uncompressInputType,this.getCompressedContent()),oe=ee.uncompress(ne);if(oe.length!==te)throw new Error('Bug : uncompressed data size mismatch');return oe}},readLocalPart:function(K){var Q,G;if(K.skip(22),this.fileNameLength=K.readInt(2),G=K.readInt(2),this.fileName=K.readData(this.fileNameLength),K.skip(G),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error('Bug or corrupted zip : didn\\\'t get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)');if(Q=R.findCompression(this.compressionMethod),null===Q)throw new Error('Corrupted zip : compression '+R.pretty(this.compressionMethod)+' unknown (inner file : '+R.transformTo('string',this.fileName)+')');if(this.decompressed=new F,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(K,K.index,this.compressedSize,Q),this.decompressed.getContent=this.prepareContent(K,K.index,this.compressedSize,Q,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=R.transformTo('string',this.decompressed.getContent()),O.crc32(this.decompressed)!==this.crc32))throw new Error('Corrupted zip : CRC32 mismatch')},readCentralPart:function(K){if(this.versionMadeBy=K.readInt(2),this.versionNeeded=K.readInt(2),this.bitFlag=K.readInt(2),this.compressionMethod=K.readString(2),this.date=K.readDate(),this.crc32=K.readInt(4),this.compressedSize=K.readInt(4),this.uncompressedSize=K.readInt(4),this.fileNameLength=K.readInt(2),this.extraFieldsLength=K.readInt(2),this.fileCommentLength=K.readInt(2),this.diskNumberStart=K.readInt(2),this.internalFileAttributes=K.readInt(2),this.externalFileAttributes=K.readInt(4),this.localHeaderOffset=K.readInt(4),this.isEncrypted())throw new Error('Encrypted zip are not supported');this.fileName=K.readData(this.fileNameLength),this.readExtraFields(K),this.parseZIP64ExtraField(K),this.fileComment=K.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var K=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),K==0&&(this.dosPermissions=63&this.externalFileAttributes),K==3&&(this.unixPermissions=65535&this.externalFileAttributes>>16),this.dir||'/'!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var Q=new T(this.extraFields[1].value);this.uncompressedSize===R.MAX_VALUE_32BITS&&(this.uncompressedSize=Q.readInt(8)),this.compressedSize===R.MAX_VALUE_32BITS&&(this.compressedSize=Q.readInt(8)),this.localHeaderOffset===R.MAX_VALUE_32BITS&&(this.localHeaderOffset=Q.readInt(8)),this.diskNumberStart===R.MAX_VALUE_32BITS&&(this.diskNumberStart=Q.readInt(4))}},readExtraFields:function(K){var Q=K.index,G,ee,te;for(this.extraFields=this.extraFields||{};K.index<Q+this.extraFieldsLength;)G=K.readInt(2),ee=K.readInt(2),te=K.readString(ee),this.extraFields[G]={id:G,length:ee,value:te}},handleUTF8:function(){var K=$.uint8array?'uint8array':'array';if(this.useUTF8())this.fileNameStr=O.utf8decode(this.fileName),this.fileCommentStr=O.utf8decode(this.fileComment);else{var Q=this.findExtraFieldUnicodePath();if(null!==Q)this.fileNameStr=Q;else{var G=R.transformTo(K,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(G)}var ee=this.findExtraFieldUnicodeComment();if(null!==ee)this.fileCommentStr=ee;else{var te=R.transformTo(K,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(te)}}},findExtraFieldUnicodePath:function(){var K=this.extraFields[28789];if(K){var Q=new T(K.value);return 1===Q.readInt(1)?O.crc32(this.fileName)===Q.readInt(4)?O.utf8decode(Q.readString(K.length-5)):null:null}return null},findExtraFieldUnicodeComment:function(){var K=this.extraFields[25461];if(K){var Q=new T(K.value);return 1===Q.readInt(1)?O.crc32(this.fileComment)===Q.readInt(4)?O.utf8decode(Q.readString(K.length-5)):null:null}return null}},D.exports=P},function(D,E,I){'use strict';function F(K){for(var Q=Array(K[0].length),G=0;G<Q.length;++G)Q[G]=Array(K.length);for(G=0;G<K.length;++G)for(var ee=0;ee<K[0].length;++ee)Q[ee][G]=K[G][ee];return Q}const W=I(7).array;D.exports={coordArrayToPoints:function(K,Q){if(0!=K.length%Q)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var G=K.length/Q,ee=Array(G),te=0,ne=0,oe;ne<K.length;ne+=Q){oe=Array(Q);for(var se=0;se<Q;++se)oe[se]=K[ne+se];ee[te]=oe,te++}return ee},coordArrayToCoordMatrix:function(K,Q){if(0!=K.length%Q)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var G=Array(Q),ee=K.length/Q,te=0;te<G.length;te++)G[te]=Array(ee);for(te=0;te<K.length;te+=Q)for(var ne=0,oe;ne<Q;++ne)oe=_Mathfloor(te/Q),G[ne][oe]=K[te+ne];return G},coordMatrixToCoordArray:function(K){for(var Q=Array(K.length*K[0].length),G=0,ee=0;ee<K[0].length;++ee)for(var te=0;te<K.length;++te)Q[G]=K[te][ee],++G;return Q},coordMatrixToPoints:F,pointsToCoordArray:function(K){for(var Q=Array(K.length*K[0].length),G=0,ee=0;ee<K.length;++ee)for(var te=0;te<K[0].length;++te)Q[G]=K[ee][te],++G;return Q},pointsToCoordMatrix:F,applyDotProduct:function(K,Q){var G,ee;K.length<=Q.length?(ee=K,G=Q):(ee=Q,G=K);for(var te=G.length-ee.length+1,ne=Array(te),oe=0,se;oe<te;++oe){se=0;for(var ae=0;ae<ee.length;++ae)se+=ee[ae]*G[oe+ae];ne[oe]=se}return ne},scale:function(K,Q){var G=Q.inPlace?K:Array(K.length);const ee=Q.max,te=Q.min;if('number'==typeof ee){if('number'==typeof te)for(var ne=W.minMax(K),oe=(ee-te)/(ne.max-ne.min),se=0;se<G.length;se++)G[se]=(K[se]-ne.min)*oe+te;else for(var ae=W.max(K),oe=ee/ae,se=0;se<G.length;se++)G[se]=K[se]*oe;}else if('number'==typeof te)for(var ae=W.min(K),oe=te/ae,se=0;se<G.length;se++)G[se]=K[se]*oe;return G}}},function(D,E){'use strict';function T(O,$,Z,W,K){function Q(je,we,Ce,ve){return(ve-we)/(Ce-je)}var G=O.length,ee=(W-Z)/(K-1),ne=Z-ee/2,oe=Array(K),se=O[1]-O[0],ae=O[O.length-1]-O[O.length-2],le=ne,de=ne+ee,ue=_NumberMIN_VALUE,ce=0,pe=O[0]-se,he=0,ge=0,me=0,fe=0,ye=0,xe=0,be=0,_e=0;main:for(;;){for(;0<=pe-de;){var ke=F(0,de-ue,me,ce);if(xe=ge+ke,oe[_e]=(xe-ye)/ee,_e++,_e===K)break main;le=de,de+=ee,ye=xe}ue<=le&&le<=pe&&(ke=F(0,le-ue,me,ce),ye=ge+ke),ge+=F(ue,pe,me,fe),ue=pe,ce=he,be<G?(pe=O[be],he=$[be],be++):be===G&&(pe+=ae,he=0),me=Q(ue,ce,pe,he),fe=-me*ue+ce}return oe}function R(O,$,Z,W,K){var Q=O.length,G=(W-Z)/(K-1),te=O[O.length-1]-O[O.length-2],ne=Z-G/2,oe=Array(K),se=ne,ae=ne+G,le=-_NumberMAX_VALUE,de=0,ue=O[0],ce=$[0],pe=0,he=!0,ge=0,me=0,fe=1,ye=0;main:for(;;){if(le>=ue)throw new Error('x must be an increasing serie');for(;0<le-ae;){if(he&&(me++,he=!1),oe[ye]=0>=me?0:ge/me,ye++,ye===K)break main;se=ae,ae+=G,ge=0,me=0}le>se&&(ge+=de,me++),(le==-_NumberMAX_VALUE||1<pe)&&me--,le=ue,de=ce,fe<Q?(ue=O[fe],ce=$[fe],fe++):(ue+=te,ce=0,pe++)}return oe}function F(O,$,Z,W){return 0.5*Z*$*$+W*$-(0.5*Z*O*O+W*O)}E.getEquallySpacedData=function(O,$,Z){1<O.length&&O[0]>O[1]&&(O=O.slice().reverse(),$=$.slice().reverse());var W=O.length;if(W!==$.length)throw new RangeError('the x and y vector doesn\'t have the same size.');Z===void 0&&(Z={});var K=Z.from===void 0?O[0]:Z.from;if(isNaN(K)||!isFinite(K))throw new RangeError('\'From\' value must be a number');var Q=Z.to===void 0?O[O.length-1]:Z.to;if(isNaN(Q)||!isFinite(Q))throw new RangeError('\'To\' value must be a number');var G=K>Q;if(G){var ee=K;K=Q,Q=ee}var te=Z.numberOfPoints===void 0?100:Z.numberOfPoints;if(isNaN(te)||!isFinite(te))throw new RangeError('\'Number of points\' value must be a number');if(1>te)throw new RangeError('the number of point must be higher than 1');var ne='slot'===Z.variant?'slot':'smooth',oe='slot'==ne?R(O,$,K,Q,te):T(O,$,K,Q,te);return G?oe.reverse():oe},E.integral=F},function(D,E,I){D.exports=E=I(163),E.getEquallySpacedData=I(164).getEquallySpacedData,E.SNV=I(166).SNV},function(D,E,I){'use strict';E.SNV=function(R){for(var F=T.mean(R),O=T.standardDeviation(R),$=R.slice(),Z=0;Z<R.length;Z++)$[Z]=($[Z]-F)/O;return $};var T=I(7).array},function(D){'use strict';function P(R){this.value=R,this.parent=null,this.rank=0}D.exports=class{constructor(){this.nodes=new Map}add(R){var F=this.nodes.get(R);return F||(F=new P(R),this.nodes.set(R,F)),F}union(R,F){const O=this.find(R),$=this.find(F);O===$||(O.rank<$.rank?O.parent=$:O.rank>$.rank?$.parent=O:($.parent=O,O.rank++))}find(R){for(var F=R;null!==F.parent;)F=F.parent;for(var O=R,$;null!==O.parent;)$=O,O=O.parent,$.parent=F;return F}connected(R,F){return this.find(R)===this.find(F)}}},function(D,E,I){'use strict';var P=I(57);D.exports={DEBUG:!1,ifft2DArray:function(R,F,O){var $=Array(F*O),Z=F/2,W=2*(O-1);P.init(Z);for(var K={re:Array(Z),im:Array(Z)},Q=0;Q<O;Q++){for(var G=Z-1;0<=G;G--)K.re[G]=R[2*G*O+Q],K.im[G]=R[(2*G+1)*O+Q];P.bt(K.re,K.im);for(var G=Z-1;0<=G;G--)$[2*G*O+Q]=K.re[G],$[(2*G+1)*O+Q]=K.im[G]}var ee=Array(Z*W);P.init(W);for(var te={re:Array(W),im:Array(W)},G=0;G<F;G+=2){te.re[0]=$[G*O],te.im[0]=$[(G+1)*O];for(var Q=1;Q<O;Q++)te.re[Q]=$[G*O+Q],te.im[Q]=$[(G+1)*O+Q],te.re[W-Q]=$[G*O+Q],te.im[W-Q]=-$[(G+1)*O+Q];P.bt(te.re,te.im);for(var oe=G/2*W,Q=W-1;0<=Q;Q--)ee[oe+Q]=te.re[Q]/(W*Z)}return ee},fft2DArray:function(R,F,O){var Z=Object.assign({},{inplace:!0}),W=O/2+1,K=2*F,Q=Array(K*W);P.init(O);for(var G={re:Array(O),im:Array(O)},ee={re:Array(O),im:Array(O)},te={re:Array(O),im:Array(O)},de=0,ne,oe,se,ae,le;de<F/2;de++){ne=2*de*O,G.re=R.slice(ne,ne+O),ne=(2*de+1)*O,G.im=R.slice(ne,ne+O),P.fft1d(G.re,G.im),this.reconstructTwoRealFFT(G,ee,te),oe=4*de*W,se=(4*de+1)*W,ae=(4*de+2)*W,le=(4*de+3)*W;for(var ue=W-1;0<=ue;ue--)Q[oe+ue]=ee.re[ue],Q[se+ue]=ee.im[ue],Q[ae+ue]=te.re[ue],Q[le+ue]=te.im[ue]}ee=null,te=null;var ce=Array(K*W);P.init(F);for(var pe={re:Array(F),im:Array(F)},he=W-1;0<=he;he--){for(var de=F-1;0<=de;de--)pe.re[de]=Q[2*de*W+he],pe.im[de]=Q[(2*de+1)*W+he],isNaN(pe.re[de])&&(pe.re[de]=0),isNaN(pe.im[de])&&(pe.im[de]=0);P.fft1d(pe.re,pe.im);for(var de=F-1;0<=de;de--)ce[2*de*W+he]=pe.re[de],ce[(2*de+1)*W+he]=pe.im[de]}return ce},reconstructTwoRealFFT:function(R,F,O){var $=R.re.length;F.re[0]=R.re[0],F.im[0]=0,O.re[0]=R.im[0],O.im[0]=0;for(var ee=$/2,Z,W,K,Q,G;0<ee;ee--)G=$-ee,Z=0.5*(R.re[ee]-R.re[G]),W=0.5*(R.re[ee]+R.re[G]),K=0.5*(R.im[ee]-R.im[G]),Q=0.5*(R.im[ee]+R.im[G]),F.re[ee]=W,F.im[ee]=K,F.re[G]=W,F.im[G]=-K,O.re[ee]=Q,O.im[ee]=-Z,O.re[G]=Q,O.im[G]=Z},convolute2DI:function(R,F,O,$){for(var K=0,Z,W;K<O/2;K++)for(var Q=0;Q<$;Q++)Z=R[2*K*$+Q]*F[2*K*$+Q]-R[(2*K+1)*$+Q]*F[(2*K+1)*$+Q],W=R[2*K*$+Q]*F[(2*K+1)*$+Q]+R[(2*K+1)*$+Q]*F[2*K*$+Q],R[2*K*$+Q]=Z,R[(2*K+1)*$+Q]=W},convolute:function(R,F,O,$){for(var W=Array($*O),K=0;K<O*$;K++)W[K]=R[K];W=this.fft2DArray(W,O,$);for(var Q=F.length,G=F[0].length,ee=Array($*O),K=0;K<$*O;K++)ee[K]=0;for(var oe=_Mathfloor((Q-1)/2),se=_Mathfloor((G-1)/2),ae=0,te,ne;ae<Q;ae++){te=(ae-oe+O)%O;for(var le=0;le<G;le++)ne=(le-se+$)%$,ee[te*$+ne]=F[ae][le]}ee=this.fft2DArray(ee,O,$);var de=2*O,ue=$/2+1;return this.convolute2DI(W,ee,de,ue),this.ifft2DArray(W,de,ue)},toRadix2:function(R,F,O){var $,Z,W,K,Q=O,G=F,ee=0,te=0;if(0===O||0!=(O&O-1)){for(Q=0;0!=O>>++Q;);Q=1<<Q,te=Q-O}if(0===F||0!=(F&F-1)){for(G=0;0!=F>>++G;);G=1<<G,ee=(G-F)*Q}if(G==F&&Q==O)return{data:R,rows:F,cols:O};var ne=Array(G*Q),oe=_Mathfloor((G-F)/2)-F,se=_Mathfloor((Q-O)/2)-O;for($=0;$<G;$++)for(W=$*Q,K=($-oe)%F*O,Z=0;Z<Q;Z++)ne[W+Z]=R[K+(Z-se)%O];return{data:ne,rows:G,cols:Q}},crop:function(R,F,O,$,Z,W){if(F==$&&O==Z)return R;var K=Object.assign({},W),Q=Array(Z*$),G=_Mathfloor((F-$)/2),ee=_Mathfloor((O-Z)/2),te,ne,oe,se;for(oe=0;oe<$;oe++)for(te=oe*Z,ne=(oe+G)*O,se=0;se<Z;se++)Q[te+se]=R[ne+(se+ee)];return Q}}},function(D,E,I){'use strict';var P=I(59);D.exports={DEBUG:!1,ifft2DArray:function(R,F,O){var $=Array(F*O),Z=F/2,W=2*(O-1);P.init(Z);for(var K={re:Array(Z),im:Array(Z)},Q=0;Q<O;Q++){for(var G=Z-1;0<=G;G--)K.re[G]=R[2*G*O+Q],K.im[G]=R[(2*G+1)*O+Q];P.bt(K.re,K.im);for(var G=Z-1;0<=G;G--)$[2*G*O+Q]=K.re[G],$[(2*G+1)*O+Q]=K.im[G]}var ee=Array(Z*W);P.init(W);for(var te={re:Array(W),im:Array(W)},G=0;G<F;G+=2){te.re[0]=$[G*O],te.im[0]=$[(G+1)*O];for(var Q=1;Q<O;Q++)te.re[Q]=$[G*O+Q],te.im[Q]=$[(G+1)*O+Q],te.re[W-Q]=$[G*O+Q],te.im[W-Q]=-$[(G+1)*O+Q];P.bt(te.re,te.im);for(var oe=G/2*W,Q=W-1;0<=Q;Q--)ee[oe+Q]=te.re[Q]/(W*Z)}return ee},fft2DArray:function(R,F,O){var Z=Object.assign({},{inplace:!0}),W=O/2+1,K=2*F,Q=Array(K*W);P.init(O);for(var G={re:Array(O),im:Array(O)},ee={re:Array(O),im:Array(O)},te={re:Array(O),im:Array(O)},de=0,ne,oe,se,ae,le;de<F/2;de++){ne=2*de*O,G.re=R.slice(ne,ne+O),ne=(2*de+1)*O,G.im=R.slice(ne,ne+O),P.fft1d(G.re,G.im),this.reconstructTwoRealFFT(G,ee,te),oe=4*de*W,se=(4*de+1)*W,ae=(4*de+2)*W,le=(4*de+3)*W;for(var ue=W-1;0<=ue;ue--)Q[oe+ue]=ee.re[ue],Q[se+ue]=ee.im[ue],Q[ae+ue]=te.re[ue],Q[le+ue]=te.im[ue]}ee=null,te=null;var ce=Array(K*W);P.init(F);for(var pe={re:Array(F),im:Array(F)},he=W-1;0<=he;he--){for(var de=F-1;0<=de;de--)pe.re[de]=Q[2*de*W+he],pe.im[de]=Q[(2*de+1)*W+he],isNaN(pe.re[de])&&(pe.re[de]=0),isNaN(pe.im[de])&&(pe.im[de]=0);P.fft1d(pe.re,pe.im);for(var de=F-1;0<=de;de--)ce[2*de*W+he]=pe.re[de],ce[(2*de+1)*W+he]=pe.im[de]}return ce},reconstructTwoRealFFT:function(R,F,O){var $=R.re.length;F.re[0]=R.re[0],F.im[0]=0,O.re[0]=R.im[0],O.im[0]=0;for(var ee=$/2,Z,W,K,Q,G;0<ee;ee--)G=$-ee,Z=0.5*(R.re[ee]-R.re[G]),W=0.5*(R.re[ee]+R.re[G]),K=0.5*(R.im[ee]-R.im[G]),Q=0.5*(R.im[ee]+R.im[G]),F.re[ee]=W,F.im[ee]=K,F.re[G]=W,F.im[G]=-K,O.re[ee]=Q,O.im[ee]=-Z,O.re[G]=Q,O.im[G]=Z},convolute2DI:function(R,F,O,$){for(var K=0,Z,W;K<O/2;K++)for(var Q=0;Q<$;Q++)Z=R[2*K*$+Q]*F[2*K*$+Q]-R[(2*K+1)*$+Q]*F[(2*K+1)*$+Q],W=R[2*K*$+Q]*F[(2*K+1)*$+Q]+R[(2*K+1)*$+Q]*F[2*K*$+Q],R[2*K*$+Q]=Z,R[(2*K+1)*$+Q]=W},convolute:function(R,F,O,$){for(var W=Array($*O),K=0;K<O*$;K++)W[K]=R[K];W=this.fft2DArray(W,O,$);for(var Q=F.length,G=F[0].length,ee=Array($*O),K=0;K<$*O;K++)ee[K]=0;for(var oe=_Mathfloor((Q-1)/2),se=_Mathfloor((G-1)/2),ae=0,te,ne;ae<Q;ae++){te=(ae-oe+O)%O;for(var le=0;le<G;le++)ne=(le-se+$)%$,ee[te*$+ne]=F[ae][le]}ee=this.fft2DArray(ee,O,$);var de=2*O,ue=$/2+1;return this.convolute2DI(W,ee,de,ue),this.ifft2DArray(W,de,ue)},toRadix2:function(R,F,O){var $,Z,W,K,Q=O,G=F,ee=0,te=0;if(0===O||0!=(O&O-1)){for(Q=0;0!=O>>++Q;);Q=1<<Q,te=Q-O}if(0===F||0!=(F&F-1)){for(G=0;0!=F>>++G;);G=1<<G,ee=(G-F)*Q}if(G==F&&Q==O)return{data:R,rows:F,cols:O};var ne=Array(G*Q),oe=_Mathfloor((G-F)/2)-F,se=_Mathfloor((Q-O)/2)-O;for($=0;$<G;$++)for(W=$*Q,K=($-oe)%F*O,Z=0;Z<Q;Z++)ne[W+Z]=R[K+(Z-se)%O];return{data:ne,rows:G,cols:Q}},crop:function(R,F,O,$,Z,W){if(F==$&&O==Z)return R;var K=Object.assign({},W),Q=Array(Z*$),G=_Mathfloor((F-$)/2),ee=_Mathfloor((O-Z)/2),te,ne,oe,se;for(oe=0;oe<$;oe++)for(te=oe*$,ne=(oe+G)*O,se=0;se<Z;se++)Q[te+se]=R[ne+(se+ee)];return Q}}},function(D,E,I){'use strict';E.FFTUtils=I(169),E.FFT=I(59)},function(D,E,I){'use strict;';function F($){var Z=$,W,K;if('number'!=typeof $[0]){W=$.length,K=$[0].length,Z=Array(W*K);for(var Q=0;Q<W;Q++)for(var G=0;G<K;G++)Z[Q*K+G]=$[Q][G]}else{var ee=_Mathsqrt($.length);_NumberisInteger(ee)&&(W=ee,K=ee)}return{data:Z,rows:W,cols:K}}var O=I(170).FFTUtils;D.exports={fft:function($,Z,W){var K=F($),Q=K.data,G=Object.assign({normalize:!1,divisor:1,rows:K.rows,cols:K.cols},W),ee,te;if(G.rows&&G.cols)ee=G.rows,te=G.cols;else throw new Error('Invalid number of rows or columns '+ee+' '+te);var ne=G.divisor,ae=Z.length,le=Z[0].length,oe,se;if(G.normalize)for(ne=0,oe=0;oe<ae;oe++)for(se=0;se<le;se++)ne+=Z[oe][se];if(0===ne)throw new RangeError('convolution: The divisor is equal to zero');var de=O.toRadix2(Q,ee,te),ue=O.convolute(de.data,Z,de.rows,de.cols);if(ue=O.crop(ue,de.rows,de.cols,ee,te),0!=ne)for(oe=0;oe<ue.length;oe++)ue[oe]/ne;return ue},direct:function($,Z,W){var K=F($),Q=K.data,G=Object.assign({normalize:!1,divisor:1,rows:K.rows,cols:K.cols},W),ee,te;if(G.rows&&G.cols)ee=G.rows,te=G.cols;else throw new Error('Invalid number of rows or columns '+ee+' '+te);var ne=G.divisor,oe=Z.length,se=Z[0].length,ae,le,de,ue,ce,pe,he,ge,me;if(G.normalize)for(ne=0,ae=0;ae<oe;ae++)for(le=0;le<se;le++)ne+=Z[ae][le];if(0===ne)throw new RangeError('convolution: The divisor is equal to zero');var fe=Array(ee*te),ye=_Mathfloor(oe/2),xe=_Mathfloor(se/2);for(ue=0;ue<ee;ue++)for(de=0;de<te;de++){for(pe=0,le=0;le<oe;le++)for(ae=0;ae<se;ae++)he=Z[oe-le-1][se-ae-1],ge=(ue+le-ye+ee)%ee,me=(de+ae-xe+te)%te,ce=ge*te+me,pe+=Q[ce]*he;ce=ue*te+de,fe[ce]=pe/ne}return fe},kernelFactory:{LoG:function($,Z,W){var K=1e3;W&&W.factor&&(K=W.factor);var Q=Array(Z),G,ee,te,ne;K*=-1;var se=(Z-1)/2;for(G=0;G<Z;G++)for(Q[G]=Array(Z),ne=(G-se)*(G-se),ee=0;ee<Z;ee++)te=-((ee-se)*(ee-se)+ne)/(2*$*$),Q[G][ee]=_Mathround(K*(1+te)*_Mathexp(te));return Q}},matrix2Array:F}},function(D,E,I){'use strict';const T=I(167),R=[-1,0],F=[0,-1],O=[null,null],$=[-1,-1,0,1],Z=[0,-1,-1,-1],W=[null,null,null,null];D.exports=function(K,Q,G,ee){ee=ee||{};const te=ee.neighbours||8;var ne,oe,se;if(8===te)ne=$,oe=Z,se=W;else if(4===te)ne=R,oe=F,se=O;else throw new RangeError('unsupported neighbours count: '+te);const ae=K.length,le=Array(ae),de=new Int16Array(ae),ue=new T;for(var pe=1,he=0,ce;he<G;he++)for(var ge=0,me;ge<Q;ge++)if(me=null,ce=ge+he*Q,K[ce]){for(var fe=0;fe<se.length;fe++){var ye=ge+ne[fe],xe=he+oe[fe];if(0<=ye&&0<=xe&&ye<Q&&xe<G){var be=le[ye+xe*Q];be?(se[fe]=be,(!me||se[fe].value<me.value)&&(me=se[fe])):se[fe]=null}}if(!me)le[ce]=ue.add(pe++);else{le[ce]=me;for(var fe=0;fe<se.length;fe++)se[fe]&&se[fe]!==me&&ue.union(me,se[fe])}}for(var he=0;he<G;he++)for(var ge=0;ge<Q;ge++)ce=ge+he*Q,K[ce]&&(de[ce]=ue.find(le[ce]).value);return de}},function(D,E,I){'use strict';function R(K,Q,G,ee){var te={},ne,oe,se,ae;for(ae=0;ae<K.length;ae++)0!=K[ae]&&(oe=ae%ee,ne=(ae-oe)/ee,te[K[ae]]?(se=te[K[ae]],se.x+=oe*Q[ae],se.y+=ne*Q[ae],se.z+=Q[ae],oe<se.minX&&(se.minX=oe),oe>se.maxX&&(se.maxX=oe),ne<se.minY&&(se.minY=ne),ne>se.maxY&&(se.maxY=ne)):te[K[ae]]={x:oe*Q[ae],y:ne*Q[ae],z:Q[ae],minX:oe,maxX:oe,minY:ne,maxY:ne});var le=Object.keys(te),de=Array(le.length);for(ae=0;ae<le.length;ae++)de[ae]=te[le[ae]],de[ae].x/=de[ae].z,de[ae].y/=de[ae].z;return de}var F=I(7).array,O=I(171),$=I(172);const Z=[[0,0,1,2,2,2,1,0,0],[0,1,4,7,7,7,4,1,0],[1,4,5,3,0,3,5,4,1],[2,7,3,-12,-23,-12,3,7,2],[2,7,0,-23,-40,-23,0,7,2],[2,7,3,-12,-23,-12,3,7,2],[1,4,5,3,0,3,5,4,1],[0,1,3,7,7,7,3,1,0],[0,0,1,2,2,2,1,0,0]];D.exports={findPeaks2DRegion:function(K,Q){var G=Object.assign({},{nStdev:3,kernel:Z},Q),ee=O.matrix2Array(K),te=ee.data,ne;ee.rows&&ee.cols&&(G.rows=ee.rows,G.cols=ee.cols);var oe=G.rows,se=G.cols;if(!oe||!se)throw new Error('Invalid number of rows or columns '+oe+' '+se);var ae=G.kernel,le=G.filteredData;le||(le=O.fft(te,ae,G));var de=G.nStdev,ue=0;for(ne=se*oe-2;0<=ne;ne--)ue+=_Mathpow(le[ne]-le[ne+1],2);ue=-_Mathsqrt(ue),ue*=de/oe;var ce=Array(se*oe);for(ne=se*oe-1;0<=ne;ne--)ce[ne]=0;var pe=0;for(ne=le.length-1;0<=ne;ne--)le[ne]<ue&&(ce[ne]=1,pe++);var he=$(ce,se,oe,{neighbours:8}),ge=R(he,te,oe,se);return 0<ge.length,ge},findPeaks2DMax:function(K,Q){var G=Object.assign({},{nStdev:3,kernel:Z},Q),ee=O.matrix2Array(K),te=ee.data;ee.rows&&ee.cols&&(G.rows=ee.rows,G.cols=ee.cols);var ne=G.rows,oe=G.cols;if(!ne||!oe)throw new Error('Invalid number of rows or columns '+ne+' '+oe);var se=G.kernel,ae=G.filteredData;ae||(ae=O.fft(te,se,G));for(var le=G.nStdev,de=0,ue=oe*ne-2;0<=ue;ue--)de+=_Mathpow(ae[ue]-ae[ue+1],2);de=-_Mathsqrt(de),de*=le/ne;for(var he=[],ge=0,ue=0,ce,pe;ue<ae.length;ue++)ae[ue]<de&&(ce=_Mathfloor(ue/oe),pe=ue%oe,0<ce&&ce+1<ne&&pe+1<oe&&0<pe&&ae[ue]<ae[ue+1]&&ae[ue]<ae[ue-1]&&(ge=(ce-1)*oe+pe,ae[ue]<ae[ge-1]&&ae[ue]<ae[ge]&&ae[ue]<ae[ge+1]&&(ge=(ce+1)*oe+pe,ae[ue]<ae[ge-1]&&ae[ue]<ae[ge]&&ae[ue]<ae[ge+1]&&he.push({x:pe,y:ce,z:te[ue]}))));return he}}},function(D){'use strict';function P(R){var F=_Mathsqrt(2*R.length+0.25)-0.5,O=[],$=Array(F),Z=F,W=0,K=[];for(W=F-1;0<=W;W--)$[W]=1;for(var Q=-1,G=[];0<Z;){if(0===G.length){for(K=Array(F),W=0;W<F;W++)K[W]=0;for(O.push(K),Q=0;0==$[Q];Q++);}else Q=G.splice(0,1);K[Q]=1,$[Q]=0,Z--;var ee=Array(F);for(W=0;W<F;W++){var te=_Mathmax(Q,W),ne=_Mathmin(Q,W);ee[W]=R[ne*(2*F-ne-1)/2+te],1==ee[W]&&1==$[W]&&0==K[W]&&(G.push(W),K[W]=1)}}return O}const T={threshold:0,out:'assignment'};D.exports=function(F,O){const $=Object.assign({},T,O);var Z,W,K,Q;if('number'==typeof F[0])Z=P(F);else if('object'==typeof F[0]){for(var G=F.length,ee=Array(G*(G+1)/2),te=0,W=0;W<G;W++)for(var K=W;K<G;K++)ee[te++]=F[W][K]>$.threshold?1:0;Z=P(ee)}if('indexes'===$.out||'values'===$.out){var ne=Array(Z.length);for(W=0;W<Z.length;W++)for(ne[W]=[],K=0;K<Z[W].length;K++)0!=Z[W][K]&&ne[W].push(K);if('values'===$.out){var oe=Array(ne.length);for(W=0;W<ne.length;W++)for(oe[W]=Array(ne[W].length),K=0;K<ne[W].length;K++)for(oe[W][K]=Array(ne[W].length),Q=0;Q<ne[W].length;Q++)oe[W][K][Q]=F[ne[W][K]][ne[W][Q]];return oe}return ne}return Z}},function(D,E,I){'use strict';function P(R,F){return R-F}var T=I(60);E.max=function(F){for(var R=-Infinity,O=0;O<F.length;O++)for(var $=0;$<F[O].length;$++)F[O][$]>R&&(R=F[O][$]);return R},E.min=function(F){for(var R=Infinity,O=0;O<F.length;O++)for(var $=0;$<F[O].length;$++)F[O][$]<R&&(R=F[O][$]);return R},E.minMax=function(F){for(var O=Infinity,$=-Infinity,Z=0;Z<F.length;Z++)for(var W=0;W<F[Z].length;W++)F[Z][W]<O&&(O=F[Z][W]),F[Z][W]>$&&($=F[Z][W]);return{min:O,max:$}},E.entropy=function(F,O){'undefined'==typeof O&&(O=0);for(var $=0,Z=F.length,W=F[0].length,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)$+=F[K][Q]*_Mathlog(F[K][Q]+O);return-$},E.mean=function(F,O){'undefined'==typeof O&&(O=0);var $=F.length,Z=F[0].length,W,K,Q,G;if(-1===O){for(W=[0],K=$*Z,Q=0;Q<$;Q++)for(G=0;G<Z;G++)W[0]+=F[Q][G];W[0]/=K}else if(0===O)for(W=Array(Z),K=$,G=0;G<Z;G++){for(W[G]=0,Q=0;Q<$;Q++)W[G]+=F[Q][G];W[G]/=K}else if(1===O)for(W=Array($),K=Z,G=0;G<$;G++){for(W[G]=0,Q=0;Q<Z;Q++)W[G]+=F[G][Q];W[G]/=K}else throw new Error('Invalid dimension');return W},E.sum=function(F,O){'undefined'==typeof O&&(O=0);var $=F.length,Z=F[0].length,W,K,Q;if(-1===O)for(W=[0],K=0;K<$;K++)for(Q=0;Q<Z;Q++)W[0]+=F[K][Q];else if(0===O)for(W=Array(Z),Q=0;Q<Z;Q++)for(W[Q]=0,K=0;K<$;K++)W[Q]+=F[K][Q];else if(1===O)for(W=Array($),Q=0;Q<$;Q++)for(W[Q]=0,K=0;K<Z;K++)W[Q]+=F[Q][K];else throw new Error('Invalid dimension');return W},E.product=function(F,O){'undefined'==typeof O&&(O=0);var $=F.length,Z=F[0].length,W,K,Q;if(-1===O)for(W=[1],K=0;K<$;K++)for(Q=0;Q<Z;Q++)W[0]*=F[K][Q];else if(0===O)for(W=Array(Z),Q=0;Q<Z;Q++)for(W[Q]=1,K=0;K<$;K++)W[Q]*=F[K][Q];else if(1===O)for(W=Array($),Q=0;Q<$;Q++)for(W[Q]=1,K=0;K<Z;K++)W[Q]*=F[Q][K];else throw new Error('Invalid dimension');return W},E.standardDeviation=function(F,O,$){for(var Z=E.variance(F,O,$),W=Z.length,K=0;K<W;K++)Z[K]=_Mathsqrt(Z[K]);return Z},E.variance=function(F,O,$){'undefined'==typeof $&&($=!0),O=O||E.mean(F);var Z=F.length;if(0===Z)return[];for(var W=F[0].length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne=0;ne<Z;ne++)te=F[ne][Q]-O[Q],G+=te,ee+=te*te;K[Q]=$?(ee-G*G/Z)/(Z-1):(ee-G*G/Z)/Z}return K},E.median=function(F){for(var O=F.length,$=F[0].length,Z=Array($),W=0,K;W<$;W++){K=Array(O);for(var Q=0;Q<O;Q++)K[Q]=F[Q][W];K.sort(P);var G=K.length;Z[W]=0==G%2?0.5*(K[G/2]+K[G/2-1]):K[_Mathfloor(G/2)]}return Z},E.mode=function(F){var O=F.length,$=F[0].length,Z=Array($),W,K;for(W=0;W<$;W++){for(var Q=Array(O),G=0;G<O;G++)Q[G]=0;var ee=Array(O),te=0;for(K=0;K<O;K++){var ne=ee.indexOf(F[K][W]);0<=ne?Q[ne]++:(ee[te]=F[K][W],Q[te]=1,te++)}var oe=0,se=0;for(K=0;K<te;K++)Q[K]>oe&&(oe=Q[K],se=K);Z[W]=ee[se]}return Z},E.skewness=function(F,O){'undefined'==typeof O&&(O=!0);for(var $=E.mean(F),Z=F.length,W=$.length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne;te<Z;te++)ne=F[te][Q]-$[Q],G+=ne*ne,ee+=ne*ne*ne;var oe=G/Z,se=ee/Z,ae=se/_Mathpow(oe,3/2);if(O){var le=_Mathsqrt(Z*(Z-1));K[Q]=le/(Z-2)*ae}else K[Q]=ae}return K},E.kurtosis=function(F,O){'undefined'==typeof O&&(O=!0);for(var $=E.mean(F),Z=F.length,W=F[0].length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne;te<Z;te++)ne=F[te][Q]-$[Q],G+=ne*ne,ee+=ne*ne*ne*ne;var oe=G/Z,se=ee/Z;if(O){var ae=G/(Z-1),de=ee/(ae*ae);K[Q]=Z*(Z+1)/((Z-1)*(Z-2)*(Z-3))*de-3*((Z-1)*(Z-1)/((Z-2)*(Z-3)))}else K[Q]=se/(oe*oe)-3}return K},E.standardError=function(F){for(var O=F.length,$=E.standardDeviation(F),Z=$.length,W=Array(Z),K=_Mathsqrt(O),Q=0;Q<Z;Q++)W[Q]=$[Q]/K;return W},E.covariance=function(F,O){return E.scatter(F,void 0,O)},E.scatter=function(F,O,$){'undefined'==typeof $&&($=0),'undefined'==typeof O&&(0===$?O=F.length-1:1===$&&(O=F[0].length-1));var Z=E.mean(F,$),W=F.length;if(0===W)return[[]];var K=F[0].length,Q,G,ee,te,ne;if(0===$){for(Q=Array(K),G=0;G<K;G++)Q[G]=Array(K);for(G=0;G<K;G++)for(ee=G;ee<K;ee++){for(te=0,ne=0;ne<W;ne++)te+=(F[ne][ee]-Z[ee])*(F[ne][G]-Z[G]);te/=O,Q[G][ee]=te,Q[ee][G]=te}}else if(1===$){for(Q=Array(W),G=0;G<W;G++)Q[G]=Array(W);for(G=0;G<W;G++)for(ee=G;ee<W;ee++){for(te=0,ne=0;ne<K;ne++)te+=(F[ee][ne]-Z[ee])*(F[G][ne]-Z[G]);te/=O,Q[G][ee]=te,Q[ee][G]=te}}else throw new Error('Invalid dimension');return Q},E.correlation=function(F){var O=E.mean(F),$=E.standardDeviation(F,!0,O),Z=E.zScores(F,O,$),W=F.length,K=F[0].length,Q,G,ee=Array(K);for(Q=0;Q<K;Q++)ee[Q]=Array(K);for(Q=0;Q<K;Q++)for(G=Q;G<K;G++){for(var te=0,ne=0,oe=Z.length;ne<oe;ne++)te+=Z[ne][G]*Z[ne][Q];te/=W-1,ee[Q][G]=te,ee[G][Q]=te}return ee},E.zScores=function(F,O,$){return O=O||E.mean(F),'undefined'==typeof $&&($=E.standardDeviation(F,!0,O)),E.standardize(E.center(F,O,!1),$,!0)},E.center=function(F,O,$){O=O||E.mean(F);var Z=F,W=F.length,K,Q,G;if(!$)for(Z=Array(W),K=0;K<W;K++)Z[K]=Array(F[K].length);for(K=0;K<W;K++){var ee=Z[K];for(Q=0,G=ee.length;Q<G;Q++)ee[Q]=F[K][Q]-O[Q]}return Z},E.standardize=function(F,O,$){'undefined'==typeof O&&(O=E.standardDeviation(F));var Z=F,W=F.length,K,Q,G;if(!$)for(Z=Array(W),K=0;K<W;K++)Z[K]=Array(F[K].length);for(K=0;K<W;K++){var ee=Z[K],te=F[K];for(Q=0,G=ee.length;Q<G;Q++)0===O[Q]||isNaN(O[Q])||(ee[Q]=te[Q]/O[Q])}return Z},E.weightedVariance=function(F,O){var $=E.mean(F),Z=F.length;if(0===Z)return[];for(var W=F[0].length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne=0;ne<Z;ne++){var oe=F[ne][Q]-$[Q],se=O[ne];G+=se*(oe*oe),te+=se,ee+=se*se}K[Q]=G*(te/(te*te-ee))}return K},E.weightedMean=function(F,O,$){'undefined'==typeof $&&($=0);var Z=F.length;if(0===Z)return[];var W=F[0].length,K,Q,G,ee,te,ne;if(0===$){for(K=Array(W),Q=0;Q<W;Q++)K[Q]=0;for(Q=0;Q<Z;Q++)for(ne=F[Q],te=O[Q],ee=0;ee<W;ee++)K[ee]+=ne[ee]*te}else if(1===$){for(K=Array(Z),Q=0;Q<Z;Q++)K[Q]=0;for(ee=0;ee<Z;ee++)for(ne=F[ee],te=O[ee],Q=0;Q<W;Q++)K[ee]+=ne[Q]*te}else throw new Error('Invalid dimension');var oe=T.sum(O);if(0!==oe)for(Q=0,G=K.length;Q<G;Q++)K[Q]/=oe;return K},E.weightedCovariance=function(F,O,$,Z){Z=Z||0,$=$||E.weightedMean(F,O,Z);for(var W=0,K=0,Q=0,G=O.length;Q<G;Q++)W+=O[Q],K+=O[Q]*O[Q];var ee=W/(W*W-K);return E.weightedScatter(F,O,$,ee,Z)},E.weightedScatter=function(F,O,$,Z,W){W=W||0,$=$||E.weightedMean(F,O,W),'undefined'==typeof Z&&(Z=1);var K=F.length;if(0===K)return[[]];var Q=F[0].length,G,ee,te,ne,oe;if(0===W){for(G=Array(Q),ee=0;ee<Q;ee++)G[ee]=Array(Q);for(ee=0;ee<Q;ee++)for(te=ee;te<Q;te++){for(oe=0,ne=0;ne<K;ne++)oe+=O[ne]*(F[ne][te]-$[te])*(F[ne][ee]-$[ee]);G[ee][te]=oe*Z,G[te][ee]=oe*Z}}else if(1===W){for(G=Array(K),ee=0;ee<K;ee++)G[ee]=Array(K);for(ee=0;ee<K;ee++)for(te=ee;te<K;te++){for(oe=0,ne=0;ne<Q;ne++)oe+=O[ne]*(F[te][ne]-$[te])*(F[ee][ne]-$[ee]);G[ee][te]=oe*Z,G[te][ee]=oe*Z}}else throw new Error('Invalid dimension');return G}},function(D,E,I){'use strict';var P=I(3).assign,T=I(177),R=I(178),F=I(63),O={};P(O,T,R,F),D.exports=O},function(D,E,I){'use strict';function P(de){if(!(this instanceof P))return new P(de);this.options=$.assign({level:se,method:le,chunkSize:16384,windowBits:15,memLevel:8,strategy:ae,to:''},de||{});var ue=this.options;ue.raw&&0<ue.windowBits?ue.windowBits=-ue.windowBits:ue.gzip&&0<ue.windowBits&&16>ue.windowBits&&(ue.windowBits+=16),this.err=0,this.msg='',this.ended=!1,this.chunks=[],this.strm=new K,this.strm.avail_out=0;var ce=O.deflateInit2(this.strm,ue.level,ue.method,ue.windowBits,ue.memLevel,ue.strategy);if(ce!==te)throw new Error(W[ce]);if(ue.header&&O.deflateSetHeader(this.strm,ue.header),ue.dictionary){var pe;if(pe='string'==typeof ue.dictionary?Z.string2buf(ue.dictionary):'[object ArrayBuffer]'===Q.call(ue.dictionary)?new Uint8Array(ue.dictionary):ue.dictionary,ce=O.deflateSetDictionary(this.strm,pe),ce!==te)throw new Error(W[ce]);this._dict_set=!0}}function T(de,ue){var ce=new P(ue);if(ce.push(de,!0),ce.err)throw ce.msg||W[ce.err];return ce.result}var O=I(179),$=I(3),Z=I(61),W=I(22),K=I(65),Q=Object.prototype.toString,ee=4,te=0,ne=1,oe=2,se=-1,ae=0,le=8;P.prototype.push=function(de,ue){var ce=this.strm,pe=this.options.chunkSize,he,ge;if(this.ended)return!1;ge=ue===~~ue?ue:!0===ue?ee:0,ce.input='string'==typeof de?Z.string2buf(de):'[object ArrayBuffer]'===Q.call(de)?new Uint8Array(de):de,ce.next_in=0,ce.avail_in=ce.input.length;do{if(0===ce.avail_out&&(ce.output=new $.Buf8(pe),ce.next_out=0,ce.avail_out=pe),he=O.deflate(ce,ge),he!==ne&&he!==te)return this.onEnd(he),this.ended=!0,!1;(0===ce.avail_out||0===ce.avail_in&&(ge===ee||ge===oe))&&('string'===this.options.to?this.onData(Z.buf2binstring($.shrinkBuf(ce.output,ce.next_out))):this.onData($.shrinkBuf(ce.output,ce.next_out)))}while((0<ce.avail_in||0===ce.avail_out)&&he!==ne);return ge===ee?(he=O.deflateEnd(this.strm),this.onEnd(he),this.ended=!0,he===te):ge!==oe||(this.onEnd(te),ce.avail_out=0,!0)},P.prototype.onData=function(de){this.chunks.push(de)},P.prototype.onEnd=function(de){de===te&&('string'===this.options.to?this.result=this.chunks.join(''):this.result=$.flattenChunks(this.chunks)),this.chunks=[],this.err=de,this.msg=this.strm.msg},E.Deflate=P,E.deflate=T,E.deflateRaw=function(de,ue){return ue=ue||{},ue.raw=!0,T(de,ue)},E.gzip=function(de,ue){return ue=ue||{},ue.gzip=!0,T(de,ue)}},function(D,E,I){'use strict';function P(ee){if(!(this instanceof P))return new P(ee);this.options=O.assign({chunkSize:16384,windowBits:0,to:''},ee||{});var te=this.options;te.raw&&0<=te.windowBits&&16>te.windowBits&&(te.windowBits=-te.windowBits,0===te.windowBits&&(te.windowBits=-15)),0<=te.windowBits&&16>te.windowBits&&!(ee&&ee.windowBits)&&(te.windowBits+=32),15<te.windowBits&&48>te.windowBits&&0==(15&te.windowBits)&&(te.windowBits|=15),this.err=0,this.msg='',this.ended=!1,this.chunks=[],this.strm=new K,this.strm.avail_out=0;var ne=F.inflateInit2(this.strm,te.windowBits);if(ne!==Z.Z_OK)throw new Error(W[ne]);this.header=new Q,F.inflateGetHeader(this.strm,this.header)}function T(ee,te){var ne=new P(te);if(ne.push(ee,!0),ne.err)throw ne.msg||W[ne.err];return ne.result}var F=I(182),O=I(3),$=I(61),Z=I(63),W=I(22),K=I(65),Q=I(180),G=Object.prototype.toString;P.prototype.push=function(ee,te){var ne=this.strm,oe=this.options.chunkSize,se=this.options.dictionary,he=!1,ae,le,de,ue,ce,pe;if(this.ended)return!1;le=te===~~te?te:!0===te?Z.Z_FINISH:Z.Z_NO_FLUSH,ne.input='string'==typeof ee?$.binstring2buf(ee):'[object ArrayBuffer]'===G.call(ee)?new Uint8Array(ee):ee,ne.next_in=0,ne.avail_in=ne.input.length;do{if(0===ne.avail_out&&(ne.output=new O.Buf8(oe),ne.next_out=0,ne.avail_out=oe),ae=F.inflate(ne,Z.Z_NO_FLUSH),ae===Z.Z_NEED_DICT&&se&&(pe='string'==typeof se?$.string2buf(se):'[object ArrayBuffer]'===G.call(se)?new Uint8Array(se):se,ae=F.inflateSetDictionary(this.strm,pe)),ae===Z.Z_BUF_ERROR&&!0==he&&(ae=Z.Z_OK,he=!1),ae!==Z.Z_STREAM_END&&ae!==Z.Z_OK)return this.onEnd(ae),this.ended=!0,!1;ne.next_out&&(0===ne.avail_out||ae===Z.Z_STREAM_END||0===ne.avail_in&&(le===Z.Z_FINISH||le===Z.Z_SYNC_FLUSH))&&('string'===this.options.to?(de=$.utf8border(ne.output,ne.next_out),ue=ne.next_out-de,ce=$.buf2string(ne.output,de),ne.next_out=ue,ne.avail_out=oe-ue,ue&&O.arraySet(ne.output,ne.output,de,ue,0),this.onData(ce)):this.onData(O.shrinkBuf(ne.output,ne.next_out))),0===ne.avail_in&&0===ne.avail_out&&(he=!0)}while((0<ne.avail_in||0===ne.avail_out)&&ae!==Z.Z_STREAM_END);return ae===Z.Z_STREAM_END&&(le=Z.Z_FINISH),le===Z.Z_FINISH?(ae=F.inflateEnd(this.strm),this.onEnd(ae),this.ended=!0,ae===Z.Z_OK):le!==Z.Z_SYNC_FLUSH||(this.onEnd(Z.Z_OK),ne.avail_out=0,!0)},P.prototype.onData=function(ee){this.chunks.push(ee)},P.prototype.onEnd=function(ee){ee===Z.Z_OK&&('string'===this.options.to?this.result=this.chunks.join(''):this.result=O.flattenChunks(this.chunks)),this.chunks=[],this.err=ee,this.msg=this.strm.msg},E.Inflate=P,E.inflate=T,E.inflateRaw=function(ee,te){return te=te||{},te.raw=!0,T(ee,te)},E.ungzip=T},function(D,E,I){'use strict';function P(gt,mt){return gt.msg=ke[mt],mt}function T(gt){return(gt<<1)-(4<gt?9:0)}function R(gt){for(var mt=gt.length;0<=--mt;)gt[mt]=0}function F(gt){var mt=gt.state,yt=mt.pending;yt>gt.avail_out&&(yt=gt.avail_out);0===yt||(ye.arraySet(gt.output,mt.pending_buf,mt.pending_out,yt,gt.next_out),gt.next_out+=yt,mt.pending_out+=yt,gt.total_out+=yt,gt.avail_out-=yt,mt.pending-=yt,0===mt.pending&&(mt.pending_out=0))}function O(gt,mt){xe._tr_flush_block(gt,0<=gt.block_start?gt.block_start:-1,gt.strstart-gt.block_start,mt),gt.block_start=gt.strstart,F(gt.strm)}function $(gt,mt){gt.pending_buf[gt.pending++]=mt}function Z(gt,mt){gt.pending_buf[gt.pending++]=255&mt>>>8,gt.pending_buf[gt.pending++]=255&mt}function W(gt,mt,yt,xt){var bt=gt.avail_in;return(bt>xt&&(bt=xt),0===bt)?0:(gt.avail_in-=bt,ye.arraySet(mt,gt.input,gt.next_in,bt,yt),1===gt.state.wrap?gt.adler=be(gt.adler,mt,bt,yt):2===gt.state.wrap&&(gt.adler=_e(gt.adler,mt,bt,yt)),gt.next_in+=bt,gt.total_in+=bt,bt)}function K(gt,mt){var yt=gt.max_chain_length,xt=gt.strstart,bt,_t,kt=gt.prev_length,jt=gt.nice_match,wt=gt.strstart>gt.w_size-Ge?gt.strstart-(gt.w_size-Ge):0,Ct=gt.window,vt=gt.w_mask,St=gt.prev,Dt=gt.strstart+Qe,Et=Ct[xt+kt-1],At=Ct[xt+kt];gt.prev_length>=gt.good_match&&(yt>>=2),jt>gt.lookahead&&(jt=gt.lookahead);do{if(bt=mt,Ct[bt+kt]!==At||Ct[bt+kt-1]!==Et||Ct[bt]!==Ct[xt]||Ct[++bt]!==Ct[xt+1])continue;xt+=2,bt++;do;while(Ct[++xt]===Ct[++bt]&&Ct[++xt]===Ct[++bt]&&Ct[++xt]===Ct[++bt]&&Ct[++xt]===Ct[++bt]&&Ct[++xt]===Ct[++bt]&&Ct[++xt]===Ct[++bt]&&Ct[++xt]===Ct[++bt]&&Ct[++xt]===Ct[++bt]&&xt<Dt);if(_t=Qe-(Dt-xt),xt=Dt-Qe,_t>kt){if(gt.match_start=mt,kt=_t,_t>=jt)break;Et=Ct[xt+kt-1],At=Ct[xt+kt]}}while((mt=St[mt&vt])>wt&&0!=--yt);return kt<=gt.lookahead?kt:gt.lookahead}function Q(gt){var mt=gt.w_size,yt,xt,bt,_t,kt;do{if(_t=gt.window_size-gt.lookahead-gt.strstart,gt.strstart>=mt+(mt-Ge)){ye.arraySet(gt.window,gt.window,mt,mt,0),gt.match_start-=mt,gt.strstart-=mt,gt.block_start-=mt,xt=gt.hash_size,yt=xt;do bt=gt.head[--yt],gt.head[yt]=bt>=mt?bt-mt:0;while(--xt);xt=mt,yt=xt;do bt=gt.prev[--yt],gt.prev[yt]=bt>=mt?bt-mt:0;while(--xt);_t+=mt}if(0===gt.strm.avail_in)break;if(xt=W(gt.strm,gt.window,gt.strstart+gt.lookahead,_t),gt.lookahead+=xt,gt.lookahead+gt.insert>=Ke)for(kt=gt.strstart-gt.insert,gt.ins_h=gt.window[kt],gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[kt+1])&gt.hash_mask;gt.insert&&(gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[kt+Ke-1])&gt.hash_mask,gt.prev[kt&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=kt,kt++,gt.insert--,!(gt.lookahead+gt.insert<Ke)););}while(gt.lookahead<Ge&&0!==gt.strm.avail_in)}function ee(gt,mt){for(var yt,xt;;){if(gt.lookahead<Ge){if(Q(gt),gt.lookahead<Ge&&mt===je)return lt;if(0===gt.lookahead)break}if(yt=0,gt.lookahead>=Ke&&(gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+Ke-1])&gt.hash_mask,yt=gt.prev[gt.strstart&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=gt.strstart),0!==yt&&gt.strstart-yt<=gt.w_size-Ge&&(gt.match_length=K(gt,yt)),!(gt.match_length>=Ke))xt=xe._tr_tally(gt,0,gt.window[gt.strstart]),gt.lookahead--,gt.strstart++;else if(xt=xe._tr_tally(gt,gt.strstart-gt.match_start,gt.match_length-Ke),gt.lookahead-=gt.match_length,gt.match_length<=gt.max_lazy_match&&gt.lookahead>=Ke){gt.match_length--;do gt.strstart++,gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+Ke-1])&gt.hash_mask,yt=gt.prev[gt.strstart&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=gt.strstart;while(0!=--gt.match_length);gt.strstart++}else gt.strstart+=gt.match_length,gt.match_length=0,gt.ins_h=gt.window[gt.strstart],gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+1])&gt.hash_mask;if(xt&&(O(gt,!1),0===gt.strm.avail_out))return lt}return gt.insert=gt.strstart<Ke-1?gt.strstart:Ke-1,mt===ve?(O(gt,!0),0===gt.strm.avail_out?ut:ct):gt.last_lit&&(O(gt,!1),0===gt.strm.avail_out)?lt:dt}function te(gt,mt){for(var yt,xt,bt;;){if(gt.lookahead<Ge){if(Q(gt),gt.lookahead<Ge&&mt===je)return lt;if(0===gt.lookahead)break}if(yt=0,gt.lookahead>=Ke&&(gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+Ke-1])&gt.hash_mask,yt=gt.prev[gt.strstart&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=gt.strstart),gt.prev_length=gt.match_length,gt.prev_match=gt.match_start,gt.match_length=Ke-1,0!==yt&&gt.prev_length<gt.max_lazy_match&&gt.strstart-yt<=gt.w_size-Ge&&(gt.match_length=K(gt,yt),5>=gt.match_length&&(gt.strategy===Te||gt.match_length===Ke&&4096<gt.strstart-gt.match_start)&&(gt.match_length=Ke-1)),gt.prev_length>=Ke&&gt.match_length<=gt.prev_length){bt=gt.strstart+gt.lookahead-Ke,xt=xe._tr_tally(gt,gt.strstart-1-gt.prev_match,gt.prev_length-Ke),gt.lookahead-=gt.prev_length-1,gt.prev_length-=2;do++gt.strstart<=bt&&(gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+Ke-1])&gt.hash_mask,yt=gt.prev[gt.strstart&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=gt.strstart);while(0!=--gt.prev_length);if(gt.match_available=0,gt.match_length=Ke-1,gt.strstart++,xt&&(O(gt,!1),0===gt.strm.avail_out))return lt}else if(!gt.match_available)gt.match_available=1,gt.strstart++,gt.lookahead--;else if(xt=xe._tr_tally(gt,0,gt.window[gt.strstart-1]),xt&&O(gt,!1),gt.strstart++,gt.lookahead--,0===gt.strm.avail_out)return lt}return gt.match_available&&(xt=xe._tr_tally(gt,0,gt.window[gt.strstart-1]),gt.match_available=0),gt.insert=gt.strstart<Ke-1?gt.strstart:Ke-1,mt===ve?(O(gt,!0),0===gt.strm.avail_out?ut:ct):gt.last_lit&&(O(gt,!1),0===gt.strm.avail_out)?lt:dt}function ne(gt,mt){for(var kt=gt.window,yt,xt,bt,_t;;){if(gt.lookahead<=Qe){if(Q(gt),gt.lookahead<=Qe&&mt===je)return lt;if(0===gt.lookahead)break}if(gt.match_length=0,gt.lookahead>=Ke&&0<gt.strstart&&(bt=gt.strstart-1,xt=kt[bt],xt===kt[++bt]&&xt===kt[++bt]&&xt===kt[++bt])){_t=gt.strstart+Qe;do;while(xt===kt[++bt]&&xt===kt[++bt]&&xt===kt[++bt]&&xt===kt[++bt]&&xt===kt[++bt]&&xt===kt[++bt]&&xt===kt[++bt]&&xt===kt[++bt]&&bt<_t);gt.match_length=Qe-(_t-bt),gt.match_length>gt.lookahead&&(gt.match_length=gt.lookahead)}if(gt.match_length>=Ke?(yt=xe._tr_tally(gt,1,gt.match_length-Ke),gt.lookahead-=gt.match_length,gt.strstart+=gt.match_length,gt.match_length=0):(yt=xe._tr_tally(gt,0,gt.window[gt.strstart]),gt.lookahead--,gt.strstart++),yt&&(O(gt,!1),0===gt.strm.avail_out))return lt}return gt.insert=0,mt===ve?(O(gt,!0),0===gt.strm.avail_out?ut:ct):gt.last_lit&&(O(gt,!1),0===gt.strm.avail_out)?lt:dt}function oe(gt,mt){for(var yt;;){if(0===gt.lookahead&&(Q(gt),0===gt.lookahead)){if(mt===je)return lt;break}if(gt.match_length=0,yt=xe._tr_tally(gt,0,gt.window[gt.strstart]),gt.lookahead--,gt.strstart++,yt&&(O(gt,!1),0===gt.strm.avail_out))return lt}return gt.insert=0,mt===ve?(O(gt,!0),0===gt.strm.avail_out?ut:ct):gt.last_lit&&(O(gt,!1),0===gt.strm.avail_out)?lt:dt}function se(gt,mt,yt,xt,bt){this.good_length=gt,this.max_lazy=mt,this.nice_length=yt,this.max_chain=xt,this.func=bt}function ae(gt){gt.window_size=2*gt.w_size,R(gt.head),gt.max_lazy_match=ht[gt.level].max_lazy,gt.good_match=ht[gt.level].good_length,gt.nice_match=ht[gt.level].nice_length,gt.max_chain_length=ht[gt.level].max_chain,gt.strstart=0,gt.block_start=0,gt.lookahead=0,gt.insert=0,gt.match_length=gt.prev_length=Ke-1,gt.match_available=0,gt.ins_h=0}function le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Xe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ye.Buf16(2*Ze),this.dyn_dtree=new ye.Buf16(2*(2*Ve+1)),this.bl_tree=new ye.Buf16(2*(2*$e+1)),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ye.Buf16(We+1),this.heap=new ye.Buf16(2*qe+1),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ye.Buf16(2*qe+1),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function de(gt){var mt;return gt&&gt.state?(gt.total_in=gt.total_out=0,gt.data_type=Oe,mt=gt.state,mt.pending=0,mt.pending_out=0,0>mt.wrap&&(mt.wrap=-mt.wrap),mt.status=mt.wrap?et:st,gt.adler=2===mt.wrap?0:1,mt.last_flush=je,xe._tr_init(mt),De):P(gt,Ae)}function ue(gt){var mt=de(gt);return mt===De&&ae(gt.state),mt}function pe(gt,mt,yt,xt,bt,_t){if(!gt)return Ae;var kt=1;if(mt===Pe&&(mt=6),0>xt?(kt=0,xt=-xt):15<xt&&(kt=2,xt-=16),1>bt||bt>Ne||yt!==Xe||8>xt||15<xt||0>mt||9<mt||0>_t||_t>Me)return P(gt,Ae);8===xt&&(xt=9);var jt=new le;return gt.state=jt,jt.strm=gt,jt.wrap=kt,jt.gzhead=null,jt.w_bits=xt,jt.w_size=1<<jt.w_bits,jt.w_mask=jt.w_size-1,jt.hash_bits=bt+7,jt.hash_size=1<<jt.hash_bits,jt.hash_mask=jt.hash_size-1,jt.hash_shift=~~((jt.hash_bits+Ke-1)/Ke),jt.window=new ye.Buf8(2*jt.w_size),jt.head=new ye.Buf16(jt.hash_size),jt.prev=new ye.Buf16(jt.w_size),jt.lit_bufsize=1<<bt+6,jt.pending_buf_size=4*jt.lit_bufsize,jt.pending_buf=new ye.Buf8(jt.pending_buf_size),jt.d_buf=1*jt.lit_bufsize,jt.l_buf=3*jt.lit_bufsize,jt.level=mt,jt.strategy=_t,jt.method=yt,ue(gt)}var ye=I(3),xe=I(184),be=I(62),_e=I(64),ke=I(22),je=0,ve=4,Se=5,De=0,Ee=1,Ae=-2,He=-5,Pe=-1,Te=1,Re=2,Me=4,Oe=2,Xe=8,Ne=9,qe=256+1+29,Ve=30,$e=19,Ze=2*qe+1,We=15,Ke=3,Qe=258,Ge=Qe+Ke+1,et=42,tt=69,it=73,nt=91,ot=103,st=113,at=666,lt=1,dt=2,ut=3,ct=4,ht;ht=[new se(0,0,0,0,function(gt,mt){var yt=65535;for(yt>gt.pending_buf_size-5&&(yt=gt.pending_buf_size-5);;){if(1>=gt.lookahead){if(Q(gt),0===gt.lookahead&&mt===je)return lt;if(0===gt.lookahead)break}gt.strstart+=gt.lookahead,gt.lookahead=0;var xt=gt.block_start+yt;if((0===gt.strstart||gt.strstart>=xt)&&(gt.lookahead=gt.strstart-xt,gt.strstart=xt,O(gt,!1),0===gt.strm.avail_out))return lt;if(gt.strstart-gt.block_start>=gt.w_size-Ge&&(O(gt,!1),0===gt.strm.avail_out))return lt}return gt.insert=0,mt===ve?(O(gt,!0),0===gt.strm.avail_out?ut:ct):gt.strstart>gt.block_start&&(O(gt,!1),0===gt.strm.avail_out)?lt:lt}),new se(4,4,8,4,ee),new se(4,5,16,8,ee),new se(4,6,32,32,ee),new se(4,4,16,16,te),new se(8,16,32,32,te),new se(8,16,128,128,te),new se(8,32,128,256,te),new se(32,128,258,1024,te),new se(32,258,258,4096,te)],E.deflateInit=function(gt,mt){return pe(gt,mt,Xe,15,8,0)},E.deflateInit2=pe,E.deflateReset=ue,E.deflateResetKeep=de,E.deflateSetHeader=function(gt,mt){return gt&&gt.state?2===gt.state.wrap?(gt.state.gzhead=mt,De):Ae:Ae},E.deflate=function(gt,mt){var yt,xt,bt,_t;if(!gt||!gt.state||mt>Se||0>mt)return gt?P(gt,Ae):Ae;if(xt=gt.state,!gt.output||!gt.input&&0!==gt.avail_in||xt.status===at&&mt!==ve)return P(gt,0===gt.avail_out?He:Ae);if(xt.strm=gt,yt=xt.last_flush,xt.last_flush=mt,xt.status===et)if(2===xt.wrap)gt.adler=0,$(xt,31),$(xt,139),$(xt,8),xt.gzhead?($(xt,(xt.gzhead.text?1:0)+(xt.gzhead.hcrc?2:0)+(xt.gzhead.extra?4:0)+(xt.gzhead.name?8:0)+(xt.gzhead.comment?16:0)),$(xt,255&xt.gzhead.time),$(xt,255&xt.gzhead.time>>8),$(xt,255&xt.gzhead.time>>16),$(xt,255&xt.gzhead.time>>24),$(xt,9===xt.level?2:xt.strategy>=Re||2>xt.level?4:0),$(xt,255&xt.gzhead.os),xt.gzhead.extra&&xt.gzhead.extra.length&&($(xt,255&xt.gzhead.extra.length),$(xt,255&xt.gzhead.extra.length>>8)),xt.gzhead.hcrc&&(gt.adler=_e(gt.adler,xt.pending_buf,xt.pending,0)),xt.gzindex=0,xt.status=tt):($(xt,0),$(xt,0),$(xt,0),$(xt,0),$(xt,0),$(xt,9===xt.level?2:xt.strategy>=Re||2>xt.level?4:0),$(xt,3),xt.status=st);else{var kt=Xe+(xt.w_bits-8<<4)<<8,jt=-1;jt=xt.strategy>=Re||2>xt.level?0:6>xt.level?1:6===xt.level?2:3,kt|=jt<<6,0!==xt.strstart&&(kt|=32),kt+=31-kt%31,xt.status=st,Z(xt,kt),0!==xt.strstart&&(Z(xt,gt.adler>>>16),Z(xt,65535&gt.adler)),gt.adler=1}if(xt.status===tt)if(xt.gzhead.extra){for(bt=xt.pending;xt.gzindex<(65535&xt.gzhead.extra.length)&&!(xt.pending===xt.pending_buf_size&&(xt.gzhead.hcrc&&xt.pending>bt&&(gt.adler=_e(gt.adler,xt.pending_buf,xt.pending-bt,bt)),F(gt),bt=xt.pending,xt.pending===xt.pending_buf_size));)$(xt,255&xt.gzhead.extra[xt.gzindex]),xt.gzindex++;xt.gzhead.hcrc&&xt.pending>bt&&(gt.adler=_e(gt.adler,xt.pending_buf,xt.pending-bt,bt)),xt.gzindex===xt.gzhead.extra.length&&(xt.gzindex=0,xt.status=it)}else xt.status=it;if(xt.status===it)if(xt.gzhead.name){bt=xt.pending;do{if(xt.pending===xt.pending_buf_size&&(xt.gzhead.hcrc&&xt.pending>bt&&(gt.adler=_e(gt.adler,xt.pending_buf,xt.pending-bt,bt)),F(gt),bt=xt.pending,xt.pending===xt.pending_buf_size)){_t=1;break}_t=xt.gzindex<xt.gzhead.name.length?255&xt.gzhead.name.charCodeAt(xt.gzindex++):0,$(xt,_t)}while(0!==_t);xt.gzhead.hcrc&&xt.pending>bt&&(gt.adler=_e(gt.adler,xt.pending_buf,xt.pending-bt,bt)),0===_t&&(xt.gzindex=0,xt.status=nt)}else xt.status=nt;if(xt.status===nt)if(xt.gzhead.comment){bt=xt.pending;do{if(xt.pending===xt.pending_buf_size&&(xt.gzhead.hcrc&&xt.pending>bt&&(gt.adler=_e(gt.adler,xt.pending_buf,xt.pending-bt,bt)),F(gt),bt=xt.pending,xt.pending===xt.pending_buf_size)){_t=1;break}_t=xt.gzindex<xt.gzhead.comment.length?255&xt.gzhead.comment.charCodeAt(xt.gzindex++):0,$(xt,_t)}while(0!==_t);xt.gzhead.hcrc&&xt.pending>bt&&(gt.adler=_e(gt.adler,xt.pending_buf,xt.pending-bt,bt)),0===_t&&(xt.status=ot)}else xt.status=ot;if(xt.status===ot&&(xt.gzhead.hcrc?(xt.pending+2>xt.pending_buf_size&&F(gt),xt.pending+2<=xt.pending_buf_size&&($(xt,255&gt.adler),$(xt,255&gt.adler>>8),gt.adler=0,xt.status=st)):xt.status=st),0!==xt.pending){if(F(gt),0===gt.avail_out)return xt.last_flush=-1,De;}else if(0===gt.avail_in&&T(mt)<=T(yt)&&mt!==ve)return P(gt,He);if(xt.status===at&&0!==gt.avail_in)return P(gt,He);if(0!==gt.avail_in||0!==xt.lookahead||mt!==je&&xt.status!==at){var wt=xt.strategy===Re?oe(xt,mt):xt.strategy===3?ne(xt,mt):ht[xt.level].func(xt,mt);if((wt===ut||wt===ct)&&(xt.status=at),wt===lt||wt===ut)return 0===gt.avail_out&&(xt.last_flush=-1),De;if(wt===dt&&(mt===1?xe._tr_align(xt):mt!==Se&&(xe._tr_stored_block(xt,0,0,!1),mt===3&&(R(xt.head),0===xt.lookahead&&(xt.strstart=0,xt.block_start=0,xt.insert=0))),F(gt),0===gt.avail_out))return xt.last_flush=-1,De}return mt===ve?0>=xt.wrap?Ee:(2===xt.wrap?($(xt,255&gt.adler),$(xt,255&gt.adler>>8),$(xt,255&gt.adler>>16),$(xt,255&gt.adler>>24),$(xt,255&gt.total_in),$(xt,255&gt.total_in>>8),$(xt,255&gt.total_in>>16),$(xt,255&gt.total_in>>24)):(Z(xt,gt.adler>>>16),Z(xt,65535&gt.adler)),F(gt),0<xt.wrap&&(xt.wrap=-xt.wrap),0===xt.pending?Ee:De):De},E.deflateEnd=function(gt){var mt;return gt&&gt.state?(mt=gt.state.status,mt!==et&&mt!==tt&&mt!==it&&mt!==nt&&mt!==ot&&mt!==st&&mt!==at)?P(gt,Ae):(gt.state=null,mt===st?P(gt,-3):De):Ae},E.deflateSetDictionary=function(gt,mt){var yt=mt.length,xt,bt,_t,kt,jt,wt,Ct,vt;if(!gt||!gt.state)return Ae;if(xt=gt.state,kt=xt.wrap,2===kt||1===kt&&xt.status!==et||xt.lookahead)return Ae;for(1===kt&&(gt.adler=be(gt.adler,mt,yt,0)),xt.wrap=0,yt>=xt.w_size&&(0===kt&&(R(xt.head),xt.strstart=0,xt.block_start=0,xt.insert=0),vt=new ye.Buf8(xt.w_size),ye.arraySet(vt,mt,yt-xt.w_size,xt.w_size,0),mt=vt,yt=xt.w_size),jt=gt.avail_in,wt=gt.next_in,Ct=gt.input,gt.avail_in=yt,gt.next_in=0,gt.input=mt,Q(xt);xt.lookahead>=Ke;){bt=xt.strstart,_t=xt.lookahead-(Ke-1);do xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[bt+Ke-1])&xt.hash_mask,xt.prev[bt&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=bt,bt++;while(--_t);xt.strstart=bt,xt.lookahead=Ke-1,Q(xt)}return xt.strstart+=xt.lookahead,xt.block_start=xt.strstart,xt.insert=xt.lookahead,xt.lookahead=0,xt.match_length=xt.prev_length=Ke-1,xt.match_available=0,gt.next_in=wt,gt.input=Ct,gt.avail_in=jt,xt.wrap=kt,De},E.deflateInfo='pako deflate (from Nodeca project)'},function(D){'use strict';D.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name='',this.comment='',this.hcrc=0,this.done=!1}},function(D){'use strict';var P=30;D.exports=function(F,O){var $,Z,W,K,Q,G,ee,te,ne,oe,se,ae,le,de,ue,ce,pe,he,ge,me,fe,ye,xe,be,_e;$=F.state,Z=F.next_in,be=F.input,W=Z+(F.avail_in-5),K=F.next_out,_e=F.output,Q=K-(O-F.avail_out),G=K+(F.avail_out-257),ee=$.dmax,te=$.wsize,ne=$.whave,oe=$.wnext,se=$.window,ae=$.hold,le=$.bits,de=$.lencode,ue=$.distcode,ce=(1<<$.lenbits)-1,pe=(1<<$.distbits)-1;top:do{15>le&&(ae+=be[Z++]<<le,le+=8,ae+=be[Z++]<<le,le+=8),he=de[ae&ce];dolen:for(;;){if(ge=he>>>24,ae>>>=ge,le-=ge,ge=255&he>>>16,0===ge)_e[K++]=65535&he;else if(16&ge){me=65535&he,ge&=15,ge&&(le<ge&&(ae+=be[Z++]<<le,le+=8),me+=ae&(1<<ge)-1,ae>>>=ge,le-=ge),15>le&&(ae+=be[Z++]<<le,le+=8,ae+=be[Z++]<<le,le+=8),he=ue[ae&pe];dodist:for(;;){if(ge=he>>>24,ae>>>=ge,le-=ge,ge=255&he>>>16,16&ge){if(fe=65535&he,ge&=15,le<ge&&(ae+=be[Z++]<<le,le+=8,le<ge&&(ae+=be[Z++]<<le,le+=8)),fe+=ae&(1<<ge)-1,fe>ee){F.msg='invalid distance too far back',$.mode=P;break top}if(ae>>>=ge,le-=ge,ge=K-Q,fe>ge){if(ge=fe-ge,ge>ne&&$.sane){F.msg='invalid distance too far back',$.mode=P;break top}if(ye=0,xe=se,0===oe){if(ye+=te-ge,ge<me){me-=ge;do _e[K++]=se[ye++];while(--ge);ye=K-fe,xe=_e}}else if(oe<ge){if(ye+=te+oe-ge,ge-=oe,ge<me){me-=ge;do _e[K++]=se[ye++];while(--ge);if(ye=0,oe<me){ge=oe,me-=ge;do _e[K++]=se[ye++];while(--ge);ye=K-fe,xe=_e}}}else if(ye+=oe-ge,ge<me){me-=ge;do _e[K++]=se[ye++];while(--ge);ye=K-fe,xe=_e}for(;2<me;)_e[K++]=xe[ye++],_e[K++]=xe[ye++],_e[K++]=xe[ye++],me-=3;me&&(_e[K++]=xe[ye++],1<me&&(_e[K++]=xe[ye++]))}else{ye=K-fe;do _e[K++]=_e[ye++],_e[K++]=_e[ye++],_e[K++]=_e[ye++],me-=3;while(2<me);me&&(_e[K++]=_e[ye++],1<me&&(_e[K++]=_e[ye++]))}}else if(0==(64&ge)){he=ue[(65535&he)+(ae&(1<<ge)-1)];continue dodist}else{F.msg='invalid distance code',$.mode=P;break top}break}}else if(0==(64&ge)){he=de[(65535&he)+(ae&(1<<ge)-1)];continue dolen}else if(32&ge){$.mode=12;break top}else{F.msg='invalid literal/length code',$.mode=P;break top}break}}while(Z<W&&K<G);return me=le>>3,Z-=me,le-=me<<3,ae&=(1<<le)-1,F.next_in=Z,F.next_out=K,F.avail_in=Z<W?5+(W-Z):5-(Z-W),F.avail_out=K<G?257+(G-K):257-(K-G),$.hold=ae,void($.bits=le)}},function(D,E,I){'use strict';function P(dt){return(255&dt>>>24)+(65280&dt>>>8)+((65280&dt)<<8)+((255&dt)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ne.Buf16(320),this.work=new ne.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R(dt){var ut;return dt&&dt.state?(ut=dt.state,dt.total_in=dt.total_out=ut.total=0,dt.msg='',ut.wrap&&(dt.adler=1&ut.wrap),ut.mode=we,ut.last=0,ut.havedict=0,ut.dmax=32768,ut.head=null,ut.hold=0,ut.bits=0,ut.lencode=ut.lendyn=new ne.Buf32(tt),ut.distcode=ut.distdyn=new ne.Buf32(it),ut.sane=1,ut.back=-1,me):xe}function F(dt){var ut;return dt&&dt.state?(ut=dt.state,ut.wsize=0,ut.whave=0,ut.wnext=0,R(dt)):xe}function O(dt,ut){var ct,pt;return dt&&dt.state?(pt=dt.state,0>ut?(ct=0,ut=-ut):(ct=(ut>>4)+1,48>ut&&(ut&=15)),ut&&(8>ut||15<ut))?xe:(null!==pt.window&&pt.wbits!==ut&&(pt.window=null),pt.wrap=ct,pt.wbits=ut,F(dt)):xe}function $(dt,ut){var ct,pt;return dt?(pt=new T,dt.state=pt,pt.window=null,ct=O(dt,ut),ct!==me&&(dt.state=null),ct):xe}function W(dt){if(st){var ut;for(at=new ne.Buf32(512),lt=new ne.Buf32(32),ut=0;144>ut;)dt.lens[ut++]=8;for(;256>ut;)dt.lens[ut++]=9;for(;280>ut;)dt.lens[ut++]=7;for(;288>ut;)dt.lens[ut++]=8;for(le(ue,dt.lens,0,288,at,0,dt.work,{bits:9}),ut=0;32>ut;)dt.lens[ut++]=5;le(ce,dt.lens,0,32,lt,0,dt.work,{bits:5}),st=!1}dt.lencode=at,dt.lenbits=9,dt.distcode=lt,dt.distbits=5}function K(dt,ut,ct,pt){var gt=dt.state,ht;return null===gt.window&&(gt.wsize=1<<gt.wbits,gt.wnext=0,gt.whave=0,gt.window=new ne.Buf8(gt.wsize)),pt>=gt.wsize?(ne.arraySet(gt.window,ut,ct-gt.wsize,gt.wsize,0),gt.wnext=0,gt.whave=gt.wsize):(ht=gt.wsize-gt.wnext,ht>pt&&(ht=pt),ne.arraySet(gt.window,ut,ct-pt,ht,gt.wnext),pt-=ht,pt?(ne.arraySet(gt.window,ut,ct-pt,pt,0),gt.wnext=pt,gt.whave=gt.wsize):(gt.wnext+=ht,gt.wnext===gt.wsize&&(gt.wnext=0),gt.whave<gt.wsize&&(gt.whave+=ht))),0}var ne=I(3),oe=I(62),se=I(64),ae=I(181),le=I(183),ue=1,ce=2,pe=4,ge=6,me=0,xe=-2,be=-3,_e=-4,je=8,we=1,Ce=2,ve=3,Se=4,De=5,Ee=6,Ae=7,Ie=8,He=9,Pe=10,Te=11,Re=12,Fe=13,Me=14,ze=15,Oe=16,Xe=17,Ne=18,Ye=19,Le=20,Ue=21,Be=22,qe=23,Ve=24,$e=25,Ze=26,We=27,Ke=28,Qe=29,Ge=30,Je=31,tt=852,it=592,st=!0,at,lt;E.inflateReset=F,E.inflateReset2=O,E.inflateResetKeep=R,E.inflateInit=function(dt){return $(dt,15)},E.inflateInit2=$,E.inflate=function(dt,ut){var St=0,Ft=new ne.Buf8(4),Ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ct,pt,ht,gt,mt,yt,xt,bt,_t,kt,jt,wt,Ct,vt,Dt,Et,At,It,Ht,Pt,Tt,Rt,Mt,zt;if(!dt||!dt.state||!dt.output||!dt.input&&0!==dt.avail_in)return xe;ct=dt.state,ct.mode===Re&&(ct.mode=Fe),mt=dt.next_out,ht=dt.output,xt=dt.avail_out,gt=dt.next_in,pt=dt.input,yt=dt.avail_in,bt=ct.hold,_t=ct.bits,kt=yt,jt=xt,Rt=me;inf_leave:for(;;)switch(ct.mode){case we:if(0===ct.wrap){ct.mode=Fe;break}for(;16>_t;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}if(2&ct.wrap&&35615===bt){ct.check=0,Ft[0]=255&bt,Ft[1]=255&bt>>>8,ct.check=se(ct.check,Ft,2,0),bt=0,_t=0,ct.mode=Ce;break}if(ct.flags=0,ct.head&&(ct.head.done=!1),!(1&ct.wrap)||(((255&bt)<<8)+(bt>>8))%31){dt.msg='incorrect header check',ct.mode=Ge;break}if((15&bt)!=je){dt.msg='unknown compression method',ct.mode=Ge;break}if(bt>>>=4,_t-=4,Tt=(15&bt)+8,0===ct.wbits)ct.wbits=Tt;else if(Tt>ct.wbits){dt.msg='invalid window size',ct.mode=Ge;break}ct.dmax=1<<Tt,dt.adler=ct.check=1,ct.mode=512&bt?Pe:Re,bt=0,_t=0;break;case Ce:for(;16>_t;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}if(ct.flags=bt,(255&ct.flags)!=je){dt.msg='unknown compression method',ct.mode=Ge;break}if(57344&ct.flags){dt.msg='unknown header flags set',ct.mode=Ge;break}ct.head&&(ct.head.text=1&bt>>8),512&ct.flags&&(Ft[0]=255&bt,Ft[1]=255&bt>>>8,ct.check=se(ct.check,Ft,2,0)),bt=0,_t=0,ct.mode=ve;case ve:for(;32>_t;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}ct.head&&(ct.head.time=bt),512&ct.flags&&(Ft[0]=255&bt,Ft[1]=255&bt>>>8,Ft[2]=255&bt>>>16,Ft[3]=255&bt>>>24,ct.check=se(ct.check,Ft,4,0)),bt=0,_t=0,ct.mode=Se;case Se:for(;16>_t;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}ct.head&&(ct.head.xflags=255&bt,ct.head.os=bt>>8),512&ct.flags&&(Ft[0]=255&bt,Ft[1]=255&bt>>>8,ct.check=se(ct.check,Ft,2,0)),bt=0,_t=0,ct.mode=De;case De:if(1024&ct.flags){for(;16>_t;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}ct.length=bt,ct.head&&(ct.head.extra_len=bt),512&ct.flags&&(Ft[0]=255&bt,Ft[1]=255&bt>>>8,ct.check=se(ct.check,Ft,2,0)),bt=0,_t=0}else ct.head&&(ct.head.extra=null);ct.mode=Ee;case Ee:if(1024&ct.flags&&(wt=ct.length,wt>yt&&(wt=yt),wt&&(ct.head&&(Tt=ct.head.extra_len-ct.length,!ct.head.extra&&(ct.head.extra=Array(ct.head.extra_len)),ne.arraySet(ct.head.extra,pt,gt,wt,Tt)),512&ct.flags&&(ct.check=se(ct.check,pt,wt,gt)),yt-=wt,gt+=wt,ct.length-=wt),ct.length))break inf_leave;ct.length=0,ct.mode=Ae;case Ae:if(2048&ct.flags){if(0===yt)break inf_leave;wt=0;do Tt=pt[gt+wt++],ct.head&&Tt&&65536>ct.length&&(ct.head.name+=_StringfromCharCode(Tt));while(Tt&&wt<yt);if(512&ct.flags&&(ct.check=se(ct.check,pt,wt,gt)),yt-=wt,gt+=wt,Tt)break inf_leave}else ct.head&&(ct.head.name=null);ct.length=0,ct.mode=Ie;case Ie:if(4096&ct.flags){if(0===yt)break inf_leave;wt=0;do Tt=pt[gt+wt++],ct.head&&Tt&&65536>ct.length&&(ct.head.comment+=_StringfromCharCode(Tt));while(Tt&&wt<yt);if(512&ct.flags&&(ct.check=se(ct.check,pt,wt,gt)),yt-=wt,gt+=wt,Tt)break inf_leave}else ct.head&&(ct.head.comment=null);ct.mode=He;case He:if(512&ct.flags){for(;16>_t;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}if(bt!==(65535&ct.check)){dt.msg='header crc mismatch',ct.mode=Ge;break}bt=0,_t=0}ct.head&&(ct.head.hcrc=1&ct.flags>>9,ct.head.done=!0),dt.adler=ct.check=0,ct.mode=Re;break;case Pe:for(;32>_t;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}dt.adler=ct.check=P(bt),bt=0,_t=0,ct.mode=Te;case Te:if(0===ct.havedict)return dt.next_out=mt,dt.avail_out=xt,dt.next_in=gt,dt.avail_in=yt,ct.hold=bt,ct.bits=_t,2;dt.adler=ct.check=1,ct.mode=Re;case Re:if(ut===5||ut===ge)break inf_leave;case Fe:if(ct.last){bt>>>=7&_t,_t-=7&_t,ct.mode=We;break}for(;3>_t;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}switch(ct.last=1&bt,bt>>>=1,_t-=1,3&bt){case 0:ct.mode=Me;break;case 1:if(W(ct),ct.mode=Le,ut===ge){bt>>>=2,_t-=2;break inf_leave}break;case 2:ct.mode=Xe;break;case 3:dt.msg='invalid block type',ct.mode=Ge;}bt>>>=2,_t-=2;break;case Me:for(bt>>>=7&_t,_t-=7&_t;32>_t;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}if((65535&bt)!=(65535^bt>>>16)){dt.msg='invalid stored block lengths',ct.mode=Ge;break}if(ct.length=65535&bt,bt=0,_t=0,ct.mode=ze,ut===ge)break inf_leave;case ze:ct.mode=Oe;case Oe:if(wt=ct.length,wt){if(wt>yt&&(wt=yt),wt>xt&&(wt=xt),0===wt)break inf_leave;ne.arraySet(ht,pt,gt,wt,mt),yt-=wt,gt+=wt,xt-=wt,mt+=wt,ct.length-=wt;break}ct.mode=Re;break;case Xe:for(;14>_t;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}if(ct.nlen=(31&bt)+257,bt>>>=5,_t-=5,ct.ndist=(31&bt)+1,bt>>>=5,_t-=5,ct.ncode=(15&bt)+4,bt>>>=4,_t-=4,286<ct.nlen||30<ct.ndist){dt.msg='too many length or distance symbols',ct.mode=Ge;break}ct.have=0,ct.mode=Ne;case Ne:for(;ct.have<ct.ncode;){for(;3>_t;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}ct.lens[Ot[ct.have++]]=7&bt,bt>>>=3,_t-=3}for(;19>ct.have;)ct.lens[Ot[ct.have++]]=0;if(ct.lencode=ct.lendyn,ct.lenbits=7,Mt={bits:ct.lenbits},Rt=le(0,ct.lens,0,19,ct.lencode,0,ct.work,Mt),ct.lenbits=Mt.bits,Rt){dt.msg='invalid code lengths set',ct.mode=Ge;break}ct.have=0,ct.mode=Ye;case Ye:for(;ct.have<ct.nlen+ct.ndist;){for(;;){if(St=ct.lencode[bt&(1<<ct.lenbits)-1],Dt=St>>>24,Et=255&St>>>16,At=65535&St,Dt<=_t)break;if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}if(16>At)bt>>>=Dt,_t-=Dt,ct.lens[ct.have++]=At;else{if(16===At){for(zt=Dt+2;_t<zt;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}if(bt>>>=Dt,_t-=Dt,0===ct.have){dt.msg='invalid bit length repeat',ct.mode=Ge;break}Tt=ct.lens[ct.have-1],wt=3+(3&bt),bt>>>=2,_t-=2}else if(17===At){for(zt=Dt+3;_t<zt;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}bt>>>=Dt,_t-=Dt,Tt=0,wt=3+(7&bt),bt>>>=3,_t-=3}else{for(zt=Dt+7;_t<zt;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}bt>>>=Dt,_t-=Dt,Tt=0,wt=11+(127&bt),bt>>>=7,_t-=7}if(ct.have+wt>ct.nlen+ct.ndist){dt.msg='invalid bit length repeat',ct.mode=Ge;break}for(;wt--;)ct.lens[ct.have++]=Tt}}if(ct.mode===Ge)break;if(0===ct.lens[256]){dt.msg='invalid code -- missing end-of-block',ct.mode=Ge;break}if(ct.lenbits=9,Mt={bits:ct.lenbits},Rt=le(ue,ct.lens,0,ct.nlen,ct.lencode,0,ct.work,Mt),ct.lenbits=Mt.bits,Rt){dt.msg='invalid literal/lengths set',ct.mode=Ge;break}if(ct.distbits=6,ct.distcode=ct.distdyn,Mt={bits:ct.distbits},Rt=le(ce,ct.lens,ct.nlen,ct.ndist,ct.distcode,0,ct.work,Mt),ct.distbits=Mt.bits,Rt){dt.msg='invalid distances set',ct.mode=Ge;break}if(ct.mode=Le,ut===ge)break inf_leave;case Le:ct.mode=Ue;case Ue:if(6<=yt&&258<=xt){dt.next_out=mt,dt.avail_out=xt,dt.next_in=gt,dt.avail_in=yt,ct.hold=bt,ct.bits=_t,ae(dt,jt),mt=dt.next_out,ht=dt.output,xt=dt.avail_out,gt=dt.next_in,pt=dt.input,yt=dt.avail_in,bt=ct.hold,_t=ct.bits,ct.mode===Re&&(ct.back=-1);break}for(ct.back=0;;){if(St=ct.lencode[bt&(1<<ct.lenbits)-1],Dt=St>>>24,Et=255&St>>>16,At=65535&St,Dt<=_t)break;if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}if(Et&&0==(240&Et)){for(It=Dt,Ht=Et,Pt=At;;){if(St=ct.lencode[Pt+((bt&(1<<It+Ht)-1)>>It)],Dt=St>>>24,Et=255&St>>>16,At=65535&St,It+Dt<=_t)break;if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}bt>>>=It,_t-=It,ct.back+=It}if(bt>>>=Dt,_t-=Dt,ct.back+=Dt,ct.length=At,0===Et){ct.mode=Ze;break}if(32&Et){ct.back=-1,ct.mode=Re;break}if(64&Et){dt.msg='invalid literal/length code',ct.mode=Ge;break}ct.extra=15&Et,ct.mode=Be;case Be:if(ct.extra){for(zt=ct.extra;_t<zt;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}ct.length+=bt&(1<<ct.extra)-1,bt>>>=ct.extra,_t-=ct.extra,ct.back+=ct.extra}ct.was=ct.length,ct.mode=qe;case qe:for(;;){if(St=ct.distcode[bt&(1<<ct.distbits)-1],Dt=St>>>24,Et=255&St>>>16,At=65535&St,Dt<=_t)break;if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}if(0==(240&Et)){for(It=Dt,Ht=Et,Pt=At;;){if(St=ct.distcode[Pt+((bt&(1<<It+Ht)-1)>>It)],Dt=St>>>24,Et=255&St>>>16,At=65535&St,It+Dt<=_t)break;if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}bt>>>=It,_t-=It,ct.back+=It}if(bt>>>=Dt,_t-=Dt,ct.back+=Dt,64&Et){dt.msg='invalid distance code',ct.mode=Ge;break}ct.offset=At,ct.extra=15&Et,ct.mode=Ve;case Ve:if(ct.extra){for(zt=ct.extra;_t<zt;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}ct.offset+=bt&(1<<ct.extra)-1,bt>>>=ct.extra,_t-=ct.extra,ct.back+=ct.extra}if(ct.offset>ct.dmax){dt.msg='invalid distance too far back',ct.mode=Ge;break}ct.mode=$e;case $e:if(0===xt)break inf_leave;if(wt=jt-xt,ct.offset>wt){if(wt=ct.offset-wt,wt>ct.whave&&ct.sane){dt.msg='invalid distance too far back',ct.mode=Ge;break}wt>ct.wnext?(wt-=ct.wnext,Ct=ct.wsize-wt):Ct=ct.wnext-wt,wt>ct.length&&(wt=ct.length),vt=ct.window}else vt=ht,Ct=mt-ct.offset,wt=ct.length;wt>xt&&(wt=xt),xt-=wt,ct.length-=wt;do ht[mt++]=vt[Ct++];while(--wt);0===ct.length&&(ct.mode=Ue);break;case Ze:if(0===xt)break inf_leave;ht[mt++]=ct.length,xt--,ct.mode=Ue;break;case We:if(ct.wrap){for(;32>_t;){if(0===yt)break inf_leave;yt--,bt|=pt[gt++]<<_t,_t+=8}if(jt-=xt,dt.total_out+=jt,ct.total+=jt,jt&&(dt.adler=ct.check=ct.flags?se(ct.check,ht,jt,mt-jt):oe(ct.check,ht,jt,mt-jt)),jt=xt,(ct.flags?bt:P(bt))!==ct.check){dt.msg='incorrect data check',ct.mode=Ge;break}bt=0,_t=0}ct.mode=Ke;case Ke:if(ct.wrap&&ct.flags){for(;32>_t;){if(0===yt)break inf_leave;yt--,bt+=pt[gt++]<<_t,_t+=8}if(bt!==(4294967295&ct.total)){dt.msg='incorrect length check',ct.mode=Ge;break}bt=0,_t=0}ct.mode=Qe;case Qe:Rt=1;break inf_leave;case Ge:Rt=be;break inf_leave;case Je:return _e;case 32:default:return xe;}return(dt.next_out=mt,dt.avail_out=xt,dt.next_in=gt,dt.avail_in=yt,ct.hold=bt,ct.bits=_t,(ct.wsize||jt!==dt.avail_out&&ct.mode<Ge&&(ct.mode<We||ut!==pe))&&K(dt,dt.output,dt.next_out,jt-dt.avail_out))?(ct.mode=Je,_e):(kt-=dt.avail_in,jt-=dt.avail_out,dt.total_in+=kt,dt.total_out+=jt,ct.total+=jt,ct.wrap&&jt&&(dt.adler=ct.check=ct.flags?se(ct.check,ht,jt,dt.next_out-jt):oe(ct.check,ht,jt,dt.next_out-jt)),dt.data_type=ct.bits+(ct.last?64:0)+(ct.mode===Re?128:0)+(ct.mode===Le||ct.mode===ze?256:0),(0===kt&&0===jt||ut===pe)&&Rt===me&&(Rt=-5),Rt)},E.inflateEnd=function(dt){if(!dt||!dt.state)return xe;var ut=dt.state;return ut.window&&(ut.window=null),dt.state=null,me},E.inflateGetHeader=function(dt,ut){var ct;return dt&&dt.state?(ct=dt.state,0==(2&ct.wrap))?xe:(ct.head=ut,ut.done=!1,me):xe},E.inflateSetDictionary=function(dt,ut){var ct=ut.length,pt,ht,gt;return dt&&dt.state?(pt=dt.state,0!==pt.wrap&&pt.mode!==Te)?xe:pt.mode===Te&&(ht=1,ht=oe(ht,ut,ct,0),ht!==pt.check)?be:(gt=K(dt,ut,ct,ct),gt)?(pt.mode=Je,_e):(pt.havedict=1,me):xe},E.inflateInfo='pako inflate (from Nodeca project)'},function(D,E,I){'use strict';var P=I(3),T=15,R=852,F=592,O=0,$=1,Z=2,W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],K=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],G=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];D.exports=function(te,ne,oe,se,ae,le,de,ue){var ce=ue.bits,pe=0,he=0,ge=0,me=0,fe=0,ye=0,xe=0,be=0,_e=0,ke=0,De=null,Ee=0,Ie=new P.Buf16(T+1),He=new P.Buf16(T+1),Pe=null,Te=0,je,we,Ce,ve,Se,Ae,Re,Fe,Me;for(pe=0;pe<=T;pe++)Ie[pe]=0;for(he=0;he<se;he++)Ie[ne[oe+he]]++;for(fe=ce,me=T;1<=me&&0===Ie[me];me--);if(fe>me&&(fe=me),0==me)return ae[le++]=20971520,ae[le++]=20971520,ue.bits=1,0;for(ge=1;ge<me&&0===Ie[ge];ge++);for(fe<ge&&(fe=ge),be=1,pe=1;pe<=T;pe++)if(be<<=1,be-=Ie[pe],0>be)return-1;if(0<be&&(te===O||1!=me))return-1;for(He[1]=0,pe=1;pe<T;pe++)He[pe+1]=He[pe]+Ie[pe];for(he=0;he<se;he++)0!==ne[oe+he]&&(de[He[ne[oe+he]]++]=he);if(te===O?(De=Pe=de,Ae=19):te===$?(De=W,Ee-=257,Pe=K,Te-=257,Ae=256):(De=Q,Pe=G,Ae=-1),ke=0,he=0,pe=ge,Se=le,ye=fe,xe=0,Ce=-1,_e=1<<fe,ve=_e-1,te===$&&_e>R||te===Z&&_e>F)return 1;for(;;){Re=pe-xe,de[he]<Ae?(Fe=0,Me=de[he]):de[he]>Ae?(Fe=Pe[Te+de[he]],Me=De[Ee+de[he]]):(Fe=96,Me=0),je=1<<pe-xe,we=1<<ye,ge=we;do we-=je,ae[Se+(ke>>xe)+we]=0|(Re<<24|Fe<<16|Me);while(0!==we);for(je=1<<pe-1;ke&je;)je>>=1;if(0===je?ke=0:(ke&=je-1,ke+=je),he++,0==--Ie[pe]){if(pe==me)break;pe=ne[oe+de[he]]}if(pe>fe&&(ke&ve)!==Ce){for(0==xe&&(xe=fe),Se+=ge,ye=pe-xe,be=1<<ye;ye+xe<me&&(be-=Ie[ye+xe],!(0>=be));)ye++,be<<=1;if(_e+=1<<ye,te===$&&_e>R||te===Z&&_e>F)return 1;Ce=ke&ve,ae[Ce]=0|(fe<<24|ye<<16|Se-le)}}return 0!==ke&&(ae[Se+ke]=0|(4194304|pe-xe<<24)),ue.bits=fe,0}},function(D,E,I){'use strict';function P(ot){for(var st=ot.length;0<=--st;)ot[st]=0}function T(ot,st,at,lt,dt){this.static_tree=ot,this.extra_bits=st,this.extra_base=at,this.elems=lt,this.max_length=dt,this.has_stree=ot&&ot.length}function R(ot,st){this.dyn_tree=ot,this.max_code=0,this.stat_desc=st}function F(ot){return 256>ot?Ke[ot]:Ke[256+(ot>>>7)]}function O(ot,st){ot.pending_buf[ot.pending++]=255&st,ot.pending_buf[ot.pending++]=255&st>>>8}function $(ot,st,at){ot.bi_valid>ze-at?(ot.bi_buf|=65535&st<<ot.bi_valid,O(ot,ot.bi_buf),ot.bi_buf=st>>ze-ot.bi_valid,ot.bi_valid+=at-ze):(ot.bi_buf|=65535&st<<ot.bi_valid,ot.bi_valid+=at)}function Z(ot,st,at){$(ot,at[2*st],at[2*st+1])}function W(ot,st){var at=0;do at|=1&ot,ot>>>=1,at<<=1;while(0<--st);return at>>>1}function K(ot){16===ot.bi_valid?(O(ot,ot.bi_buf),ot.bi_buf=0,ot.bi_valid=0):8<=ot.bi_valid&&(ot.pending_buf[ot.pending++]=255&ot.bi_buf,ot.bi_buf>>=8,ot.bi_valid-=8)}function Q(ot,st){var at=st.dyn_tree,lt=st.max_code,dt=st.stat_desc.static_tree,ut=st.stat_desc.has_stree,ct=st.stat_desc.extra_bits,pt=st.stat_desc.extra_base,ht=st.stat_desc.max_length,gt,mt,yt,xt,bt,_t,kt=0;for(xt=0;xt<=Me;xt++)ot.bl_count[xt]=0;for(at[2*ot.heap[ot.heap_max]+1]=0,gt=ot.heap_max+1;gt<Fe;gt++)(mt=ot.heap[gt],xt=at[2*at[2*mt+1]+1]+1,xt>ht&&(xt=ht,kt++),at[2*mt+1]=xt,!(mt>lt))&&(ot.bl_count[xt]++,bt=0,mt>=pt&&(bt=ct[mt-pt]),_t=at[2*mt],ot.opt_len+=_t*(xt+bt),ut&&(ot.static_len+=_t*(dt[2*mt+1]+bt)));if(0!=kt){do{for(xt=ht-1;0===ot.bl_count[xt];)xt--;ot.bl_count[xt]--,ot.bl_count[xt+1]+=2,ot.bl_count[ht]--,kt-=2}while(0<kt);for(xt=ht;0!==xt;xt--)for(mt=ot.bl_count[xt];0!==mt;)(yt=ot.heap[--gt],!(yt>lt))&&(at[2*yt+1]!==xt&&(ot.opt_len+=(xt-at[2*yt+1])*at[2*yt],at[2*yt+1]=xt),mt--)}}function G(ot,st,at){var lt=Array(Me+1),dt=0,ut,ct;for(ut=1;ut<=Me;ut++)lt[ut]=dt=dt+at[ut-1]<<1;for(ct=0;ct<=st;ct++){var pt=ot[2*ct+1];0!==pt&&(ot[2*ct]=W(lt[pt]++,pt))}}function ee(){var ot,st,at,lt,dt,ut=Array(Me+1);for(at=0,lt=0;lt<Ie-1;lt++)for(Ge[lt]=at,ot=0;ot<1<<Ue[lt];ot++)Qe[at++]=lt;for(Qe[at-1]=lt,dt=0,lt=0;16>lt;lt++)for(Je[lt]=dt,ot=0;ot<1<<Be[lt];ot++)Ke[dt++]=lt;for(dt>>=7;lt<Te;lt++)for(Je[lt]=dt<<7,ot=0;ot<1<<Be[lt]-7;ot++)Ke[256+dt++]=lt;for(st=0;st<=Me;st++)ut[st]=0;for(ot=0;143>=ot;)Ze[2*ot+1]=8,ot++,ut[8]++;for(;255>=ot;)Ze[2*ot+1]=9,ot++,ut[9]++;for(;279>=ot;)Ze[2*ot+1]=7,ot++,ut[7]++;for(;287>=ot;)Ze[2*ot+1]=8,ot++,ut[8]++;for(G(Ze,Pe+1,ut),ot=0;ot<Te;ot++)We[2*ot+1]=5,We[2*ot]=W(ot,5);et=new T(Ze,Ue,He+1,Pe,Me),tt=new T(We,Be,0,Te,Me),it=new T([],qe,0,Re,Oe)}function te(ot){var st;for(st=0;st<Pe;st++)ot.dyn_ltree[2*st]=0;for(st=0;st<Te;st++)ot.dyn_dtree[2*st]=0;for(st=0;st<Re;st++)ot.bl_tree[2*st]=0;ot.dyn_ltree[2*Xe]=1,ot.opt_len=ot.static_len=0,ot.last_lit=ot.matches=0}function ne(ot){8<ot.bi_valid?O(ot,ot.bi_buf):0<ot.bi_valid&&(ot.pending_buf[ot.pending++]=ot.bi_buf),ot.bi_buf=0,ot.bi_valid=0}function oe(ot,st,at,lt){ne(ot),lt&&(O(ot,at),O(ot,~at)),_e.arraySet(ot.pending_buf,ot.window,st,at,ot.pending),ot.pending+=at}function se(ot,st,at,lt){var dt=2*st,ut=2*at;return ot[dt]<ot[ut]||ot[dt]===ot[ut]&&lt[st]<=lt[at]}function ae(ot,st,at){for(var lt=ot.heap[at],dt=at<<1;dt<=ot.heap_len&&(dt<ot.heap_len&&se(st,ot.heap[dt+1],ot.heap[dt],ot.depth)&&dt++,!se(st,lt,ot.heap[dt],ot.depth));)ot.heap[at]=ot.heap[dt],at=dt,dt<<=1;ot.heap[at]=lt}function le(ot,st,at){var lt,dt,ut=0,ct,pt;if(0!==ot.last_lit)do lt=ot.pending_buf[ot.d_buf+2*ut]<<8|ot.pending_buf[ot.d_buf+2*ut+1],dt=ot.pending_buf[ot.l_buf+ut],ut++,0===lt?Z(ot,dt,st):(ct=Qe[dt],Z(ot,ct+He+1,st),pt=Ue[ct],0!==pt&&(dt-=Ge[ct],$(ot,dt,pt)),lt--,ct=F(lt),Z(ot,ct,at),pt=Be[ct],0!==pt&&(lt-=Je[ct],$(ot,lt,pt)));while(ut<ot.last_lit);Z(ot,Xe,st)}function de(ot,st){var at=st.dyn_tree,lt=st.stat_desc.static_tree,dt=st.stat_desc.has_stree,ut=st.stat_desc.elems,ct,pt,ht=-1,gt;for(ot.heap_len=0,ot.heap_max=Fe,ct=0;ct<ut;ct++)0===at[2*ct]?at[2*ct+1]=0:(ot.heap[++ot.heap_len]=ht=ct,ot.depth[ct]=0);for(;2>ot.heap_len;)gt=ot.heap[++ot.heap_len]=2>ht?++ht:0,at[2*gt]=1,ot.depth[gt]=0,ot.opt_len--,dt&&(ot.static_len-=lt[2*gt+1]);for(st.max_code=ht,ct=ot.heap_len>>1;1<=ct;ct--)ae(ot,at,ct);gt=ut;do ct=ot.heap[1],ot.heap[1]=ot.heap[ot.heap_len--],ae(ot,at,1),pt=ot.heap[1],ot.heap[--ot.heap_max]=ct,ot.heap[--ot.heap_max]=pt,at[2*gt]=at[2*ct]+at[2*pt],ot.depth[gt]=(ot.depth[ct]>=ot.depth[pt]?ot.depth[ct]:ot.depth[pt])+1,at[2*ct+1]=at[2*pt+1]=gt,ot.heap[1]=gt++,ae(ot,at,1);while(2<=ot.heap_len);ot.heap[--ot.heap_max]=ot.heap[1],Q(ot,st),G(at,ht,ot.bl_count)}function ue(ot,st,at){var lt,dt=-1,ut,ct=st[1],pt=0,ht=7,gt=4;for(0===ct&&(ht=138,gt=3),st[2*(at+1)+1]=65535,lt=0;lt<=at;lt++){if(ut=ct,ct=st[2*(lt+1)+1],++pt<ht&&ut===ct)continue;else pt<gt?ot.bl_tree[2*ut]+=pt:0===ut?10>=pt?ot.bl_tree[2*Ye]++:ot.bl_tree[2*Le]++:(ut!==dt&&ot.bl_tree[2*ut]++,ot.bl_tree[2*Ne]++);pt=0,dt=ut,0===ct?(ht=138,gt=3):ut===ct?(ht=6,gt=3):(ht=7,gt=4)}}function ce(ot,st,at){var lt,dt=-1,ut,ct=st[1],pt=0,ht=7,gt=4;for(0===ct&&(ht=138,gt=3),lt=0;lt<=at;lt++){if(ut=ct,ct=st[2*(lt+1)+1],++pt<ht&&ut===ct)continue;else if(pt<gt)do Z(ot,ut,ot.bl_tree);while(0!=--pt);else 0===ut?10>=pt?(Z(ot,Ye,ot.bl_tree),$(ot,pt-3,3)):(Z(ot,Le,ot.bl_tree),$(ot,pt-11,7)):(ut!==dt&&(Z(ot,ut,ot.bl_tree),pt--),Z(ot,Ne,ot.bl_tree),$(ot,pt-3,2));pt=0,dt=ut,0===ct?(ht=138,gt=3):ut===ct?(ht=6,gt=3):(ht=7,gt=4)}}function pe(ot){var st;for(ue(ot,ot.dyn_ltree,ot.l_desc.max_code),ue(ot,ot.dyn_dtree,ot.d_desc.max_code),de(ot,ot.bl_desc),st=Re-1;3<=st&&0===ot.bl_tree[2*Ve[st]+1];st--);return ot.opt_len+=3*(st+1)+5+5+4,st}function he(ot,st,at,lt){var dt;for($(ot,st-257,5),$(ot,at-1,5),$(ot,lt-4,4),dt=0;dt<lt;dt++)$(ot,ot.bl_tree[2*Ve[dt]+1],3);ce(ot,ot.dyn_ltree,st-1),ce(ot,ot.dyn_dtree,at-1)}function ge(ot){var st=4093624447,at;for(at=0;31>=at;at++,st>>>=1)if(1&st&&0!==ot.dyn_ltree[2*at])return je;if(0!==ot.dyn_ltree[18]||0!==ot.dyn_ltree[20]||0!==ot.dyn_ltree[26])return we;for(at=32;at<He;at++)if(0!==ot.dyn_ltree[2*at])return we;return je}function fe(ot,st,at,lt){$(ot,(ve<<1)+(lt?1:0),3),oe(ot,st,at,!0)}var _e=I(3),je=0,we=1,ve=0,Se=1,Ie=29,He=256,Pe=He+1+Ie,Te=30,Re=19,Fe=2*Pe+1,Me=15,ze=16,Oe=7,Xe=256,Ne=16,Ye=17,Le=18,Ue=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Be=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ze=Array(2*(Pe+2));P(Ze);var We=Array(2*Te);P(We);var Ke=Array(512);P(Ke);var Qe=Array(258-3+1);P(Qe);var Ge=Array(Ie);P(Ge);var Je=Array(Te);P(Je);var et,tt,it,nt=!1;E._tr_init=function(ot){nt||(ee(),nt=!0),ot.l_desc=new R(ot.dyn_ltree,et),ot.d_desc=new R(ot.dyn_dtree,tt),ot.bl_desc=new R(ot.bl_tree,it),ot.bi_buf=0,ot.bi_valid=0,te(ot)},E._tr_stored_block=fe,E._tr_flush_block=function(ot,st,at,lt){var dt,ut,ct=0;0<ot.level?(ot.strm.data_type===2&&(ot.strm.data_type=ge(ot)),de(ot,ot.l_desc),de(ot,ot.d_desc),ct=pe(ot),dt=ot.opt_len+3+7>>>3,ut=ot.static_len+3+7>>>3,ut<=dt&&(dt=ut)):dt=ut=at+5,at+4<=dt&&-1!==st?fe(ot,st,at,lt):ot.strategy===4||ut===dt?($(ot,(Se<<1)+(lt?1:0),3),le(ot,Ze,We)):($(ot,(2<<1)+(lt?1:0),3),he(ot,ot.l_desc.max_code+1,ot.d_desc.max_code+1,ct+1),le(ot,ot.dyn_ltree,ot.dyn_dtree)),te(ot),lt&&ne(ot)},E._tr_tally=function(ot,st,at){return ot.pending_buf[ot.d_buf+2*ot.last_lit]=255&st>>>8,ot.pending_buf[ot.d_buf+2*ot.last_lit+1]=255&st,ot.pending_buf[ot.l_buf+ot.last_lit]=255&at,ot.last_lit++,0===st?ot.dyn_ltree[2*at]++:(ot.matches++,st--,ot.dyn_ltree[2*(Qe[at]+He+1)]++,ot.dyn_dtree[2*F(st)]++),ot.last_lit===ot.lit_bufsize-1},E._tr_align=function(ot){$(ot,Se<<1,3),Z(ot,Xe,Ze),K(ot)}},function(D){D.exports={name:'spectra-data',version:'3.1.0',description:'spectra-data project - manipulate spectra',keywords:['spectra-data','project'],author:'Andres Castillo',contributors:['Micha\xEBl Zasso','Luc Patiny'],repository:'cheminfo-js/spectra-data',bugs:{url:'https://github.com/cheminfo-js/spectra-data/issues'},homepage:'https://github.com/cheminfo-js/spectra-data',license:'MIT',main:'./src/index.js',scripts:{eslint:'eslint src test --cache','eslint-fix':'npm run eslint -- --fix',test:'npm run test-mocha && npm run eslint','test-mocha':'mocha --require should --reporter mocha-better-spec-reporter --recursive src/**/__tests__/**/*.js',build:'cheminfo build'},devDependencies:{'cheminfo-tools':'^1.16.0',eslint:'^3.9.1','eslint-config-cheminfo':'^1.5.2','eslint-plugin-no-only-tests':'^1.1.0',mocha:'^3.1.2','mocha-better-spec-reporter':'^3.0.1','nmr-predictor':'https://github.com/cheminfo-js/nmr-predictor/',should:'^11.1.1'},dependencies:{'babel-core':'^6.24.1','babel-loader':'^7.0.0',brukerconverter:'^1.0.1',jcampconverter:'^2.4.5','ml-array-utils':'^0.3.0','ml-curve-fitting':'0.0.7','ml-fft':'^1.3.5','ml-gsd':'^2.0.1','ml-matrix-peaks-finder':'^0.2.1','ml-simple-clustering':'0.1.0','ml-stat':'^1.3.0','nmr-simulation':'^1.0.0','spectra-data-ranges':'0.0.1','spectra-utilities':'0.0.1'}}}])});
//# sourceMappingURL=spectra-data.min.js.map